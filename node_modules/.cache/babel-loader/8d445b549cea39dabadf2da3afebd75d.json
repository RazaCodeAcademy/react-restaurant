{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState}from\"react\";import{useHistory}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../../BaseUrl\";//functions\nimport{_t,getCookie,tableLoading,getSystemSettings}from\"../../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";//pages & includes\nimport ManageSidebar from\"../ManageSidebar\";//context consumer\nimport{SettingsContext}from\"../../../../../contexts/Settings\";var HeroSection=function HeroSection(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading,generalSettings=_useContext.generalSettings,setGeneralSettings=_useContext.setGeneralSettings,getSettings=_useContext.getSettings,dataPaginating=_useContext.dataPaginating;// States hook here\n//new item\nvar _useState=useState({subHeading1:getSystemSettings(generalSettings,\"hero_sub_1\"),subHeading2:getSystemSettings(generalSettings,\"hero_sub_2\"),heading:getSystemSettings(generalSettings,\"hero_heading\"),image:null}),_useState2=_slicedToArray(_useState,2),newSettings=_useState2[0],setNewSettings=_useState2[1];//useEffect == componentDidMount()\nuseEffect(function(){setNewSettings({subHeading1:getSystemSettings(generalSettings,\"hero_sub_1\"),subHeading2:getSystemSettings(generalSettings,\"hero_sub_2\"),heading:getSystemSettings(generalSettings,\"hero_heading\"),image:null});},[generalSettings]);//on change input field\nvar handleChange=function handleChange(e){setNewSettings(_objectSpread(_objectSpread({},newSettings),{},_defineProperty({},e.target.name,e.target.value)));};//set image hook\nvar handleItemImage=function handleItemImage(e){setNewSettings(_objectSpread(_objectSpread({},newSettings),{},_defineProperty({},e.target.name,e.target.files[0])));};//send req to server\nvar handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);var formData=new FormData();formData.append(\"subHeading1\",newSettings.subHeading1);formData.append(\"heading\",newSettings.heading);formData.append(\"subHeading2\",newSettings.subHeading2);formData.append(\"image\",newSettings.image);var url=BASE_URL+\"/settings/hero-section\";return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){getSettings();setLoading(false);toast.success(\"\".concat(_t(t(\"Section has been updated\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}).catch(function(error){setLoading(false);if(error&&error.response.data.errors){if(error.response.data.errors.image){error.response.data.errors.image.forEach(function(item){if(item===\"Please select a valid image file\"){toast.error(\"\".concat(_t(t(\"Please select a valid image file\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}if(item===\"Please select a file less than 5MB\"){toast.error(\"\".concat(_t(t(\"Please select a file less than 5MB\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}});}}});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Hero Section\")))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(ManageSidebar,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--pos-menu table-bottom-info-hide\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),loading===true?tableLoading():/*#__PURE__*/React.createElement(\"div\",{key:\"smtp-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center t-pt-15 t-pb-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-5 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-capitalize\"},_t(t(\"Hero Section\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3 align-items-center\"}))),/*#__PURE__*/React.createElement(\"form\",{className:\"row card p-2 mx-3 sm-text my-2\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"vat\",className:\"control-label\"},_t(t(\"Sub-heading-1\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control sm-text\",name:\"subHeading1\",onChange:handleChange,value:newSettings.subHeading1,placeholder:\"Best In Town\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"vat\",className:\"control-label\"},_t(t(\"Heading\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"textarea\",{rows:\"3\",type:\"text\",onChange:handleChange,value:newSettings.heading,className:\"form-control sm-text\",name:\"heading\",placeholder:\"Enjoy Our Chicken Burger Fast Food\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"vat\",className:\"control-label\"},_t(t(\"Sub-heading-2\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control sm-text\",name:\"subHeading2\",onChange:handleChange,value:newSettings.subHeading2,placeholder:\"Bacon-Potatos-Bbq Sauce\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"vat\",className:\"control-label\"},_t(t(\"Image\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",onChange:handleItemImage,className:\"form-control sm-text\",name:\"image\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary px-5\",type:\"submit\"},_t(t(\"Save\")))))))))))))));};export default HeroSection;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/website/HeroSection.js"],"names":["React","useEffect","useContext","useState","useHistory","axios","BASE_URL","_t","getCookie","tableLoading","getSystemSettings","useTranslation","Helmet","toast","ManageSidebar","SettingsContext","HeroSection","t","history","loading","setLoading","generalSettings","setGeneralSettings","getSettings","dataPaginating","subHeading1","subHeading2","heading","image","newSettings","setNewSettings","handleChange","e","target","name","value","handleItemImage","files","handleSubmit","preventDefault","formData","FormData","append","url","post","headers","Authorization","then","res","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","catch","error","response","data","errors","forEach","item"],"mappings":"mfAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,wBAAzB,CAEA;AACA,OACEC,EADF,CAEEC,SAFF,CAGEC,YAHF,CAIEC,iBAJF,KAKO,oCALP,CAMA,OAASC,cAAT,KAA+B,eAA/B,CAEA;AACA,OAASC,MAAT,KAAuB,cAAvB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAO,uCAAP,CAEA;AACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CAEA;AACA,OAASC,eAAT,KAAgC,kCAAhC,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,qBACVL,cAAc,EADJ,CAChBM,CADgB,iBAChBA,CADgB,CAExB,GAAMC,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CACA;AAHwB,gBAWpBF,UAAU,CAACa,eAAD,CAXU,CAKtBI,OALsB,aAKtBA,OALsB,CAMtBC,UANsB,aAMtBA,UANsB,CAOtBC,eAPsB,aAOtBA,eAPsB,CAQtBC,kBARsB,aAQtBA,kBARsB,CAStBC,WATsB,aAStBA,WATsB,CAUtBC,cAVsB,aAUtBA,cAVsB,CAaxB;AAEA;AAfwB,cAgBYrB,QAAQ,CAAC,CAC3CsB,WAAW,CAAEf,iBAAiB,CAACW,eAAD,CAAkB,YAAlB,CADa,CAE3CK,WAAW,CAAEhB,iBAAiB,CAACW,eAAD,CAAkB,YAAlB,CAFa,CAG3CM,OAAO,CAAEjB,iBAAiB,CAACW,eAAD,CAAkB,cAAlB,CAHiB,CAI3CO,KAAK,CAAE,IAJoC,CAAD,CAhBpB,wCAgBnBC,WAhBmB,eAgBNC,cAhBM,eAuBxB;AACA7B,SAAS,CAAC,UAAM,CACd6B,cAAc,CAAC,CACbL,WAAW,CAAEf,iBAAiB,CAACW,eAAD,CAAkB,YAAlB,CADjB,CAEbK,WAAW,CAAEhB,iBAAiB,CAACW,eAAD,CAAkB,YAAlB,CAFjB,CAGbM,OAAO,CAAEjB,iBAAiB,CAACW,eAAD,CAAkB,cAAlB,CAHb,CAIbO,KAAK,CAAE,IAJM,CAAD,CAAd,CAMD,CAPQ,CAON,CAACP,eAAD,CAPM,CAAT,CASA;AACA,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BF,cAAc,gCAAMD,WAAN,wBAAoBG,CAAC,CAACC,MAAF,CAASC,IAA7B,CAAoCF,CAAC,CAACC,MAAF,CAASE,KAA7C,GAAd,CACD,CAFD,CAIA;AACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACJ,CAAD,CAAO,CAC7BF,cAAc,gCACTD,WADS,wBAEXG,CAAC,CAACC,MAAF,CAASC,IAFE,CAEKF,CAAC,CAACC,MAAF,CAASI,KAAT,CAAe,CAAf,CAFL,GAAd,CAID,CALD,CAOA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,CAAD,CAAO,CAC1BA,CAAC,CAACO,cAAF,GACAnB,UAAU,CAAC,IAAD,CAAV,CACA,GAAIoB,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,aAAhB,CAA+Bb,WAAW,CAACJ,WAA3C,EACAe,QAAQ,CAACE,MAAT,CAAgB,SAAhB,CAA2Bb,WAAW,CAACF,OAAvC,EACAa,QAAQ,CAACE,MAAT,CAAgB,aAAhB,CAA+Bb,WAAW,CAACH,WAA3C,EACAc,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBb,WAAW,CAACD,KAArC,EACA,GAAMe,CAAAA,GAAG,CAAGrC,QAAQ,CAAG,wBAAvB,CACA,MAAOD,CAAAA,KAAK,CACTuC,IADI,CACCD,GADD,CACMH,QADN,CACgB,CACnBK,OAAO,CAAE,CAAEC,aAAa,kBAAYtC,SAAS,EAArB,CAAf,CADU,CADhB,EAIJuC,IAJI,CAIC,SAACC,GAAD,CAAS,CACbzB,WAAW,GACXH,UAAU,CAAC,KAAD,CAAV,CACAP,KAAK,CAACoC,OAAN,WAAiB1C,EAAE,CAACU,CAAC,CAAC,0BAAD,CAAF,CAAnB,EAAsD,CACpDiC,QAAQ,CAAE,eAD0C,CAEpDC,SAAS,CAAE,KAFyC,CAGpDC,eAAe,CAAE,KAHmC,CAIpDC,YAAY,CAAE,IAJsC,CAKpDC,YAAY,CAAE,IALsC,CAMpDC,SAAS,CAAE,gCANyC,CAAtD,EAQD,CAfI,EAgBJC,KAhBI,CAgBE,SAACC,KAAD,CAAW,CAChBrC,UAAU,CAAC,KAAD,CAAV,CACA,GAAIqC,KAAK,EAAIA,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBC,MAAjC,CAAyC,CACvC,GAAIH,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBC,MAApB,CAA2BhC,KAA/B,CAAsC,CACpC6B,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoBC,MAApB,CAA2BhC,KAA3B,CAAiCiC,OAAjC,CAAyC,SAACC,IAAD,CAAU,CACjD,GAAIA,IAAI,GAAK,kCAAb,CAAiD,CAC/CjD,KAAK,CAAC4C,KAAN,WAAelD,EAAE,CAACU,CAAC,CAAC,kCAAD,CAAF,CAAjB,EAA4D,CAC1DiC,QAAQ,CAAE,eADgD,CAE1DC,SAAS,CAAE,KAF+C,CAG1DC,eAAe,CAAE,KAHyC,CAI1DC,YAAY,CAAE,IAJ4C,CAK1DC,YAAY,CAAE,IAL4C,CAM1DC,SAAS,CAAE,gCAN+C,CAA5D,EAQD,CACD,GAAIO,IAAI,GAAK,oCAAb,CAAmD,CACjDjD,KAAK,CAAC4C,KAAN,WAAelD,EAAE,CAACU,CAAC,CAAC,oCAAD,CAAF,CAAjB,EAA8D,CAC5DiC,QAAQ,CAAE,eADkD,CAE5DC,SAAS,CAAE,KAFiD,CAG5DC,eAAe,CAAE,KAH2C,CAI5DC,YAAY,CAAE,IAJ8C,CAK5DC,YAAY,CAAE,IAL8C,CAM5DC,SAAS,CAAE,gCANiD,CAA9D,EAQD,CACF,CArBD,EAsBD,CACF,CACF,CA5CI,CAAP,CA6CD,CAtDD,CAwDA,mBACE,qDACE,oBAAC,MAAD,mBACE,iCAAQhD,EAAE,CAACU,CAAC,CAAC,cAAD,CAAF,CAAV,CADF,CADF,cAME,4BAAM,EAAE,CAAC,MAAT,CAAgB,qBAAhB,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eAEE,2BAAK,SAAS,CAAC,oCAAf,eACE,oBAAC,aAAD,MADF,CAFF,cAQE,2BAAK,SAAS,CAAC,qCAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,2BACE,SAAS,CAAC,4CADZ,CAEE,qBAFF,eAIE,2BAAK,SAAS,CAAC,iBAAf,eAEE,2BAAK,SAAS,WAAKO,cAAc,EAAI,SAAvB,CAAd,EAFF,CAMGL,OAAO,GAAK,IAAZ,CACCV,YAAY,EADb,cAGC,2BAAK,GAAG,CAAC,WAAT,eACE,2BAAK,SAAS,CAAC,6CAAf,eACE,2BAAK,SAAS,CAAC,mCAAf,eACE,0BAAI,SAAS,CAAC,sBAAd,eACE,0BAAI,SAAS,CAAC,qBAAd,eACE,4BAAM,SAAS,CAAC,4CAAhB,EACGF,EAAE,CAACU,CAAC,CAAC,cAAD,CAAF,CADL,CADF,CADF,CADF,CADF,cAUE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,6BAAf,EADF,CAVF,CADF,cAiBE,4BACE,SAAS,CAAC,gCADZ,CAEE,QAAQ,CAAEqB,YAFZ,eAIE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,OAAO,CAAC,KAAf,CAAqB,SAAS,CAAC,eAA/B,EACG/B,EAAE,CAACU,CAAC,CAAC,eAAD,CAAF,CADL,CADF,CADF,cAME,2BAAK,SAAS,CAAC,MAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,sBAFZ,CAGE,IAAI,CAAC,aAHP,CAIE,QAAQ,CAAEc,YAJZ,CAKE,KAAK,CAAEF,WAAW,CAACJ,WALrB,CAME,WAAW,CAAC,cANd,CAOE,QAAQ,KAPV,EADF,CANF,CAJF,cAuBE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,OAAO,CAAC,KAAf,CAAqB,SAAS,CAAC,eAA/B,EACGlB,EAAE,CAACU,CAAC,CAAC,SAAD,CAAF,CADL,CADF,CADF,cAME,2BAAK,SAAS,CAAC,MAAf,eACE,gCACE,IAAI,CAAC,GADP,CAEE,IAAI,CAAC,MAFP,CAGE,QAAQ,CAAEc,YAHZ,CAIE,KAAK,CAAEF,WAAW,CAACF,OAJrB,CAKE,SAAS,CAAC,sBALZ,CAME,IAAI,CAAC,SANP,CAOE,WAAW,CAAC,oCAPd,CAQE,QAAQ,KARV,EADF,CANF,CAvBF,cA2CE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,OAAO,CAAC,KAAf,CAAqB,SAAS,CAAC,eAA/B,EACGpB,EAAE,CAACU,CAAC,CAAC,eAAD,CAAF,CADL,CADF,CADF,cAME,2BAAK,SAAS,CAAC,MAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,sBAFZ,CAGE,IAAI,CAAC,aAHP,CAIE,QAAQ,CAAEc,YAJZ,CAKE,KAAK,CAAEF,WAAW,CAACH,WALrB,CAME,WAAW,CAAC,yBANd,CAOE,QAAQ,KAPV,EADF,CANF,CA3CF,cA8DE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,OAAO,CAAC,KAAf,CAAqB,SAAS,CAAC,eAA/B,EACGnB,EAAE,CAACU,CAAC,CAAC,OAAD,CAAF,CADL,CADF,CADF,cAME,2BAAK,SAAS,CAAC,MAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAEmB,eAFZ,CAGE,SAAS,CAAC,sBAHZ,CAIE,IAAI,CAAC,OAJP,EADF,CANF,CA9DF,cA8EE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,8BACE,SAAS,CAAC,sBADZ,CAEE,IAAI,CAAC,QAFP,EAIG7B,EAAE,CAACU,CAAC,CAAC,MAAD,CAAF,CAJL,CADF,CADF,CA9EF,CAjBF,CATJ,CAJF,CADF,CADF,CARF,CADF,CADF,CANF,CADF,CAuJD,CA9PD,CAgQA,cAAeD,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n  getSystemSettings,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\n\r\nconst HeroSection = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let {\r\n    loading,\r\n    setLoading,\r\n    generalSettings,\r\n    setGeneralSettings,\r\n    getSettings,\r\n    dataPaginating,\r\n  } = useContext(SettingsContext);\r\n\r\n  // States hook here\r\n\r\n  //new item\r\n  let [newSettings, setNewSettings] = useState({\r\n    subHeading1: getSystemSettings(generalSettings, \"hero_sub_1\"),\r\n    subHeading2: getSystemSettings(generalSettings, \"hero_sub_2\"),\r\n    heading: getSystemSettings(generalSettings, \"hero_heading\"),\r\n    image: null,\r\n  });\r\n\r\n  //useEffect == componentDidMount()\r\n  useEffect(() => {\r\n    setNewSettings({\r\n      subHeading1: getSystemSettings(generalSettings, \"hero_sub_1\"),\r\n      subHeading2: getSystemSettings(generalSettings, \"hero_sub_2\"),\r\n      heading: getSystemSettings(generalSettings, \"hero_heading\"),\r\n      image: null,\r\n    });\r\n  }, [generalSettings]);\r\n\r\n  //on change input field\r\n  const handleChange = (e) => {\r\n    setNewSettings({ ...newSettings, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //set image hook\r\n  const handleItemImage = (e) => {\r\n    setNewSettings({\r\n      ...newSettings,\r\n      [e.target.name]: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  //send req to server\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    let formData = new FormData();\r\n    formData.append(\"subHeading1\", newSettings.subHeading1);\r\n    formData.append(\"heading\", newSettings.heading);\r\n    formData.append(\"subHeading2\", newSettings.subHeading2);\r\n    formData.append(\"image\", newSettings.image);\r\n    const url = BASE_URL + \"/settings/hero-section\";\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        getSettings();\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Section has been updated\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        if (error && error.response.data.errors) {\r\n          if (error.response.data.errors.image) {\r\n            error.response.data.errors.image.forEach((item) => {\r\n              if (item === \"Please select a valid image file\") {\r\n                toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n              if (item === \"Please select a file less than 5MB\") {\r\n                toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Hero Section\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                  {_t(t(\"Hero Section\"))}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\"></div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Form starts here */}\r\n                        <form\r\n                          className=\"row card p-2 mx-3 sm-text my-2\"\r\n                          onSubmit={handleSubmit}\r\n                        >\r\n                          <div className=\"form-group mt-2\">\r\n                            <div className=\"mb-2\">\r\n                              <label htmlFor=\"vat\" className=\"control-label\">\r\n                                {_t(t(\"Sub-heading-1\"))}\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control sm-text\"\r\n                                name=\"subHeading1\"\r\n                                onChange={handleChange}\r\n                                value={newSettings.subHeading1}\r\n                                placeholder=\"Best In Town\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"form-group mt-3\">\r\n                            <div className=\"mb-2\">\r\n                              <label htmlFor=\"vat\" className=\"control-label\">\r\n                                {_t(t(\"Heading\"))}\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <textarea\r\n                                rows=\"3\"\r\n                                type=\"text\"\r\n                                onChange={handleChange}\r\n                                value={newSettings.heading}\r\n                                className=\"form-control sm-text\"\r\n                                name=\"heading\"\r\n                                placeholder=\"Enjoy Our Chicken Burger Fast Food\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"form-group mt-3\">\r\n                            <div className=\"mb-2\">\r\n                              <label htmlFor=\"vat\" className=\"control-label\">\r\n                                {_t(t(\"Sub-heading-2\"))}\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control sm-text\"\r\n                                name=\"subHeading2\"\r\n                                onChange={handleChange}\r\n                                value={newSettings.subHeading2}\r\n                                placeholder=\"Bacon-Potatos-Bbq Sauce\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"form-group mt-3\">\r\n                            <div className=\"mb-2\">\r\n                              <label htmlFor=\"vat\" className=\"control-label\">\r\n                                {_t(t(\"Image\"))}\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <input\r\n                                type=\"file\"\r\n                                onChange={handleItemImage}\r\n                                className=\"form-control sm-text\"\r\n                                name=\"image\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"form-group mt-4 pb-2\">\r\n                            <div className=\"col-lg-12\">\r\n                              <button\r\n                                className=\"btn btn-primary px-5\"\r\n                                type=\"submit\"\r\n                              >\r\n                                {_t(t(\"Save\"))}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </form>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HeroSection;\r\n"]},"metadata":{},"sourceType":"module"}