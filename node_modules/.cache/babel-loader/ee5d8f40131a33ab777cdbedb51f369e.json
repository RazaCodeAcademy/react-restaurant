{"ast":null,"code":"var _jsxFileName = \"/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/stock/IngredientPurchaseEdit.js\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\"; //axios and base url\n\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../../../../BaseUrl\"; //functions\n\nimport { _t, getCookie, tableLoading, currencySymbolLeft, formatPrice, currencySymbolRight } from \"../../../../../functions/Functions\";\nimport { useTranslation } from \"react-i18next\"; //3rd party packages\n\nimport { Helmet } from \"react-helmet\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Select from \"react-select\";\nimport makeAnimated from \"react-select/animated\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\"; //pages & includes\n\nimport ManageSidebar from \"../ManageSidebar\"; //context consumer\n\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\nimport { RestaurantContext } from \"../../../../../contexts/Restaurant\";\nimport { UserContext } from \"../../../../../contexts/User\";\n\nconst IngredientPurchaseEdit = () => {\n  const {\n    t\n  } = useTranslation();\n  const history = useHistory();\n  const params = useParams(); //getting context values here\n\n  let {\n    dataPaginating\n  } = useContext(SettingsContext);\n  let {\n    loading,\n    setLoading,\n    branchForSearch,\n    getIngredientItem,\n    ingredientItemStock\n  } = useContext(RestaurantContext);\n  let {\n    getSupplier,\n    supplierForSearch\n  } = useContext(UserContext); // States hook here\n  //new item\n\n  let [newItem, setNewItem] = useState({\n    branch: null,\n    supplier: null,\n    invoice: \"\",\n    description: \"\",\n    paymentType: \"\",\n    items: null,\n    paid: null,\n    total: null,\n    due: null\n  }); //datepicker\n\n  const [purchaseDate, setPurchaseDate] = useState(null); //purchasegrp\n\n  const [purchaseGroup, setPurchaseGroup] = useState(null);\n  const [purchasedItem, setPurchasedItem] = useState(null); //useEffect == componentDidMount()\n\n  useEffect(() => {\n    setLoading(true);\n    getSupplier();\n    getIngredientItem();\n    getPurchasedItem();\n  }, []);\n\n  const getPurchasedItem = () => {\n    const url = BASE_URL + \"/settings/get-ingredient_purchase_items/\" + parseInt(params.id);\n    return axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setPurchasedItem(res.data[0]);\n      setPurchaseGroup(res.data[1]);\n      setNewItem({ ...newItem,\n        items: res.data[0],\n        invoice: res.data[1].invoice_number,\n        paymentType: res.data[1].payment_type,\n        description: res.data[1].desc\n      });\n      setLoading(false);\n    }).catch(() => {\n      setLoading(false);\n    });\n  }; //on change input field\n\n\n  const handleChange = e => {\n    let item = purchasedItem.find(findThis => {\n      return findThis.id === parseInt(e.target.name);\n    });\n\n    if (e.target.value === null || e.target.value === \"\") {\n      item.qty = 0;\n    } else {\n      item.qty = e.target.value;\n    }\n\n    let temp = [];\n    purchasedItem.map(thisItem => {\n      if (thisItem.id !== item.id) {\n        temp.push(thisItem);\n      } else {\n        temp.push(item);\n      }\n    });\n    setPurchasedItem(temp);\n  };\n\n  const handleChangeRate = e => {\n    let item = purchasedItem.find(findThis => {\n      return findThis.id === parseInt(e.target.name);\n    });\n\n    if (e.target.value === null || e.target.value === \"\") {\n      item.rate = 0;\n    } else {\n      item.rate = e.target.value;\n    }\n\n    let temp = [];\n    purchasedItem.map(thisItem => {\n      if (thisItem.id !== item.id) {\n        temp.push(thisItem);\n      } else {\n        temp.push(item);\n      }\n    });\n    setPurchasedItem(temp);\n  };\n\n  const handleChangeGroup = e => {\n    if (e.target.name !== \"paid_amount\") {\n      setPurchaseGroup({ ...purchaseGroup,\n        [e.target.name]: e.target.value\n      });\n    } else {\n      if (e.target.value !== null || e.target.value === \"\") {\n        setPurchaseGroup({ ...purchaseGroup,\n          [e.target.name]: e.target.value\n        });\n      } else {\n        setPurchaseGroup({ ...purchaseGroup,\n          [e.target.name]: 0\n        });\n      }\n    }\n  }; //stock\n\n\n  const handleGetStock = id => {\n    if (purchaseGroup && ingredientItemStock !== null) {\n      let stock = ingredientItemStock.find(item => {\n        return parseInt(item.ingredient_id) === parseInt(id) && parseInt(item.branch_id) === parseInt(purchaseGroup.branch_id);\n      });\n\n      if (stock === undefined) {\n        return 0;\n      }\n\n      return stock.qty;\n    }\n  }; //total\n\n\n  const handleGetTotal = () => {\n    let total = 0;\n    purchasedItem.map(item => {\n      total = total + item.qty * item.rate;\n    });\n    return total;\n  }; //post req of food item add\n\n\n  const ingredientItemAxios = () => {\n    setLoading(true);\n    let formData = {\n      group_id: purchaseGroup.id,\n      invoice_number: purchaseGroup.invoice_number,\n      desc: purchaseGroup.desc,\n      payment_type: purchaseGroup.payment_type,\n      paid_amount: purchaseGroup.paid_amount,\n      total_bill: handleGetTotal(),\n      items: purchasedItem\n    };\n\n    if (purchaseDate !== null) {\n      formData.date = new Date(purchaseDate).getFullYear() + \"-\" + (new Date(purchaseDate).getMonth() + 1) + \"-\" + new Date(purchaseDate).getDate();\n    }\n\n    const url = BASE_URL + \"/settings/update-ingredient_purchase\";\n    return axios.post(url, formData, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      getIngredientItem();\n      getPurchasedItem();\n      setLoading(false);\n      toast.success(`${_t(t(\"Purchase has been updated\"))}`, {\n        position: \"bottom-center\",\n        autoClose: 10000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        className: \"text-center toast-notification\"\n      });\n    }).catch(error => {\n      setLoading(false);\n      toast.error(`${_t(t(\"Please try again later\"))}`, {\n        position: \"bottom-center\",\n        autoClose: 10000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        className: \"text-center toast-notification\"\n      });\n    });\n  }; //send to server\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    ingredientItemAxios();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, _t(t(\"Edit Ingredient Purchase\")))), /*#__PURE__*/React.createElement(\"main\", {\n    id: \"main\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row t-mt-10 gx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ManageSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fk-scroll--pos-menu table-bottom-info-hide\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-pl-15 t-pr-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${dataPaginating && \"loading\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 21\n    }\n  }), loading === true ? tableLoading() : /*#__PURE__*/React.createElement(\"div\", {\n    key: \"smtp-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-2 align-items-center t-pt-15 t-pb-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-5 t-mb-15 mb-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"t-list fk-breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"fk-breadcrumb__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"t-link fk-breadcrumb__link text-capitalize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 33\n    }\n  }, _t(t(\"Edit Ingredient purchase\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-3 align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"row card p-2 mx-3 mb-5 sm-text\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 27\n    }\n  }, branchForSearch && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"branch\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 35\n    }\n  }, _t(t(\"Branch\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 37\n    }\n  }, \"*\"))), /*#__PURE__*/React.createElement(\"select\", {\n    disabled: true,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 35\n    }\n  }), branchForSearch && purchaseGroup && branchForSearch.map(bItem => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      selected: bItem.id === parseInt(purchaseGroup.branch_id),\n      value: bItem.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 41\n      }\n    }, bItem.name);\n  }))), supplierForSearch && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"branch\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 35\n    }\n  }, _t(t(\"Supplier\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 37\n    }\n  }, \"*\"))), /*#__PURE__*/React.createElement(\"select\", {\n    disabled: true,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 35\n    }\n  }), supplierForSearch && purchaseGroup && supplierForSearch.map(sItem => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      selected: sItem.id === parseInt(purchaseGroup.supplier_id),\n      value: sItem.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 41\n      }\n    }, sItem.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-8 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"invoice_number\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 35\n    }\n  }, _t(t(\"Invoice\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 37\n    }\n  }, \"*\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"invoice_number\",\n    name: \"invoice_number\",\n    onChange: handleChangeGroup,\n    value: purchaseGroup && purchaseGroup.invoice_number,\n    placeholder: \"e.g. 123\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 35\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-4 text-right mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2 ml-4 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"purchaseDate\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 35\n    }\n  }, _t(t(\"Purchase Date\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    selected: purchaseDate,\n    onChange: date => setPurchaseDate(date),\n    peekNextMonth: true,\n    showMonthDropdown: true,\n    showYearDropdown: true,\n    dropdownMode: \"select\",\n    className: \"form-control\",\n    placeholderText: purchaseGroup && purchaseGroup.purchase_date,\n    shouldCloseOnSelect: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 35\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"desc\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 33\n    }\n  }, _t(t(\"Description\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"desc\",\n    name: \"desc\",\n    onChange: handleChangeGroup,\n    value: purchaseGroup && purchaseGroup.desc,\n    placeholder: \"Short description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"payment_type\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 33\n    }\n  }, _t(t(\"Payment Type\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 35\n    }\n  }, \"*\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"payment_type\",\n    name: \"payment_type\",\n    onChange: handleChangeGroup,\n    value: purchaseGroup && purchaseGroup.payment_type,\n    placeholder: \"e.g. Cash, Bank payment..\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"payment_type\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 33\n    }\n  }, _t(t(\"Ingredient Items\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 35\n    }\n  }, \"*\")))), newItem.items !== null && [newItem.items.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"align-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 41\n    }\n  }, _t(t(\"Name\"))), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 41\n    }\n  }, _t(t(\"stock\"))), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 41\n    }\n  }, _t(t(\"Qty\"))), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 41\n    }\n  }, _t(t(\"Rate\"))), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 41\n    }\n  }, _t(t(\"Total\"))))), /*#__PURE__*/React.createElement(\"tbody\", {\n    className: \"align-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 37\n    }\n  }, purchasedItem.map((ingredientItem, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"align-middle\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"xsm-text text-capitalize align-middle text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 47\n      }\n    }, ingredientItem.ingredient_name), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"xsm-text align-middle text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 47\n      }\n    }, handleGetStock(ingredientItem.ingredient_id)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"xsm-text text-capitalize align-middle text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      step: \"0.01\",\n      min: \"0\",\n      className: \"form-control text-center\",\n      id: ingredientItem.id,\n      name: ingredientItem.id,\n      onChange: handleChange,\n      value: ingredientItem.qty !== 0 ? ingredientItem.qty : \"\",\n      placeholder: \"Qty\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"xsm-text text-capitalize align-middle text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      step: \"0.01\",\n      min: \"0\",\n      className: \"form-control text-center\",\n      id: ingredientItem.id,\n      name: ingredientItem.id,\n      onChange: handleChangeRate,\n      value: ingredientItem.rate !== 0 ? ingredientItem.rate : \"\",\n      placeholder: \"Price in usd\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"xsm-text align-middle text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 47\n      }\n    }, currencySymbolLeft(), formatPrice(parseFloat(ingredientItem.rate) * parseFloat(ingredientItem.qty)), currencySymbolRight()));\n  })), /*#__PURE__*/React.createElement(\"tfoot\", {\n    className: \"align-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    colSpan: \"3\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 41\n    }\n  }, _t(t(\"Total Bill\"))), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 41\n    }\n  }, currencySymbolLeft(), formatPrice(handleGetTotal()), currencySymbolRight())), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    colSpan: \"3\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 41\n    }\n  }, _t(t(\"Paid\"))), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    step: \"0.01\",\n    min: \"0\",\n    className: \"form-control p-0 text-center\",\n    name: \"paid_amount\",\n    value: purchaseGroup && purchaseGroup.paid_amount !== 0 ? purchaseGroup.paid_amount : \"\",\n    onChange: handleChangeGroup,\n    placeholder: \"In usd\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 43\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    colSpan: \"3\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 41\n    }\n  }, _t(t(\"Due\"))), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"sm-text text-capitalize align-middle text-center border-1 border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 41\n    }\n  }, currencySymbolLeft(), formatPrice(handleGetTotal() - (purchaseGroup && purchaseGroup.paid_amount !== null && purchaseGroup.paid_amount !== \"\" ? parseFloat(purchaseGroup.paid_amount) : 0)), currencySymbolRight())))))], /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-4 pb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary px-5\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 33\n    }\n  }, _t(t(\"Save\"))))))))))))))));\n};\n\nexport default IngredientPurchaseEdit;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/stock/IngredientPurchaseEdit.js"],"names":["React","useEffect","useContext","useState","useHistory","useParams","axios","BASE_URL","_t","getCookie","tableLoading","currencySymbolLeft","formatPrice","currencySymbolRight","useTranslation","Helmet","toast","Select","makeAnimated","DatePicker","ManageSidebar","SettingsContext","RestaurantContext","UserContext","IngredientPurchaseEdit","t","history","params","dataPaginating","loading","setLoading","branchForSearch","getIngredientItem","ingredientItemStock","getSupplier","supplierForSearch","newItem","setNewItem","branch","supplier","invoice","description","paymentType","items","paid","total","due","purchaseDate","setPurchaseDate","purchaseGroup","setPurchaseGroup","purchasedItem","setPurchasedItem","getPurchasedItem","url","parseInt","id","get","headers","Authorization","then","res","data","invoice_number","payment_type","desc","catch","handleChange","e","item","find","findThis","target","name","value","qty","temp","map","thisItem","push","handleChangeRate","rate","handleChangeGroup","handleGetStock","stock","ingredient_id","branch_id","undefined","handleGetTotal","ingredientItemAxios","formData","group_id","paid_amount","total_bill","date","Date","getFullYear","getMonth","getDate","post","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","error","handleSubmit","preventDefault","bItem","sItem","supplier_id","purchase_date","length","ingredientItem","index","ingredient_name","parseFloat"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n  currencySymbolLeft,\r\n  formatPrice,\r\n  currencySymbolRight,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\nimport { RestaurantContext } from \"../../../../../contexts/Restaurant\";\r\nimport { UserContext } from \"../../../../../contexts/User\";\r\n\r\nconst IngredientPurchaseEdit = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  //getting context values here\r\n  let { dataPaginating } = useContext(SettingsContext);\r\n  let {\r\n    loading,\r\n    setLoading,\r\n    branchForSearch,\r\n    getIngredientItem,\r\n    ingredientItemStock,\r\n  } = useContext(RestaurantContext);\r\n  let { getSupplier, supplierForSearch } = useContext(UserContext);\r\n\r\n  // States hook here\r\n  //new item\r\n  let [newItem, setNewItem] = useState({\r\n    branch: null,\r\n    supplier: null,\r\n    invoice: \"\",\r\n    description: \"\",\r\n    paymentType: \"\",\r\n    items: null,\r\n    paid: null,\r\n    total: null,\r\n    due: null,\r\n  });\r\n\r\n  //datepicker\r\n  const [purchaseDate, setPurchaseDate] = useState(null);\r\n\r\n  //purchasegrp\r\n  const [purchaseGroup, setPurchaseGroup] = useState(null);\r\n  const [purchasedItem, setPurchasedItem] = useState(null);\r\n\r\n  //useEffect == componentDidMount()\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getSupplier();\r\n    getIngredientItem();\r\n    getPurchasedItem();\r\n  }, []);\r\n\r\n  const getPurchasedItem = () => {\r\n    const url =\r\n      BASE_URL +\r\n      \"/settings/get-ingredient_purchase_items/\" +\r\n      parseInt(params.id);\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setPurchasedItem(res.data[0]);\r\n        setPurchaseGroup(res.data[1]);\r\n        setNewItem({\r\n          ...newItem,\r\n          items: res.data[0],\r\n          invoice: res.data[1].invoice_number,\r\n          paymentType: res.data[1].payment_type,\r\n          description: res.data[1].desc,\r\n        });\r\n\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n  //on change input field\r\n  const handleChange = (e) => {\r\n    let item = purchasedItem.find((findThis) => {\r\n      return findThis.id === parseInt(e.target.name);\r\n    });\r\n    if (e.target.value === null || e.target.value === \"\") {\r\n      item.qty = 0;\r\n    } else {\r\n      item.qty = e.target.value;\r\n    }\r\n    let temp = [];\r\n    purchasedItem.map((thisItem) => {\r\n      if (thisItem.id !== item.id) {\r\n        temp.push(thisItem);\r\n      } else {\r\n        temp.push(item);\r\n      }\r\n    });\r\n    setPurchasedItem(temp);\r\n  };\r\n\r\n  const handleChangeRate = (e) => {\r\n    let item = purchasedItem.find((findThis) => {\r\n      return findThis.id === parseInt(e.target.name);\r\n    });\r\n    if (e.target.value === null || e.target.value === \"\") {\r\n      item.rate = 0;\r\n    } else {\r\n      item.rate = e.target.value;\r\n    }\r\n    let temp = [];\r\n    purchasedItem.map((thisItem) => {\r\n      if (thisItem.id !== item.id) {\r\n        temp.push(thisItem);\r\n      } else {\r\n        temp.push(item);\r\n      }\r\n    });\r\n    setPurchasedItem(temp);\r\n  };\r\n\r\n  const handleChangeGroup = (e) => {\r\n    if (e.target.name !== \"paid_amount\") {\r\n      setPurchaseGroup({ ...purchaseGroup, [e.target.name]: e.target.value });\r\n    } else {\r\n      if (e.target.value !== null || e.target.value === \"\") {\r\n        setPurchaseGroup({ ...purchaseGroup, [e.target.name]: e.target.value });\r\n      } else {\r\n        setPurchaseGroup({ ...purchaseGroup, [e.target.name]: 0 });\r\n      }\r\n    }\r\n  };\r\n\r\n  //stock\r\n  const handleGetStock = (id) => {\r\n    if (purchaseGroup && ingredientItemStock !== null) {\r\n      let stock = ingredientItemStock.find((item) => {\r\n        return (\r\n          parseInt(item.ingredient_id) === parseInt(id) &&\r\n          parseInt(item.branch_id) === parseInt(purchaseGroup.branch_id)\r\n        );\r\n      });\r\n      if (stock === undefined) {\r\n        return 0;\r\n      }\r\n      return stock.qty;\r\n    }\r\n  };\r\n\r\n  //total\r\n  const handleGetTotal = () => {\r\n    let total = 0;\r\n    purchasedItem.map((item) => {\r\n      total = total + item.qty * item.rate;\r\n    });\r\n    return total;\r\n  };\r\n\r\n  //post req of food item add\r\n  const ingredientItemAxios = () => {\r\n    setLoading(true);\r\n\r\n    let formData = {\r\n      group_id: purchaseGroup.id,\r\n      invoice_number: purchaseGroup.invoice_number,\r\n      desc: purchaseGroup.desc,\r\n      payment_type: purchaseGroup.payment_type,\r\n      paid_amount: purchaseGroup.paid_amount,\r\n      total_bill: handleGetTotal(),\r\n      items: purchasedItem,\r\n    };\r\n    if (purchaseDate !== null) {\r\n      formData.date =\r\n        new Date(purchaseDate).getFullYear() +\r\n        \"-\" +\r\n        (new Date(purchaseDate).getMonth() + 1) +\r\n        \"-\" +\r\n        new Date(purchaseDate).getDate();\r\n    }\r\n\r\n    const url = BASE_URL + \"/settings/update-ingredient_purchase\";\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        getIngredientItem();\r\n        getPurchasedItem();\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Purchase has been updated\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        toast.error(`${_t(t(\"Please try again later\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //send to server\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    ingredientItemAxios();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Edit Ingredient Purchase\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                  {_t(t(\"Edit Ingredient purchase\"))}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\"></div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Form starts here */}\r\n                        <form\r\n                          className=\"row card p-2 mx-3 mb-5 sm-text\"\r\n                          onSubmit={handleSubmit}\r\n                        >\r\n                          <div className=\"col-12\">\r\n                            {branchForSearch && (\r\n                              <div className=\"form-group mt-2\">\r\n                                <div className=\"mb-2\">\r\n                                  <label\r\n                                    htmlFor=\"branch\"\r\n                                    className=\"control-label\"\r\n                                  >\r\n                                    {_t(t(\"Branch\"))}\r\n                                    <span className=\"text-danger\">*</span>\r\n                                  </label>\r\n                                </div>\r\n                                <select disabled className=\"form-control\">\r\n                                  <option value=\"\"></option>\r\n                                  {branchForSearch &&\r\n                                    purchaseGroup &&\r\n                                    branchForSearch.map((bItem) => {\r\n                                      return (\r\n                                        <option\r\n                                          selected={\r\n                                            bItem.id ===\r\n                                            parseInt(purchaseGroup.branch_id)\r\n                                          }\r\n                                          value={bItem.id}\r\n                                        >\r\n                                          {bItem.name}\r\n                                        </option>\r\n                                      );\r\n                                    })}\r\n                                </select>\r\n                              </div>\r\n                            )}\r\n\r\n                            {supplierForSearch && (\r\n                              <div className=\"form-group mt-3\">\r\n                                <div className=\"mb-2\">\r\n                                  <label\r\n                                    htmlFor=\"branch\"\r\n                                    className=\"control-label\"\r\n                                  >\r\n                                    {_t(t(\"Supplier\"))}\r\n                                    <span className=\"text-danger\">*</span>\r\n                                  </label>\r\n                                </div>\r\n                                <select disabled className=\"form-control\">\r\n                                  <option value=\"\"></option>\r\n                                  {supplierForSearch &&\r\n                                    purchaseGroup &&\r\n                                    supplierForSearch.map((sItem) => {\r\n                                      return (\r\n                                        <option\r\n                                          selected={\r\n                                            sItem.id ===\r\n                                            parseInt(purchaseGroup.supplier_id)\r\n                                          }\r\n                                          value={sItem.id}\r\n                                        >\r\n                                          {sItem.name}\r\n                                        </option>\r\n                                      );\r\n                                    })}\r\n                                </select>\r\n                              </div>\r\n                            )}\r\n                            <div className=\"row\">\r\n                              <div className=\"form-group col-8 mt-3\">\r\n                                <div className=\"mb-2\">\r\n                                  <label\r\n                                    htmlFor=\"invoice_number\"\r\n                                    className=\"control-label\"\r\n                                  >\r\n                                    {_t(t(\"Invoice\"))}\r\n                                    <span className=\"text-danger\">*</span>\r\n                                  </label>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                  <input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    id=\"invoice_number\"\r\n                                    name=\"invoice_number\"\r\n                                    onChange={handleChangeGroup}\r\n                                    value={\r\n                                      purchaseGroup &&\r\n                                      purchaseGroup.invoice_number\r\n                                    }\r\n                                    placeholder=\"e.g. 123\"\r\n                                    required\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n\r\n                              <div className=\"form-group col-4 text-right mt-3\">\r\n                                <div className=\"mb-2 ml-4 text-left\">\r\n                                  <label\r\n                                    htmlFor=\"purchaseDate\"\r\n                                    className=\"control-label\"\r\n                                  >\r\n                                    {_t(t(\"Purchase Date\"))}\r\n                                  </label>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                  <DatePicker\r\n                                    selected={purchaseDate}\r\n                                    onChange={(date) => setPurchaseDate(date)}\r\n                                    peekNextMonth\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    dropdownMode=\"select\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText={\r\n                                      purchaseGroup &&\r\n                                      purchaseGroup.purchase_date\r\n                                    }\r\n                                    shouldCloseOnSelect={false}\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-3\">\r\n                              <div className=\"mb-2\">\r\n                                <label htmlFor=\"desc\" className=\"control-label\">\r\n                                  {_t(t(\"Description\"))}\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"mb-2\">\r\n                                <textarea\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id=\"desc\"\r\n                                  name=\"desc\"\r\n                                  onChange={handleChangeGroup}\r\n                                  value={purchaseGroup && purchaseGroup.desc}\r\n                                  placeholder=\"Short description\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-3\">\r\n                              <div className=\"mb-2\">\r\n                                <label\r\n                                  htmlFor=\"payment_type\"\r\n                                  className=\"control-label\"\r\n                                >\r\n                                  {_t(t(\"Payment Type\"))}\r\n                                  <span className=\"text-danger\">*</span>\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"mb-2\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id=\"payment_type\"\r\n                                  name=\"payment_type\"\r\n                                  onChange={handleChangeGroup}\r\n                                  value={\r\n                                    purchaseGroup && purchaseGroup.payment_type\r\n                                  }\r\n                                  placeholder=\"e.g. Cash, Bank payment..\"\r\n                                  required\r\n                                />\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-3\">\r\n                              <div className=\"mb-2\">\r\n                                <label\r\n                                  htmlFor=\"payment_type\"\r\n                                  className=\"control-label\"\r\n                                >\r\n                                  {_t(t(\"Ingredient Items\"))}\r\n                                  <span className=\"text-danger\">*</span>\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {newItem.items !== null && [\r\n                              newItem.items.length > 0 && (\r\n                                <div className=\"table-responsive mt-3\">\r\n                                  <table className=\"table table-bordered table-hover\">\r\n                                    <thead className=\"align-middle\">\r\n                                      <tr>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Name\"))}\r\n                                        </th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"stock\"))}\r\n                                        </th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Qty\"))}\r\n                                        </th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Rate\"))}\r\n                                        </th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Total\"))}\r\n                                        </th>\r\n                                      </tr>\r\n                                    </thead>\r\n\r\n                                    <tbody className=\"align-middle\">\r\n                                      {purchasedItem.map(\r\n                                        (ingredientItem, index) => {\r\n                                          return (\r\n                                            <tr\r\n                                              className=\"align-middle\"\r\n                                              key={index}\r\n                                            >\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                {ingredientItem.ingredient_name}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {handleGetStock(\r\n                                                  ingredientItem.ingredient_id\r\n                                                )}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <input\r\n                                                  type=\"number\"\r\n                                                  step=\"0.01\"\r\n                                                  min=\"0\"\r\n                                                  className=\"form-control text-center\"\r\n                                                  id={ingredientItem.id}\r\n                                                  name={ingredientItem.id}\r\n                                                  onChange={handleChange}\r\n                                                  value={\r\n                                                    ingredientItem.qty !== 0\r\n                                                      ? ingredientItem.qty\r\n                                                      : \"\"\r\n                                                  }\r\n                                                  placeholder=\"Qty\"\r\n                                                  required\r\n                                                />\r\n                                              </td>\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <input\r\n                                                  type=\"number\"\r\n                                                  step=\"0.01\"\r\n                                                  min=\"0\"\r\n                                                  className=\"form-control text-center\"\r\n                                                  id={ingredientItem.id}\r\n                                                  name={ingredientItem.id}\r\n                                                  onChange={handleChangeRate}\r\n                                                  value={\r\n                                                    ingredientItem.rate !== 0\r\n                                                      ? ingredientItem.rate\r\n                                                      : \"\"\r\n                                                  }\r\n                                                  placeholder=\"Price in usd\"\r\n                                                  required\r\n                                                />\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {currencySymbolLeft()}\r\n                                                {formatPrice(\r\n                                                  parseFloat(\r\n                                                    ingredientItem.rate\r\n                                                  ) *\r\n                                                    parseFloat(\r\n                                                      ingredientItem.qty\r\n                                                    )\r\n                                                )}\r\n                                                {currencySymbolRight()}\r\n                                              </td>\r\n                                            </tr>\r\n                                          );\r\n                                        }\r\n                                      )}\r\n                                    </tbody>\r\n                                    <tfoot className=\"align-middle\">\r\n                                      <tr>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          colSpan=\"3\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        ></th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Total Bill\"))}\r\n                                        </th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {currencySymbolLeft()}\r\n                                          {formatPrice(handleGetTotal())}\r\n                                          {currencySymbolRight()}\r\n                                        </th>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          colSpan=\"3\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        ></th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Paid\"))}\r\n                                        </th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          <input\r\n                                            type=\"number\"\r\n                                            step=\"0.01\"\r\n                                            min=\"0\"\r\n                                            className=\"form-control p-0 text-center\"\r\n                                            name=\"paid_amount\"\r\n                                            value={\r\n                                              purchaseGroup &&\r\n                                              purchaseGroup.paid_amount !== 0\r\n                                                ? purchaseGroup.paid_amount\r\n                                                : \"\"\r\n                                            }\r\n                                            onChange={handleChangeGroup}\r\n                                            placeholder=\"In usd\"\r\n                                            required\r\n                                          />\r\n                                        </th>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          colSpan=\"3\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        ></th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Due\"))}\r\n                                        </th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {currencySymbolLeft()}\r\n                                          {formatPrice(\r\n                                            handleGetTotal() -\r\n                                              (purchaseGroup &&\r\n                                              purchaseGroup.paid_amount !==\r\n                                                null &&\r\n                                              purchaseGroup.paid_amount !== \"\"\r\n                                                ? parseFloat(\r\n                                                    purchaseGroup.paid_amount\r\n                                                  )\r\n                                                : 0)\r\n                                          )}\r\n                                          {currencySymbolRight()}\r\n                                        </th>\r\n                                      </tr>\r\n                                    </tfoot>\r\n                                  </table>\r\n                                </div>\r\n                              ),\r\n                            ]}\r\n\r\n                            <div className=\"form-group mt-4 pb-2\">\r\n                              <div className=\"col-lg-12\">\r\n                                <button\r\n                                  className=\"btn btn-primary px-5\"\r\n                                  type=\"submit\"\r\n                                >\r\n                                  {_t(t(\"Save\"))}\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </form>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IngredientPurchaseEdit;\r\n"]},"metadata":{},"sourceType":"module"}