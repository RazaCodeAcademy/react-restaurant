{"ast":null,"code":"var _jsxFileName = \"/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/website/HeroSection.js\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\"; //axios and base url\n\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../../../../BaseUrl\"; //functions\n\nimport { _t, getCookie, tableLoading, getSystemSettings } from \"../../../../../functions/Functions\";\nimport { useTranslation } from \"react-i18next\"; //3rd party packages\n\nimport { Helmet } from \"react-helmet\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\"; //pages & includes\n\nimport ManageSidebar from \"../ManageSidebar\"; //context consumer\n\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\n\nconst HeroSection = () => {\n  const {\n    t\n  } = useTranslation();\n  const history = useHistory(); //getting context values here\n\n  let {\n    loading,\n    setLoading,\n    generalSettings,\n    setGeneralSettings,\n    getSettings,\n    dataPaginating\n  } = useContext(SettingsContext); // States hook here\n  //new item\n\n  let [newSettings, setNewSettings] = useState({\n    subHeading1: getSystemSettings(generalSettings, \"hero_sub_1\"),\n    subHeading2: getSystemSettings(generalSettings, \"hero_sub_2\"),\n    heading: getSystemSettings(generalSettings, \"hero_heading\"),\n    image: null\n  }); //useEffect == componentDidMount()\n\n  useEffect(() => {\n    setNewSettings({\n      subHeading1: getSystemSettings(generalSettings, \"hero_sub_1\"),\n      subHeading2: getSystemSettings(generalSettings, \"hero_sub_2\"),\n      heading: getSystemSettings(generalSettings, \"hero_heading\"),\n      image: null\n    });\n  }, [generalSettings]); //on change input field\n\n  const handleChange = e => {\n    setNewSettings({ ...newSettings,\n      [e.target.name]: e.target.value\n    });\n  }; //set image hook\n\n\n  const handleItemImage = e => {\n    setNewSettings({ ...newSettings,\n      [e.target.name]: e.target.files[0]\n    });\n  }; //send req to server\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    let formData = new FormData();\n    formData.append(\"subHeading1\", newSettings.subHeading1);\n    formData.append(\"heading\", newSettings.heading);\n    formData.append(\"subHeading2\", newSettings.subHeading2);\n    formData.append(\"image\", newSettings.image);\n    const url = BASE_URL + \"/settings/hero-section\";\n    return axios.post(url, formData, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      getSettings();\n      setLoading(false);\n      toast.success(`${_t(t(\"Section has been updated\"))}`, {\n        position: \"bottom-center\",\n        autoClose: 10000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        className: \"text-center toast-notification\"\n      });\n    }).catch(error => {\n      setLoading(false);\n\n      if (error && error.response.data.errors) {\n        if (error.response.data.errors.image) {\n          error.response.data.errors.image.forEach(item => {\n            if (item === \"Please select a valid image file\") {\n              toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\n                position: \"bottom-center\",\n                autoClose: 10000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                className: \"text-center toast-notification\"\n              });\n            }\n\n            if (item === \"Please select a file less than 5MB\") {\n              toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\n                position: \"bottom-center\",\n                autoClose: 10000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                className: \"text-center toast-notification\"\n              });\n            }\n          });\n        }\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, _t(t(\"Hero Section\")))), /*#__PURE__*/React.createElement(\"main\", {\n    id: \"main\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row t-mt-10 gx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ManageSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fk-scroll--pos-menu table-bottom-info-hide\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-pl-15 t-pr-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${dataPaginating && \"loading\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }), loading === true ? tableLoading() : /*#__PURE__*/React.createElement(\"div\", {\n    key: \"smtp-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-2 align-items-center t-pt-15 t-pb-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-5 t-mb-15 mb-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"t-list fk-breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"fk-breadcrumb__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"t-link fk-breadcrumb__link text-capitalize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  }, _t(t(\"Hero Section\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-3 align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"row card p-2 mx-3 sm-text my-2\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"vat\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 31\n    }\n  }, _t(t(\"Sub-heading-1\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control sm-text\",\n    name: \"subHeading1\",\n    onChange: handleChange,\n    value: newSettings.subHeading1,\n    placeholder: \"Best In Town\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"vat\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 31\n    }\n  }, _t(t(\"Heading\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"3\",\n    type: \"text\",\n    onChange: handleChange,\n    value: newSettings.heading,\n    className: \"form-control sm-text\",\n    name: \"heading\",\n    placeholder: \"Enjoy Our Chicken Burger Fast Food\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"vat\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 31\n    }\n  }, _t(t(\"Sub-heading-2\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control sm-text\",\n    name: \"subHeading2\",\n    onChange: handleChange,\n    value: newSettings.subHeading2,\n    placeholder: \"Bacon-Potatos-Bbq Sauce\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"vat\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 31\n    }\n  }, _t(t(\"Image\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: handleItemImage,\n    className: \"form-control sm-text\",\n    name: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-4 pb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary px-5\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 31\n    }\n  }, _t(t(\"Save\")))))))))))))));\n};\n\nexport default HeroSection;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/website/HeroSection.js"],"names":["React","useEffect","useContext","useState","useHistory","axios","BASE_URL","_t","getCookie","tableLoading","getSystemSettings","useTranslation","Helmet","toast","ManageSidebar","SettingsContext","HeroSection","t","history","loading","setLoading","generalSettings","setGeneralSettings","getSettings","dataPaginating","newSettings","setNewSettings","subHeading1","subHeading2","heading","image","handleChange","e","target","name","value","handleItemImage","files","handleSubmit","preventDefault","formData","FormData","append","url","post","headers","Authorization","then","res","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","catch","error","response","data","errors","forEach","item"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n  getSystemSettings,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\n\r\nconst HeroSection = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let {\r\n    loading,\r\n    setLoading,\r\n    generalSettings,\r\n    setGeneralSettings,\r\n    getSettings,\r\n    dataPaginating,\r\n  } = useContext(SettingsContext);\r\n\r\n  // States hook here\r\n\r\n  //new item\r\n  let [newSettings, setNewSettings] = useState({\r\n    subHeading1: getSystemSettings(generalSettings, \"hero_sub_1\"),\r\n    subHeading2: getSystemSettings(generalSettings, \"hero_sub_2\"),\r\n    heading: getSystemSettings(generalSettings, \"hero_heading\"),\r\n    image: null,\r\n  });\r\n\r\n  //useEffect == componentDidMount()\r\n  useEffect(() => {\r\n    setNewSettings({\r\n      subHeading1: getSystemSettings(generalSettings, \"hero_sub_1\"),\r\n      subHeading2: getSystemSettings(generalSettings, \"hero_sub_2\"),\r\n      heading: getSystemSettings(generalSettings, \"hero_heading\"),\r\n      image: null,\r\n    });\r\n  }, [generalSettings]);\r\n\r\n  //on change input field\r\n  const handleChange = (e) => {\r\n    setNewSettings({ ...newSettings, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //set image hook\r\n  const handleItemImage = (e) => {\r\n    setNewSettings({\r\n      ...newSettings,\r\n      [e.target.name]: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  //send req to server\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    let formData = new FormData();\r\n    formData.append(\"subHeading1\", newSettings.subHeading1);\r\n    formData.append(\"heading\", newSettings.heading);\r\n    formData.append(\"subHeading2\", newSettings.subHeading2);\r\n    formData.append(\"image\", newSettings.image);\r\n    const url = BASE_URL + \"/settings/hero-section\";\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        getSettings();\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Section has been updated\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        if (error && error.response.data.errors) {\r\n          if (error.response.data.errors.image) {\r\n            error.response.data.errors.image.forEach((item) => {\r\n              if (item === \"Please select a valid image file\") {\r\n                toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n              if (item === \"Please select a file less than 5MB\") {\r\n                toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Hero Section\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                  {_t(t(\"Hero Section\"))}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\"></div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Form starts here */}\r\n                        <form\r\n                          className=\"row card p-2 mx-3 sm-text my-2\"\r\n                          onSubmit={handleSubmit}\r\n                        >\r\n                          <div className=\"form-group mt-2\">\r\n                            <div className=\"mb-2\">\r\n                              <label htmlFor=\"vat\" className=\"control-label\">\r\n                                {_t(t(\"Sub-heading-1\"))}\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control sm-text\"\r\n                                name=\"subHeading1\"\r\n                                onChange={handleChange}\r\n                                value={newSettings.subHeading1}\r\n                                placeholder=\"Best In Town\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"form-group mt-3\">\r\n                            <div className=\"mb-2\">\r\n                              <label htmlFor=\"vat\" className=\"control-label\">\r\n                                {_t(t(\"Heading\"))}\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <textarea\r\n                                rows=\"3\"\r\n                                type=\"text\"\r\n                                onChange={handleChange}\r\n                                value={newSettings.heading}\r\n                                className=\"form-control sm-text\"\r\n                                name=\"heading\"\r\n                                placeholder=\"Enjoy Our Chicken Burger Fast Food\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"form-group mt-3\">\r\n                            <div className=\"mb-2\">\r\n                              <label htmlFor=\"vat\" className=\"control-label\">\r\n                                {_t(t(\"Sub-heading-2\"))}\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control sm-text\"\r\n                                name=\"subHeading2\"\r\n                                onChange={handleChange}\r\n                                value={newSettings.subHeading2}\r\n                                placeholder=\"Bacon-Potatos-Bbq Sauce\"\r\n                                required\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"form-group mt-3\">\r\n                            <div className=\"mb-2\">\r\n                              <label htmlFor=\"vat\" className=\"control-label\">\r\n                                {_t(t(\"Image\"))}\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"mb-2\">\r\n                              <input\r\n                                type=\"file\"\r\n                                onChange={handleItemImage}\r\n                                className=\"form-control sm-text\"\r\n                                name=\"image\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"form-group mt-4 pb-2\">\r\n                            <div className=\"col-lg-12\">\r\n                              <button\r\n                                className=\"btn btn-primary px-5\"\r\n                                type=\"submit\"\r\n                              >\r\n                                {_t(t(\"Save\"))}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </form>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HeroSection;\r\n"]},"metadata":{},"sourceType":"module"}