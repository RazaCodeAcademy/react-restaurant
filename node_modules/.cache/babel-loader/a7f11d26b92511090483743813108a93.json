{"ast":null,"code":"import _toConsumableArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext,useRef}from\"react\";import{NavLink}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../BaseUrl\";//functions\nimport{_t,getCookie}from\"../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import Skeleton from\"react-loading-skeleton\";import Moment from\"react-moment\";import Select from\"react-select\";import makeAnimated from\"react-select/animated\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{confirmAlert}from\"react-confirm-alert\";//importing context consumer here\nimport{RestaurantContext}from\"../../../../contexts/Restaurant\";import{FoodContext}from\"../../../../contexts/Food\";var KitchenOnline=function KitchenOnline(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useContext=useContext(RestaurantContext),getKitchenNewOrdersOnline=_useContext.getKitchenNewOrdersOnline,kithcenNewOrdersOnline=_useContext.kithcenNewOrdersOnline,setKithcenNewOrdersOnline=_useContext.setKithcenNewOrdersOnline,loading=_useContext.loading,setLoading=_useContext.setLoading;var _useContext2=useContext(FoodContext),foodGroupForSearch=_useContext2.foodGroupForSearch;//state hooks\nvar _useState=useState({isFiltered:false,filterKey:\"\",groups:null}),_useState2=_slicedToArray(_useState,2),filterOrder=_useState2[0],setFilterOrder=_useState2[1];//search result\nvar _useState3=useState({list:null,searched:false}),_useState4=_slicedToArray(_useState3,2),searchedOrder=_useState4[0],setSearchedOrder=_useState4[1];useEffect(function(){//get all orders when coming to kithcen\ngetKitchenNewOrdersOnline();//add \"All\" option to group filter\nvar tempFoodGroups=[];foodGroupForSearch&&foodGroupForSearch.map(function(item){if(item.name!==\"All\"){tempFoodGroups.push(item);}});//new option added to food group\ntempFoodGroups.unshift({name:\"All\"});setFilterOrder(_objectSpread(_objectSpread({},filterOrder),{},{groups:tempFoodGroups}));},[foodGroupForSearch]);//filter ordered items\nvar handleFilter=function handleFilter(foodGrp){setFilterOrder(_objectSpread(_objectSpread({},filterOrder),{},{isFiltered:foodGrp.name==\"All\"?false:true,filterKey:foodGrp.name}));};//search orders here\nvar handleSearch=function handleSearch(e){var searchInput=e.target.value.toLowerCase();if(searchInput.length===0){setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{searched:false}));}else{var searchedList=kithcenNewOrdersOnline&&kithcenNewOrdersOnline.filter(function(item){//token\nvar lowerCaseItemToken=item.token;return lowerCaseItemToken.includes(searchInput);});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:searchedList,searched:true}));}};//accept or reject\nvar handleAcceptOrReject=function handleAcceptOrReject(id){//front end accept-reject view update\nvar newState=kithcenNewOrdersOnline.map(function(orderItem){return orderItem.id===id?_objectSpread(_objectSpread({},orderItem),{},{is_accepted_by_kitchen:parseInt(orderItem.is_accepted_by_kitchen)===0?1:0}):orderItem;});setKithcenNewOrdersOnline(newState);//front end accept-reject view update for searched\nif(searchedOrder.searched){var newStateSearched=searchedOrder.list.map(function(orderItemSearched){return orderItemSearched.id===id?_objectSpread(_objectSpread({},orderItemSearched),{},{is_accepted_by_kitchen:parseInt(orderItemSearched.is_accepted_by_kitchen)===0?1:0}):orderItemSearched;});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:newStateSearched}));}//set on server\nvar url=BASE_URL+\"/settings/accept-new-order-online\";var formData={id:id};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(){}).catch(function(){//undo if any error happened\nnewState=newState.map(function(orderItem){return orderItem.id===id?_objectSpread(_objectSpread({},orderItem),{},{is_accepted_by_kitchen:parseInt(orderItem.is_accepted_by_kitchen)===0?1:0}):orderItem;});setKithcenNewOrdersOnline(newState);//undo if any error happened for searched\nif(searchedOrder.searched){var _newStateSearched=searchedOrder.list.map(function(orderItemSearched){return orderItemSearched.id===id?_objectSpread(_objectSpread({},orderItemSearched),{},{is_accepted_by_kitchen:parseInt(orderItemSearched.is_accepted_by_kitchen)===0?1:0}):orderItemSearched;});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:_newStateSearched}));}toast.error(\"\".concat(_t(t(\"Please refresh and try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//delete confirmation modal of waiter\nvar handleReadyConfirmation=function handleReadyConfirmation(id){confirmAlert({customUI:function customUI(_ref){var onClose=_ref.onClose;return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"h1\",null,_t(t(\"Are you sure?\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},_t(t(\"All items are cooked?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){handleReady(id);onClose();}},_t(t(\"YES, COOKED!\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success ml-2 px-3\",onClick:onClose},_t(t(\"NO\")))));}});};//make the order group ready here\nvar handleReady=function handleReady(id){setLoading(true);var url=BASE_URL+\"/settings/mark-all-items-ready-online\";var formData={id:id};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(){//remove ready item from order list\nvar newState=kithcenNewOrdersOnline.filter(function(orderItem){return orderItem.id!==id;});setKithcenNewOrdersOnline(newState);//remove ready item from search list\nif(searchedOrder.searched){var newSearchState=searchedOrder.list.filter(function(orderItemSearched){return orderItemSearched.id!==id;});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:newSearchState}));}setLoading(false);}).catch(function(){setLoading(false);toast.error(\"\".concat(_t(t(\"Please refresh and try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//make the order group ready here\nvar handleEachItemReady=function handleEachItemReady(orderGroupId,itemId){//to redo the action\nvar oldState=kithcenNewOrdersOnline;var oldSearchedState=searchedOrder.list;//new state\nvar orderGroup=kithcenNewOrdersOnline.find(function(orderItem){return orderItem.id===orderGroupId;});//updating the item's cooking status\nvar newItems=orderGroup.orderedItems.map(function(eachItem){return eachItem.id===itemId?_objectSpread(_objectSpread({},eachItem),{},{is_cooking:parseInt(eachItem.is_cooking)===0?1:0}):eachItem;});//set updated order list with item's status change\nvar newState=kithcenNewOrdersOnline.map(function(orderItem){return orderItem.id===orderGroupId?_objectSpread(_objectSpread({},orderItem),{},{is_accepted_by_kitchen:1,orderedItems:newItems}):orderItem;});setKithcenNewOrdersOnline(newState);//searched list update\nif(searchedOrder.searched){//new searched state\nvar _orderGroup=searchedOrder.list.find(function(orderItem){return orderItem.id===orderGroupId;});var newItemsSearched=_orderGroup.orderedItems.map(function(eachItem){return eachItem.id===itemId?_objectSpread(_objectSpread({},eachItem),{},{is_cooking:parseInt(eachItem.is_cooking)===0?1:0}):eachItem;});var newStateSearched=searchedOrder.list.map(function(orderItem){return orderItem.id===orderGroupId?_objectSpread(_objectSpread({},orderItem),{},{is_accepted_by_kitchen:1,orderedItems:newItemsSearched}):orderItem;});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:newStateSearched}));}//set server's item status\nvar url=BASE_URL+\"/settings/mark-order-item-ready-online\";var formData={orderGroupId:orderGroupId,id:itemId};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(){}).catch(function(){//undo if any error occured\nsetKithcenNewOrdersOnline(oldState);setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:oldSearchedState}));toast.error(\"\".concat(_t(t(\"Please refresh and try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};// console.log(kithcenNewOrdersOnline.length);\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),counter=_useState6[0],setCounter=_useState6[1];var refCounter=useRef(null);function startCountdown(remainingTimeInMinutes,startTime,index){var endTime=startTime.getTime()+remainingTimeInMinutes*60*1000;var intervalId=setInterval(function(){var currentTime=new Date();var remainingTime=endTime-currentTime.getTime();if(remainingTime<=0){if(refCounter.current){refCounter.current.style.display='none';}clearInterval(intervalId);}else{var minutes=Math.floor(remainingTime/1000/60%60);var seconds=Math.floor(remainingTime/1000%60);var formattedMinutes=minutes<10?\"0\".concat(minutes):minutes;var formattedSeconds=seconds<10?\"0\".concat(seconds):seconds;// setCounter(`${minutes} / ${seconds}`);\nsetCounter(function(prevItems){var updatedItems=_toConsumableArray(prevItems);updatedItems[index]=\"\".concat(minutes,\" / \").concat(seconds);return updatedItems;});console.log(\"Time remaining: \".concat(formattedMinutes,\":\").concat(formattedSeconds));}},1000);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Online Order's Kitchen\")))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--index t-mt-15 t-mb-15\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white t-pt-10 t-pb-10 t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(loading&&\"loading\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-uppercase\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-2\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/img/cooking.png\",alt:\"cooking\",className:\"img-fluid\",style:{height:\"40px\",width:\"40px\"}})),/*#__PURE__*/React.createElement(\"span\",{className:\"mr-1\"},_t(t(\"Online Orders Kitchen\"))),\" \")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/kitchen\",onClick:function onClick(){getKitchenNewOrdersOnline();setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{searched:false}));},className:\"btn btn-warning btn-block sm-text text-uppercase mb-2 mb-md-0 text-truncate\"},_t(t(\"POS Orders\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){getKitchenNewOrdersOnline();setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{searched:false}));},className:\"btn btn-primary btn-block sm-text text-uppercase mb-2 mb-md-0 text-truncate\"},_t(t(\"Refresh\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(Select,{options:filterOrder.groups&&filterOrder.groups,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text mb-2 mb-md-0 \",onChange:handleFilter,maxMenuHeight:\"200px\",placeholder:_t(t(\"Filter by group\"))+\"..\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0 form-control--light-1 rounded-0\",placeholder:_t(t(\"Search by token\"))+\"..\",onChange:handleSearch})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-search\",\"aria-hidden\":\"true\"})))))),!searchedOrder.searched?/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters g-4 mt-1\"},kithcenNewOrdersOnline?[kithcenNewOrdersOnline.length>0?kithcenNewOrdersOnline.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-xl-4\",\"data-category\":index+1},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token t-bg-white p-3 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token__footer text-right\"},/*#__PURE__*/React.createElement(\"button\",{ref:refCounter,id:\"refCounter\",type:\"button\",className:\"btn btn-danger xsm-text text-uppercase btn-lg mr-2\"},_t(t(counter[index])),startCountdown(item.time_to_deliver,new Date(item.created_at),index)),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success xsm-text text-uppercase btn-lg mr-2\",onClick:function onClick(){return handleReadyConfirmation(item.id);}},_t(t(\"Order ready\"))),parseInt(item.is_accepted_by_kitchen)===0?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary xsm-text text-uppercase btn-lg\",onClick:function onClick(){return handleAcceptOrReject(item.id);}},_t(t(\"Accept order\"))):/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase btn-lg\",onClick:function onClick(){return handleAcceptOrReject(item.id);}},_t(t(\"Make order pending\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token__body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__head d-flex justify-content-between px-3\"},/*#__PURE__*/React.createElement(\"span\",null,_t(t(\"order token\")),\": #\",item.token),/*#__PURE__*/React.createElement(\"span\",null,_t(t(\"ordered at\")),\":\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},item.created_at))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"S/L\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"food\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"Additional Info\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"QTY\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__body\"},item.orderedItems.map(function(thisItem,indexThisItem){if(filterOrder.isFiltered){if(thisItem.food_group===filterOrder.filterKey){return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\", \";}else{return propertyItem.property;}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center d-flex py-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox mx-checkbox--empty m-auto\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",checked:parseInt(thisItem.is_cooking)===1,onChange:function onChange(){handleEachItemReady(item.id,thisItem.id);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"})))));}}else{return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\", \";}else{return propertyItem.property;}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center d-flex py-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox mx-checkbox--empty m-auto\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",checked:parseInt(thisItem.is_cooking)===1,onChange:function onChange(){handleEachItemReady(item.id,thisItem.id);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"})))));}}))))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 offset-2\",\"data-category\":\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token t-bg-white p-5 text-center text-uppercase text-primary no-order\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/img/no-order.jpg\",alt:\"no order found\",className:\"img-fluid h-100\"})))]:/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\",\"data-category\":\"1\"},/*#__PURE__*/React.createElement(Skeleton,{className:\"fk-order-token t-bg-white p-3 border border-2\",style:{minHeight:\"560px\"}}))):/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters g-4 mt-1\"},searchedOrder?[searchedOrder.list.length>0?searchedOrder.list.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-xl-4\",\"data-category\":index+1},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token t-bg-white p-3 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token__footer text-right\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success xsm-text text-uppercase btn-lg mr-2\",onClick:function onClick(){return handleReadyConfirmation(item.id);}},_t(t(\"Order ready\"))),parseInt(item.is_accepted_by_kitchen)===0?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary xsm-text text-uppercase btn-lg\",onClick:function onClick(){return handleAcceptOrReject(item.id);}},_t(t(\"Accept order\"))):/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase btn-lg\",onClick:function onClick(){return handleAcceptOrReject(item.id);}},_t(t(\"Make order pending\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token__body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__head d-flex justify-content-between px-3\"},/*#__PURE__*/React.createElement(\"span\",null,_t(t(\"order token\")),\": #\",item.token),/*#__PURE__*/React.createElement(\"span\",null,_t(t(\"ordered at\")),\":\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},item.created_at))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"S/L\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"food\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"Additional Info\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"QTY\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__body\"},item.orderedItems.map(function(thisItem,indexThisItem){if(filterOrder.isFiltered){if(thisItem.food_group===filterOrder.filterKey){return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\", \";}else{return propertyItem.property;}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center d-flex py-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox mx-checkbox--empty m-auto\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",checked:parseInt(thisItem.is_cooking)===1,onChange:function onChange(){handleEachItemReady(item.id,thisItem.id);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"})))));}}else{return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\", \";}else{return propertyItem.property;}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center d-flex py-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox mx-checkbox--empty m-auto\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",checked:parseInt(thisItem.is_cooking)===1,onChange:function onChange(){handleEachItemReady(item.id,thisItem.id);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"})))));}}))))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 offset-2\",\"data-category\":\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token t-bg-white p-5 text-center text-uppercase text-primary no-order\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/img/no-order.jpg\",alt:\"no order found\",className:\"img-fluid h-100\"})))]:/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\",\"data-category\":\"1\"},/*#__PURE__*/React.createElement(Skeleton,{className:\"fk-order-token t-bg-white p-3 border border-2\",style:{minHeight:\"560px\"}})))))));};export default KitchenOnline;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/kitchen/KitchenOnline.js"],"names":["React","useEffect","useState","useContext","useRef","NavLink","axios","BASE_URL","_t","getCookie","useTranslation","Helmet","Skeleton","Moment","Select","makeAnimated","toast","confirmAlert","RestaurantContext","FoodContext","KitchenOnline","t","getKitchenNewOrdersOnline","kithcenNewOrdersOnline","setKithcenNewOrdersOnline","loading","setLoading","foodGroupForSearch","isFiltered","filterKey","groups","filterOrder","setFilterOrder","list","searched","searchedOrder","setSearchedOrder","tempFoodGroups","map","item","name","push","unshift","handleFilter","foodGrp","handleSearch","e","searchInput","target","value","toLowerCase","length","searchedList","filter","lowerCaseItemToken","token","includes","handleAcceptOrReject","id","newState","orderItem","is_accepted_by_kitchen","parseInt","newStateSearched","orderItemSearched","url","formData","post","headers","Authorization","then","catch","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","handleReadyConfirmation","customUI","onClose","handleReady","newSearchState","handleEachItemReady","orderGroupId","itemId","oldState","oldSearchedState","orderGroup","find","newItems","orderedItems","eachItem","is_cooking","newItemsSearched","counter","setCounter","refCounter","startCountdown","remainingTimeInMinutes","startTime","index","endTime","getTime","intervalId","setInterval","currentTime","Date","remainingTime","current","style","display","clearInterval","minutes","Math","floor","seconds","formattedMinutes","formattedSeconds","prevItems","updatedItems","console","log","height","width","option","time_to_deliver","created_at","thisItem","indexThisItem","food_group","food_item","variation","properties","JSON","parse","propertyItem","thisIndex","property","quantity","minHeight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext, useRef } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../BaseUrl\";\r\n\r\n//functions\r\nimport { _t, getCookie } from \"../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport Moment from \"react-moment\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\n\r\n//importing context consumer here\r\nimport { RestaurantContext } from \"../../../../contexts/Restaurant\";\r\nimport { FoodContext } from \"../../../../contexts/Food\";\r\n\r\nconst KitchenOnline = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const {\r\n    //kitchen dashboard\r\n    getKitchenNewOrdersOnline,\r\n    kithcenNewOrdersOnline,\r\n    setKithcenNewOrdersOnline,\r\n    loading,\r\n    setLoading,\r\n  } = useContext(RestaurantContext);\r\n\r\n  const {\r\n    //food group\r\n    foodGroupForSearch,\r\n  } = useContext(FoodContext);\r\n\r\n  //state hooks\r\n  const [filterOrder, setFilterOrder] = useState({\r\n    isFiltered: false,\r\n    filterKey: \"\",\r\n    groups: null,\r\n  });\r\n\r\n  //search result\r\n  const [searchedOrder, setSearchedOrder] = useState({\r\n    list: null,\r\n    searched: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    //get all orders when coming to kithcen\r\n    getKitchenNewOrdersOnline();\r\n\r\n    //add \"All\" option to group filter\r\n    let tempFoodGroups = [];\r\n    foodGroupForSearch &&\r\n      foodGroupForSearch.map((item) => {\r\n        if (item.name !== \"All\") {\r\n          tempFoodGroups.push(item);\r\n        }\r\n      });\r\n    //new option added to food group\r\n    tempFoodGroups.unshift({ name: \"All\" });\r\n    setFilterOrder({\r\n      ...filterOrder,\r\n      groups: tempFoodGroups,\r\n    });\r\n  }, [foodGroupForSearch]);\r\n\r\n  //filter ordered items\r\n  const handleFilter = (foodGrp) => {\r\n    setFilterOrder({\r\n      ...filterOrder,\r\n      isFiltered: foodGrp.name == \"All\" ? false : true,\r\n      filterKey: foodGrp.name,\r\n    });\r\n  };\r\n\r\n  //search orders here\r\n  const handleSearch = (e) => {\r\n    let searchInput = e.target.value.toLowerCase();\r\n    if (searchInput.length === 0) {\r\n      setSearchedOrder({ ...searchedOrder, searched: false });\r\n    } else {\r\n      let searchedList =\r\n        kithcenNewOrdersOnline &&\r\n        kithcenNewOrdersOnline.filter((item) => {\r\n          //token\r\n          let lowerCaseItemToken = item.token;\r\n\r\n          return lowerCaseItemToken.includes(searchInput);\r\n        });\r\n      setSearchedOrder({\r\n        ...searchedOrder,\r\n        list: searchedList,\r\n        searched: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  //accept or reject\r\n  const handleAcceptOrReject = (id) => {\r\n    //front end accept-reject view update\r\n    let newState = kithcenNewOrdersOnline.map((orderItem) =>\r\n      orderItem.id === id\r\n        ? {\r\n            ...orderItem,\r\n            is_accepted_by_kitchen:\r\n              parseInt(orderItem.is_accepted_by_kitchen) === 0 ? 1 : 0,\r\n          }\r\n        : orderItem\r\n    );\r\n    setKithcenNewOrdersOnline(newState);\r\n\r\n    //front end accept-reject view update for searched\r\n    if (searchedOrder.searched) {\r\n      let newStateSearched = searchedOrder.list.map((orderItemSearched) =>\r\n        orderItemSearched.id === id\r\n          ? {\r\n              ...orderItemSearched,\r\n              is_accepted_by_kitchen:\r\n                parseInt(orderItemSearched.is_accepted_by_kitchen) === 0\r\n                  ? 1\r\n                  : 0,\r\n            }\r\n          : orderItemSearched\r\n      );\r\n      setSearchedOrder({\r\n        ...searchedOrder,\r\n        list: newStateSearched,\r\n      });\r\n    }\r\n\r\n    //set on server\r\n    const url = BASE_URL + \"/settings/accept-new-order-online\";\r\n    let formData = {\r\n      id,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then(() => {})\r\n      .catch(() => {\r\n        //undo if any error happened\r\n        newState = newState.map((orderItem) =>\r\n          orderItem.id === id\r\n            ? {\r\n                ...orderItem,\r\n                is_accepted_by_kitchen:\r\n                  parseInt(orderItem.is_accepted_by_kitchen) === 0 ? 1 : 0,\r\n              }\r\n            : orderItem\r\n        );\r\n        setKithcenNewOrdersOnline(newState);\r\n        //undo if any error happened for searched\r\n        if (searchedOrder.searched) {\r\n          let newStateSearched = searchedOrder.list.map((orderItemSearched) =>\r\n            orderItemSearched.id === id\r\n              ? {\r\n                  ...orderItemSearched,\r\n                  is_accepted_by_kitchen:\r\n                    parseInt(orderItemSearched.is_accepted_by_kitchen) === 0\r\n                      ? 1\r\n                      : 0,\r\n                }\r\n              : orderItemSearched\r\n          );\r\n          setSearchedOrder({\r\n            ...searchedOrder,\r\n            list: newStateSearched,\r\n          });\r\n        }\r\n        toast.error(`${_t(t(\"Please refresh and try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //delete confirmation modal of waiter\r\n  const handleReadyConfirmation = (id) => {\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className=\"card card-body\">\r\n            <h1>{_t(t(\"Are you sure?\"))}</h1>\r\n            <p className=\"text-center\">{_t(t(\"All items are cooked?\"))}</p>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  handleReady(id);\r\n                  onClose();\r\n                }}\r\n              >\r\n                {_t(t(\"YES, COOKED!\"))}\r\n              </button>\r\n              <button className=\"btn btn-success ml-2 px-3\" onClick={onClose}>\r\n                {_t(t(\"NO\"))}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      },\r\n    });\r\n  };\r\n\r\n  //make the order group ready here\r\n  const handleReady = (id) => {\r\n    setLoading(true);\r\n    const url = BASE_URL + \"/settings/mark-all-items-ready-online\";\r\n    let formData = {\r\n      id,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then(() => {\r\n        //remove ready item from order list\r\n        let newState = kithcenNewOrdersOnline.filter((orderItem) => {\r\n          return orderItem.id !== id;\r\n        });\r\n        setKithcenNewOrdersOnline(newState);\r\n\r\n        //remove ready item from search list\r\n        if (searchedOrder.searched) {\r\n          let newSearchState = searchedOrder.list.filter(\r\n            (orderItemSearched) => {\r\n              return orderItemSearched.id !== id;\r\n            }\r\n          );\r\n          setSearchedOrder({\r\n            ...searchedOrder,\r\n            list: newSearchState,\r\n          });\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        toast.error(`${_t(t(\"Please refresh and try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //make the order group ready here\r\n  const handleEachItemReady = (orderGroupId, itemId) => {\r\n    //to redo the action\r\n    let oldState = kithcenNewOrdersOnline;\r\n    let oldSearchedState = searchedOrder.list;\r\n\r\n    //new state\r\n    let orderGroup = kithcenNewOrdersOnline.find((orderItem) => {\r\n      return orderItem.id === orderGroupId;\r\n    });\r\n\r\n    //updating the item's cooking status\r\n    let newItems = orderGroup.orderedItems.map((eachItem) =>\r\n      eachItem.id === itemId\r\n        ? {\r\n            ...eachItem,\r\n            is_cooking: parseInt(eachItem.is_cooking) === 0 ? 1 : 0,\r\n          }\r\n        : eachItem\r\n    );\r\n\r\n    //set updated order list with item's status change\r\n    let newState = kithcenNewOrdersOnline.map((orderItem) =>\r\n      orderItem.id === orderGroupId\r\n        ? { ...orderItem, is_accepted_by_kitchen: 1, orderedItems: newItems }\r\n        : orderItem\r\n    );\r\n    setKithcenNewOrdersOnline(newState);\r\n\r\n    //searched list update\r\n    if (searchedOrder.searched) {\r\n      //new searched state\r\n      let orderGroup = searchedOrder.list.find((orderItem) => {\r\n        return orderItem.id === orderGroupId;\r\n      });\r\n\r\n      let newItemsSearched = orderGroup.orderedItems.map((eachItem) =>\r\n        eachItem.id === itemId\r\n          ? {\r\n              ...eachItem,\r\n              is_cooking: parseInt(eachItem.is_cooking) === 0 ? 1 : 0,\r\n            }\r\n          : eachItem\r\n      );\r\n\r\n      let newStateSearched = searchedOrder.list.map((orderItem) =>\r\n        orderItem.id === orderGroupId\r\n          ? {\r\n              ...orderItem,\r\n              is_accepted_by_kitchen: 1,\r\n              orderedItems: newItemsSearched,\r\n            }\r\n          : orderItem\r\n      );\r\n      setSearchedOrder({\r\n        ...searchedOrder,\r\n        list: newStateSearched,\r\n      });\r\n    }\r\n\r\n    //set server's item status\r\n    const url = BASE_URL + \"/settings/mark-order-item-ready-online\";\r\n    let formData = {\r\n      orderGroupId: orderGroupId,\r\n      id: itemId,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then(() => {})\r\n      .catch(() => {\r\n        //undo if any error occured\r\n        setKithcenNewOrdersOnline(oldState);\r\n        setSearchedOrder({\r\n          ...searchedOrder,\r\n          list: oldSearchedState,\r\n        });\r\n        toast.error(`${_t(t(\"Please refresh and try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  // console.log(kithcenNewOrdersOnline.length);\r\n\r\n  const [counter, setCounter] = useState([]);\r\n  const refCounter = useRef(null);\r\n\r\n  function startCountdown(remainingTimeInMinutes, startTime, index) {\r\n    const endTime = startTime.getTime() + remainingTimeInMinutes * 60 * 1000;\r\n  \r\n    const intervalId = setInterval(() => {\r\n      const currentTime = new Date();\r\n      const remainingTime = endTime - currentTime.getTime();\r\n  \r\n      if (remainingTime <= 0) {\r\n        if (refCounter.current) {\r\n          refCounter.current.style.display = 'none';\r\n        }\r\n        clearInterval(intervalId);\r\n      } else {\r\n        const minutes = Math.floor((remainingTime / 1000 / 60) % 60);\r\n        const seconds = Math.floor((remainingTime / 1000) % 60);\r\n  \r\n        const formattedMinutes = minutes < 10 ? `0${minutes}` : minutes;\r\n        const formattedSeconds = seconds < 10 ? `0${seconds}` : seconds;\r\n  \r\n        // setCounter(`${minutes} / ${seconds}`);\r\n        setCounter((prevItems) => {\r\n          const updatedItems = [...prevItems];\r\n          updatedItems[index] = `${minutes} / ${seconds}`;\r\n          return updatedItems;\r\n        });\r\n        console.log(`Time remaining: ${formattedMinutes}:${formattedSeconds}`);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Online Order's Kitchen\"))}</title>\r\n      </Helmet>\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"fk-scroll--index t-mt-15 t-mb-15\" data-simplebar>\r\n          <div className=\"container-fluid\">\r\n            <div className=\"t-bg-white t-pt-10 t-pb-10 t-pl-15 t-pr-15\">\r\n              {/* next page data spin loading */}\r\n              <div className={`${loading && \"loading\"}`}></div>\r\n              {/* spin loading ends */}\r\n              <div className=\"row gx-2 align-items-center\">\r\n                <div className=\"col-md-3 t-mb-15 mb-md-0\">\r\n                  <ul className=\"t-list fk-breadcrumb\">\r\n                    <li className=\"fk-breadcrumb__list\">\r\n                      <span className=\"t-link fk-breadcrumb__link text-uppercase\">\r\n                        <span className=\"mr-2\">\r\n                          <img\r\n                            src=\"/assets/img/cooking.png\"\r\n                            alt=\"cooking\"\r\n                            className=\"img-fluid\"\r\n                            style={{ height: \"40px\", width: \"40px\" }}\r\n                          />\r\n                        </span>\r\n                        <span className=\"mr-1\">\r\n                          {_t(t(\"Online Orders Kitchen\"))}\r\n                        </span>{\" \"}\r\n                      </span>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <NavLink\r\n                    to=\"/dashboard/kitchen\"\r\n                    onClick={() => {\r\n                      getKitchenNewOrdersOnline();\r\n                      setSearchedOrder({\r\n                        ...searchedOrder,\r\n                        searched: false,\r\n                      });\r\n                    }}\r\n                    className=\"btn btn-warning btn-block sm-text text-uppercase mb-2 mb-md-0 text-truncate\"\r\n                  >\r\n                    {_t(t(\"POS Orders\"))}\r\n                  </NavLink>\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      getKitchenNewOrdersOnline();\r\n                      setSearchedOrder({\r\n                        ...searchedOrder,\r\n                        searched: false,\r\n                      });\r\n                    }}\r\n                    className=\"btn btn-primary btn-block sm-text text-uppercase mb-2 mb-md-0 text-truncate\"\r\n                  >\r\n                    {_t(t(\"Refresh\"))}\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <Select\r\n                    options={filterOrder.groups && filterOrder.groups}\r\n                    components={makeAnimated()}\r\n                    getOptionLabel={(option) => option.name}\r\n                    getOptionValue={(option) => option.name}\r\n                    classNamePrefix=\"select\"\r\n                    className=\"xsm-text mb-2 mb-md-0 \"\r\n                    onChange={handleFilter}\r\n                    maxMenuHeight=\"200px\"\r\n                    placeholder={_t(t(\"Filter by group\")) + \"..\"}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-md-3\">\r\n                  <div className=\"input-group\">\r\n                    <div className=\"form-file\">\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control border-0 form-control--light-1 rounded-0\"\r\n                        placeholder={_t(t(\"Search by token\")) + \"..\"}\r\n                        onChange={handleSearch}\r\n                      />\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" type=\"button\">\r\n                      <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {!searchedOrder.searched ? (\r\n              <div className=\"row no-gutters g-4 mt-1\">\r\n                {kithcenNewOrdersOnline ? (\r\n                  [\r\n                    kithcenNewOrdersOnline.length > 0 ? (\r\n                      kithcenNewOrdersOnline.map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            className=\"col-md-6 col-xl-4\"\r\n                            data-category={index + 1}\r\n                          >\r\n                            <div className=\"fk-order-token t-bg-white p-3 h-100\">\r\n                              <div className=\"fk-order-token__footer text-right\">\r\n                                <button\r\n                                ref={refCounter}\r\n                                  id=\"refCounter\"\r\n                                  type=\"button\"\r\n                                  className=\"btn btn-danger xsm-text text-uppercase btn-lg mr-2\"\r\n                                >\r\n                                  {_t(\r\n                                    t(counter[index])\r\n                                  )}\r\n                                  {startCountdown(\r\n                                        item.time_to_deliver,\r\n                                        new Date(item.created_at),\r\n                                        index\r\n                                      )}\r\n                                </button>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className=\"btn btn-success xsm-text text-uppercase btn-lg mr-2\"\r\n                                  onClick={() =>\r\n                                    handleReadyConfirmation(item.id)\r\n                                  }\r\n                                >\r\n                                  {_t(t(\"Order ready\"))}\r\n                                </button>\r\n                                {parseInt(item.is_accepted_by_kitchen) === 0 ? (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary xsm-text text-uppercase btn-lg\"\r\n                                    onClick={() =>\r\n                                      handleAcceptOrReject(item.id)\r\n                                    }\r\n                                  >\r\n                                    {_t(t(\"Accept order\"))}\r\n                                  </button>\r\n                                ) : (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary xsm-text text-uppercase btn-lg\"\r\n                                    onClick={() =>\r\n                                      handleAcceptOrReject(item.id)\r\n                                    }\r\n                                  >\r\n                                    {_t(t(\"Make order pending\"))}\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                              <div className=\"fk-order-token__body\">\r\n                                <div className=\"fk-addons-table\">\r\n                                  <div className=\"fk-addons-table__head d-flex justify-content-between px-3\">\r\n                                    <span>\r\n                                      {_t(t(\"order token\"))}: #{item.token}\r\n                                    </span>\r\n                                    <span>\r\n                                      {_t(t(\"ordered at\"))}:{\" \"}\r\n                                      <Moment format=\"LT\">\r\n                                        {item.created_at}\r\n                                      </Moment>\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"fk-addons-table__info\">\r\n                                    <div className=\"row g-0\">\r\n                                      <div className=\"col-2 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"S/L\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-3 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"food\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-4 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"Additional Info\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-2 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"QTY\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-1 text-center py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          <i className=\"fa fa-check\"></i>\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"fk-addons-table__body\">\r\n                                    {item.orderedItems.map(\r\n                                      (thisItem, indexThisItem) => {\r\n                                        if (filterOrder.isFiltered) {\r\n                                          if (\r\n                                            thisItem.food_group ===\r\n                                            filterOrder.filterKey\r\n                                          ) {\r\n                                            return (\r\n                                              <div class=\"fk-addons-table__body-row\">\r\n                                                <div class=\"row g-0\">\r\n                                                  <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {indexThisItem + 1}\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div class=\"col-3 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {thisItem.food_item} (\r\n                                                      {thisItem.food_group})\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div class=\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\">\r\n                                                    {thisItem.variation !==\r\n                                                      null && (\r\n                                                      <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                        <span class=\"font-weight-bold mr-1\">\r\n                                                          {_t(t(\"variation\"))}:\r\n                                                        </span>\r\n                                                        {thisItem.variation}\r\n                                                      </span>\r\n                                                    )}\r\n\r\n                                                    {thisItem.properties !==\r\n                                                      null && (\r\n                                                      <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                        <span class=\"font-weight-bold mr-1\">\r\n                                                          {_t(t(\"properties\"))}:\r\n                                                        </span>\r\n                                                        {JSON.parse(\r\n                                                          thisItem.properties\r\n                                                        ).map(\r\n                                                          (\r\n                                                            propertyItem,\r\n                                                            thisIndex\r\n                                                          ) => {\r\n                                                            if (\r\n                                                              thisIndex !==\r\n                                                              JSON.parse(\r\n                                                                thisItem.properties\r\n                                                              ).length -\r\n                                                                1\r\n                                                            ) {\r\n                                                              return (\r\n                                                                propertyItem.property +\r\n                                                                \", \"\r\n                                                              );\r\n                                                            } else {\r\n                                                              return propertyItem.property;\r\n                                                            }\r\n                                                          }\r\n                                                        )}\r\n                                                      </span>\r\n                                                    )}\r\n                                                  </div>\r\n                                                  <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {thisItem.quantity}\r\n                                                    </span>\r\n                                                  </div>\r\n\r\n                                                  <div className=\"col-1 text-center d-flex py-2\">\r\n                                                    <label className=\"mx-checkbox mx-checkbox--empty m-auto\">\r\n                                                      <input\r\n                                                        type=\"checkbox\"\r\n                                                        className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                                        checked={\r\n                                                          parseInt(\r\n                                                            thisItem.is_cooking\r\n                                                          ) === 1\r\n                                                        }\r\n                                                        onChange={() => {\r\n                                                          handleEachItemReady(\r\n                                                            item.id,\r\n                                                            thisItem.id\r\n                                                          );\r\n                                                        }}\r\n                                                      />\r\n                                                      <span className=\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"></span>\r\n                                                    </label>\r\n                                                  </div>\r\n                                                </div>\r\n                                              </div>\r\n                                            );\r\n                                          }\r\n                                        } else {\r\n                                          return (\r\n                                            <div class=\"fk-addons-table__body-row\">\r\n                                              <div class=\"row g-0\">\r\n                                                <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {indexThisItem + 1}\r\n                                                  </span>\r\n                                                </div>\r\n                                                <div class=\"col-3 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {thisItem.food_item} (\r\n                                                    {thisItem.food_group})\r\n                                                  </span>\r\n                                                </div>\r\n                                                <div class=\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\">\r\n                                                  {thisItem.variation !==\r\n                                                    null && (\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                      <span class=\"font-weight-bold mr-1\">\r\n                                                        {_t(t(\"variation\"))}:\r\n                                                      </span>\r\n                                                      {thisItem.variation}\r\n                                                    </span>\r\n                                                  )}\r\n\r\n                                                  {thisItem.properties !==\r\n                                                    null && (\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                      <span class=\"font-weight-bold mr-1\">\r\n                                                        {_t(t(\"properties\"))}:\r\n                                                      </span>\r\n                                                      {JSON.parse(\r\n                                                        thisItem.properties\r\n                                                      ).map(\r\n                                                        (\r\n                                                          propertyItem,\r\n                                                          thisIndex\r\n                                                        ) => {\r\n                                                          if (\r\n                                                            thisIndex !==\r\n                                                            JSON.parse(\r\n                                                              thisItem.properties\r\n                                                            ).length -\r\n                                                              1\r\n                                                          ) {\r\n                                                            return (\r\n                                                              propertyItem.property +\r\n                                                              \", \"\r\n                                                            );\r\n                                                          } else {\r\n                                                            return propertyItem.property;\r\n                                                          }\r\n                                                        }\r\n                                                      )}\r\n                                                    </span>\r\n                                                  )}\r\n                                                </div>\r\n                                                <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {thisItem.quantity}\r\n                                                  </span>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-1 text-center d-flex py-2\">\r\n                                                  <label className=\"mx-checkbox mx-checkbox--empty m-auto\">\r\n                                                    <input\r\n                                                      type=\"checkbox\"\r\n                                                      className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                                      checked={\r\n                                                        parseInt(\r\n                                                          thisItem.is_cooking\r\n                                                        ) === 1\r\n                                                      }\r\n                                                      onChange={() => {\r\n                                                        handleEachItemReady(\r\n                                                          item.id,\r\n                                                          thisItem.id\r\n                                                        );\r\n                                                      }}\r\n                                                    />\r\n                                                    <span className=\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"></span>\r\n                                                  </label>\r\n                                                </div>\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        }\r\n                                      }\r\n                                    )}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div className=\"col-8 offset-2\" data-category=\"1\">\r\n                        <div className=\"fk-order-token t-bg-white p-5 text-center text-uppercase text-primary no-order\">\r\n                          {/* No order in the kitchen */}\r\n                          <img\r\n                            src=\"/assets/img/no-order.jpg\"\r\n                            alt=\"no order found\"\r\n                            className=\"img-fluid h-100\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ),\r\n                  ]\r\n                ) : (\r\n                  <div className=\"col-12\" data-category=\"1\">\r\n                    <Skeleton\r\n                      className=\"fk-order-token t-bg-white p-3 border border-2\"\r\n                      style={{ minHeight: \"560px\" }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"row no-gutters g-4 mt-1\">\r\n                {searchedOrder ? (\r\n                  [\r\n                    searchedOrder.list.length > 0 ? (\r\n                      searchedOrder.list.map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            className=\"col-md-6 col-xl-4\"\r\n                            data-category={index + 1}\r\n                          >\r\n                            <div className=\"fk-order-token t-bg-white p-3 h-100\">\r\n                              <div className=\"fk-order-token__footer text-right\">\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className=\"btn btn-success xsm-text text-uppercase btn-lg mr-2\"\r\n                                  onClick={() =>\r\n                                    handleReadyConfirmation(item.id)\r\n                                  }\r\n                                >\r\n                                  {_t(t(\"Order ready\"))}\r\n                                </button>\r\n                                {parseInt(item.is_accepted_by_kitchen) === 0 ? (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary xsm-text text-uppercase btn-lg\"\r\n                                    onClick={() =>\r\n                                      handleAcceptOrReject(item.id)\r\n                                    }\r\n                                  >\r\n                                    {_t(t(\"Accept order\"))}\r\n                                  </button>\r\n                                ) : (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary xsm-text text-uppercase btn-lg\"\r\n                                    onClick={() =>\r\n                                      handleAcceptOrReject(item.id)\r\n                                    }\r\n                                  >\r\n                                    {_t(t(\"Make order pending\"))}\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                              <div className=\"fk-order-token__body\">\r\n                                <div className=\"fk-addons-table\">\r\n                                  <div className=\"fk-addons-table__head d-flex justify-content-between px-3\">\r\n                                    <span>\r\n                                      {_t(t(\"order token\"))}: #{item.token}\r\n                                    </span>\r\n                                    <span>\r\n                                      {_t(t(\"ordered at\"))}:{\" \"}\r\n                                      <Moment format=\"LT\">\r\n                                        {item.created_at}\r\n                                      </Moment>\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"fk-addons-table__info\">\r\n                                    <div className=\"row g-0\">\r\n                                      <div className=\"col-2 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"S/L\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-3 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"food\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-4 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"Additional Info\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-2 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"QTY\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-1 text-center py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          <i className=\"fa fa-check\"></i>\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"fk-addons-table__body\">\r\n                                    {item.orderedItems.map(\r\n                                      (thisItem, indexThisItem) => {\r\n                                        if (filterOrder.isFiltered) {\r\n                                          if (\r\n                                            thisItem.food_group ===\r\n                                            filterOrder.filterKey\r\n                                          ) {\r\n                                            return (\r\n                                              <div class=\"fk-addons-table__body-row\">\r\n                                                <div class=\"row g-0\">\r\n                                                  <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {indexThisItem + 1}\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div class=\"col-3 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {thisItem.food_item} (\r\n                                                      {thisItem.food_group})\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div class=\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\">\r\n                                                    {thisItem.variation !==\r\n                                                      null && (\r\n                                                      <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                        <span class=\"font-weight-bold mr-1\">\r\n                                                          {_t(t(\"variation\"))}:\r\n                                                        </span>\r\n                                                        {thisItem.variation}\r\n                                                      </span>\r\n                                                    )}\r\n\r\n                                                    {thisItem.properties !==\r\n                                                      null && (\r\n                                                      <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                        <span class=\"font-weight-bold mr-1\">\r\n                                                          {_t(t(\"properties\"))}:\r\n                                                        </span>\r\n                                                        {JSON.parse(\r\n                                                          thisItem.properties\r\n                                                        ).map(\r\n                                                          (\r\n                                                            propertyItem,\r\n                                                            thisIndex\r\n                                                          ) => {\r\n                                                            if (\r\n                                                              thisIndex !==\r\n                                                              JSON.parse(\r\n                                                                thisItem.properties\r\n                                                              ).length -\r\n                                                                1\r\n                                                            ) {\r\n                                                              return (\r\n                                                                propertyItem.property +\r\n                                                                \", \"\r\n                                                              );\r\n                                                            } else {\r\n                                                              return propertyItem.property;\r\n                                                            }\r\n                                                          }\r\n                                                        )}\r\n                                                      </span>\r\n                                                    )}\r\n                                                  </div>\r\n                                                  <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {thisItem.quantity}\r\n                                                    </span>\r\n                                                  </div>\r\n\r\n                                                  <div className=\"col-1 text-center d-flex py-2\">\r\n                                                    <label className=\"mx-checkbox mx-checkbox--empty m-auto\">\r\n                                                      <input\r\n                                                        type=\"checkbox\"\r\n                                                        className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                                        checked={\r\n                                                          parseInt(\r\n                                                            thisItem.is_cooking\r\n                                                          ) === 1\r\n                                                        }\r\n                                                        onChange={() => {\r\n                                                          handleEachItemReady(\r\n                                                            item.id,\r\n                                                            thisItem.id\r\n                                                          );\r\n                                                        }}\r\n                                                      />\r\n                                                      <span className=\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"></span>\r\n                                                    </label>\r\n                                                  </div>\r\n                                                </div>\r\n                                              </div>\r\n                                            );\r\n                                          }\r\n                                        } else {\r\n                                          return (\r\n                                            <div class=\"fk-addons-table__body-row\">\r\n                                              <div class=\"row g-0\">\r\n                                                <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {indexThisItem + 1}\r\n                                                  </span>\r\n                                                </div>\r\n                                                <div class=\"col-3 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {thisItem.food_item} (\r\n                                                    {thisItem.food_group})\r\n                                                  </span>\r\n                                                </div>\r\n                                                <div class=\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\">\r\n                                                  {thisItem.variation !==\r\n                                                    null && (\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                      <span class=\"font-weight-bold mr-1\">\r\n                                                        {_t(t(\"variation\"))}:\r\n                                                      </span>\r\n                                                      {thisItem.variation}\r\n                                                    </span>\r\n                                                  )}\r\n\r\n                                                  {thisItem.properties !==\r\n                                                    null && (\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                      <span class=\"font-weight-bold mr-1\">\r\n                                                        {_t(t(\"properties\"))}:\r\n                                                      </span>\r\n                                                      {JSON.parse(\r\n                                                        thisItem.properties\r\n                                                      ).map(\r\n                                                        (\r\n                                                          propertyItem,\r\n                                                          thisIndex\r\n                                                        ) => {\r\n                                                          if (\r\n                                                            thisIndex !==\r\n                                                            JSON.parse(\r\n                                                              thisItem.properties\r\n                                                            ).length -\r\n                                                              1\r\n                                                          ) {\r\n                                                            return (\r\n                                                              propertyItem.property +\r\n                                                              \", \"\r\n                                                            );\r\n                                                          } else {\r\n                                                            return propertyItem.property;\r\n                                                          }\r\n                                                        }\r\n                                                      )}\r\n                                                    </span>\r\n                                                  )}\r\n                                                </div>\r\n                                                <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {thisItem.quantity}\r\n                                                  </span>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-1 text-center d-flex py-2\">\r\n                                                  <label className=\"mx-checkbox mx-checkbox--empty m-auto\">\r\n                                                    <input\r\n                                                      type=\"checkbox\"\r\n                                                      className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                                      checked={\r\n                                                        parseInt(\r\n                                                          thisItem.is_cooking\r\n                                                        ) === 1\r\n                                                      }\r\n                                                      onChange={() => {\r\n                                                        handleEachItemReady(\r\n                                                          item.id,\r\n                                                          thisItem.id\r\n                                                        );\r\n                                                      }}\r\n                                                    />\r\n                                                    <span className=\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"></span>\r\n                                                  </label>\r\n                                                </div>\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        }\r\n                                      }\r\n                                    )}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div className=\"col-8 offset-2\" data-category=\"1\">\r\n                        <div className=\"fk-order-token t-bg-white p-5 text-center text-uppercase text-primary no-order\">\r\n                          {/* No order in the kitchen */}\r\n                          <img\r\n                            src=\"/assets/img/no-order.jpg\"\r\n                            alt=\"no order found\"\r\n                            className=\"img-fluid h-100\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ),\r\n                  ]\r\n                ) : (\r\n                  <div className=\"col-12\" data-category=\"1\">\r\n                    <Skeleton\r\n                      className=\"fk-order-token t-bg-white p-3 border border-2\"\r\n                      style={{ minHeight: \"560px\" }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default KitchenOnline;\r\n"]},"metadata":{},"sourceType":"module"}