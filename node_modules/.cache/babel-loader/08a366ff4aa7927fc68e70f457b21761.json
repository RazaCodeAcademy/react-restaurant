{"ast":null,"code":"var _jsxFileName = \"/Users/raza/Downloads/khadyo_source_code/client/src/contexts/User.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\"; //axios and base url\n\nimport axios from \"axios\";\nimport { BASE_URL } from \"../BaseUrl\"; //functions\n\nimport { getCookie, deleteCookie } from \"../functions/Functions\"; //3rd party packages\n// creating context api\n\nconst UserContext = React.createContext();\n\nconst UserProvider = ({\n  children\n}) => {\n  const history = useHistory(); // State hooks here\n  //loading\n\n  const [loading, setLoading] = useState(false);\n  const [dataPaginating, setDataPaginating] = useState(false); // auth user\n\n  const [authUserInfo, setAuthUserInfo] = useState({\n    details: null,\n    permissions: null\n  }); //supplier\n\n  const [supplierList, setSupplierList] = useState(null);\n  const [supplierForSearch, setSupplierForSearch] = useState(null); //waiter\n\n  const [waiterList, setWaiterList] = useState(null);\n  const [waiterForSearch, setWaiterForSearch] = useState(null); //customer\n\n  const [customerList, setCustomerList] = useState(null);\n  const [customerForSearch, setCustomerForSearch] = useState(null); //customer online\n\n  const [customerListOnline, setCustomerListOnline] = useState(null);\n  const [customerOnlineForSearch, setCustomerOnlineForSearch] = useState(null); //adminStaff\n\n  const [adminStaffList, setAdminStaffList] = useState(null);\n  const [adminStaffForSearch, setAdminStaffListforSearch] = useState(null); //delivery\n\n  const [deliveryList, setDeliveryList] = useState(null);\n  const [deliveryForSearch, setDeliveryListforSearch] = useState(null);\n  const [deliveryListReq, setDeliveryListReq] = useState(null);\n  const [deliveryListReqForSearch, setDeliveryListReqForSearch] = useState(null); //useEffect- to get data on render\n\n  useEffect(() => {\n    //call- unauthenticated\n    //call if authenticated\n    if (getCookie() !== undefined) {\n      getAuthUser();\n      getWaiter();\n      getCustomer();\n      getAdminStaff();\n    }\n  }, []); //get authenticated user\n\n  const getAuthUser = () => {\n    setLoading(true);\n    const langUrl = BASE_URL + \"/auth/user\";\n    return axios.get(langUrl, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      if (res.data[0].is_banned === 0 || res.data[0].is_banned === \"0\") {\n        setAuthUserInfo({ ...authUserInfo,\n          details: res.data[0],\n          permissions: res.data[1]\n        });\n        setLoading(false);\n      } else {\n        deleteCookie();\n      }\n    }).catch(() => {});\n  }; //get supplier\n\n\n  const getSupplier = () => {\n    setLoading(true);\n    const supplierUrl = BASE_URL + \"/settings/get-supplier\";\n    return axios.get(supplierUrl, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setSupplierList(res.data[0]);\n      setSupplierForSearch(res.data[1]);\n      setLoading(false);\n    });\n  }; // get paginated supplier\n\n\n  const setPaginatedSupplier = pageNo => {\n    setDataPaginating(true);\n    const url = BASE_URL + \"/settings/get-supplier?page=\" + pageNo;\n    return axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setSupplierList(res.data[0]);\n      setSupplierForSearch(res.data[1]);\n      setDataPaginating(false);\n    }).catch(() => {});\n  }; //get waiter\n\n\n  const getWaiter = () => {\n    setLoading(true);\n    const waiterUrl = BASE_URL + \"/settings/get-waiter\";\n    return axios.get(waiterUrl, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setWaiterList(res.data[0]);\n      setWaiterForSearch(res.data[1]);\n      setLoading(false);\n    });\n  }; // get paginated waiter\n\n\n  const setPaginatedWaiter = pageNo => {\n    setDataPaginating(true);\n    const url = BASE_URL + \"/settings/get-waiter?page=\" + pageNo;\n    return axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setWaiterList(res.data[0]);\n      setWaiterForSearch(res.data[1]);\n      setDataPaginating(false);\n    }).catch(() => {});\n  }; //get customer\n\n\n  const getCustomer = () => {\n    setLoading(true);\n    const customerUrl = BASE_URL + \"/settings/get-customer\";\n    return axios.get(customerUrl, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setCustomerList(res.data[0]);\n      setCustomerForSearch(res.data[1]);\n      setLoading(false);\n    });\n  }; // get paginated customer\n\n\n  const setPaginatedCustomer = pageNo => {\n    setDataPaginating(true);\n    const url = BASE_URL + \"/settings/get-customer?page=\" + pageNo;\n    return axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setCustomerList(res.data[0]);\n      setCustomerForSearch(res.data[1]);\n      setDataPaginating(false);\n    }).catch(() => {});\n  }; //get customer online\n\n\n  const getCustomerOnline = () => {\n    setLoading(true);\n    const customerUrl = BASE_URL + \"/settings/get-website-customer\";\n    return axios.get(customerUrl, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setCustomerListOnline(res.data[0]);\n      setCustomerOnlineForSearch(res.data[1]);\n      setLoading(false);\n    });\n  }; // get paginated customer online\n\n\n  const setPaginatedCustomerOnline = pageNo => {\n    setDataPaginating(true);\n    const url = BASE_URL + \"/settings/get-website-customer?page=\" + pageNo;\n    return axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setCustomerListOnline(res.data[0]);\n      setCustomerOnlineForSearch(res.data[1]);\n      setDataPaginating(false);\n    }).catch(() => {});\n  }; //get adminStaff\n\n\n  const getAdminStaff = () => {\n    setLoading(true);\n    const adminStaffUrl = BASE_URL + \"/settings/get-admin-staff\";\n    return axios.get(adminStaffUrl, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setAdminStaffList(res.data[0]);\n      setAdminStaffListforSearch(res.data[1]);\n      setLoading(false);\n    });\n  }; // get paginated adminStaff\n\n\n  const setPaginatedAdminStaff = pageNo => {\n    setDataPaginating(true);\n    const url = BASE_URL + \"/settings/get-admin-staff?page=\" + pageNo;\n    return axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setAdminStaffList(res.data[0]);\n      setAdminStaffListforSearch(res.data[1]);\n      setDataPaginating(false);\n    }).catch(() => {});\n  }; //get delivery user\n\n\n  const getDeliveryUser = () => {\n    setLoading(true);\n    const adminStaffUrl = BASE_URL + \"/settings/get-delivery-man\";\n    return axios.get(adminStaffUrl, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setDeliveryList(res.data[0]);\n      setDeliveryListforSearch(res.data[1]);\n      setDeliveryListReq(res.data[2]);\n      setDeliveryListReqForSearch(res.data[3]);\n      setLoading(false);\n    });\n  }; // get paginated delivery user\n\n\n  const setPaginatedDeliveryUser = pageNo => {\n    setDataPaginating(true);\n    const url = BASE_URL + \"/settings/get-delivery-man?page=\" + pageNo;\n    return axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setDeliveryList(res.data[0]);\n      setDeliveryListforSearch(res.data[1]);\n      setDeliveryListReq(res.data[2]);\n      setDeliveryListReqForSearch(res.data[3]);\n      setDataPaginating(false);\n    }).catch(() => {});\n  };\n\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      //auth user\n      getAuthUser,\n      setAuthUserInfo,\n      authUserInfo,\n      //supplier\n      getSupplier,\n      supplierList,\n      setSupplierList,\n      setPaginatedSupplier,\n      supplierForSearch,\n      setSupplierForSearch,\n      //waiter\n      getWaiter,\n      waiterList,\n      setWaiterList,\n      setPaginatedWaiter,\n      waiterForSearch,\n      setWaiterForSearch,\n      //customer\n      getCustomer,\n      customerList,\n      setCustomerList,\n      setPaginatedCustomer,\n      customerForSearch,\n      setCustomerForSearch,\n      //customer Online\n      getCustomerOnline,\n      customerListOnline,\n      setCustomerListOnline,\n      setPaginatedCustomerOnline,\n      customerOnlineForSearch,\n      setCustomerOnlineForSearch,\n      //adminStaff\n      getAdminStaff,\n      adminStaffList,\n      setAdminStaffList,\n      setPaginatedAdminStaff,\n      adminStaffForSearch,\n      setAdminStaffListforSearch,\n      //delivery user\n      getDeliveryUser,\n      deliveryList,\n      setDeliveryList,\n      setPaginatedDeliveryUser,\n      deliveryForSearch,\n      setDeliveryListforSearch,\n      deliveryListReq,\n      setDeliveryListReq,\n      deliveryListReqForSearch,\n      setDeliveryListReqForSearch,\n      //pagination\n      dataPaginating,\n      setDataPaginating\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 5\n    }\n  }, children);\n};\n\nexport { UserContext, UserProvider };","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/contexts/User.js"],"names":["React","useState","useEffect","useHistory","axios","BASE_URL","getCookie","deleteCookie","UserContext","createContext","UserProvider","children","history","loading","setLoading","dataPaginating","setDataPaginating","authUserInfo","setAuthUserInfo","details","permissions","supplierList","setSupplierList","supplierForSearch","setSupplierForSearch","waiterList","setWaiterList","waiterForSearch","setWaiterForSearch","customerList","setCustomerList","customerForSearch","setCustomerForSearch","customerListOnline","setCustomerListOnline","customerOnlineForSearch","setCustomerOnlineForSearch","adminStaffList","setAdminStaffList","adminStaffForSearch","setAdminStaffListforSearch","deliveryList","setDeliveryList","deliveryForSearch","setDeliveryListforSearch","deliveryListReq","setDeliveryListReq","deliveryListReqForSearch","setDeliveryListReqForSearch","undefined","getAuthUser","getWaiter","getCustomer","getAdminStaff","langUrl","get","headers","Authorization","then","res","data","is_banned","catch","getSupplier","supplierUrl","setPaginatedSupplier","pageNo","url","waiterUrl","setPaginatedWaiter","customerUrl","setPaginatedCustomer","getCustomerOnline","setPaginatedCustomerOnline","adminStaffUrl","setPaginatedAdminStaff","getDeliveryUser","setPaginatedDeliveryUser"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../BaseUrl\";\r\n\r\n//functions\r\nimport { getCookie, deleteCookie } from \"../functions/Functions\";\r\n\r\n//3rd party packages\r\n\r\n// creating context api\r\nconst UserContext = React.createContext();\r\n\r\nconst UserProvider = ({ children }) => {\r\n  const history = useHistory();\r\n\r\n  // State hooks here\r\n  //loading\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataPaginating, setDataPaginating] = useState(false);\r\n\r\n  // auth user\r\n  const [authUserInfo, setAuthUserInfo] = useState({\r\n    details: null,\r\n    permissions: null,\r\n  });\r\n\r\n  //supplier\r\n  const [supplierList, setSupplierList] = useState(null);\r\n  const [supplierForSearch, setSupplierForSearch] = useState(null);\r\n\r\n  //waiter\r\n  const [waiterList, setWaiterList] = useState(null);\r\n  const [waiterForSearch, setWaiterForSearch] = useState(null);\r\n\r\n  //customer\r\n  const [customerList, setCustomerList] = useState(null);\r\n  const [customerForSearch, setCustomerForSearch] = useState(null);\r\n\r\n  //customer online\r\n  const [customerListOnline, setCustomerListOnline] = useState(null);\r\n  const [customerOnlineForSearch, setCustomerOnlineForSearch] = useState(null);\r\n\r\n  //adminStaff\r\n  const [adminStaffList, setAdminStaffList] = useState(null);\r\n  const [adminStaffForSearch, setAdminStaffListforSearch] = useState(null);\r\n\r\n  //delivery\r\n  const [deliveryList, setDeliveryList] = useState(null);\r\n  const [deliveryForSearch, setDeliveryListforSearch] = useState(null);\r\n  const [deliveryListReq, setDeliveryListReq] = useState(null);\r\n  const [deliveryListReqForSearch, setDeliveryListReqForSearch] =\r\n    useState(null);\r\n\r\n  //useEffect- to get data on render\r\n  useEffect(() => {\r\n    //call- unauthenticated\r\n\r\n    //call if authenticated\r\n    if (getCookie() !== undefined) {\r\n      getAuthUser();\r\n      getWaiter();\r\n      getCustomer();\r\n      getAdminStaff();\r\n    }\r\n  }, []);\r\n\r\n  //get authenticated user\r\n  const getAuthUser = () => {\r\n    setLoading(true);\r\n    const langUrl = BASE_URL + \"/auth/user\";\r\n    return axios\r\n      .get(langUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        if (res.data[0].is_banned === 0 || res.data[0].is_banned === \"0\") {\r\n          setAuthUserInfo({\r\n            ...authUserInfo,\r\n            details: res.data[0],\r\n            permissions: res.data[1],\r\n          });\r\n          setLoading(false);\r\n        } else {\r\n          deleteCookie();\r\n        }\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get supplier\r\n  const getSupplier = () => {\r\n    setLoading(true);\r\n    const supplierUrl = BASE_URL + \"/settings/get-supplier\";\r\n    return axios\r\n      .get(supplierUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setSupplierList(res.data[0]);\r\n        setSupplierForSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated supplier\r\n  const setPaginatedSupplier = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-supplier?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setSupplierList(res.data[0]);\r\n        setSupplierForSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get waiter\r\n  const getWaiter = () => {\r\n    setLoading(true);\r\n    const waiterUrl = BASE_URL + \"/settings/get-waiter\";\r\n    return axios\r\n      .get(waiterUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setWaiterList(res.data[0]);\r\n        setWaiterForSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated waiter\r\n  const setPaginatedWaiter = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-waiter?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setWaiterList(res.data[0]);\r\n        setWaiterForSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get customer\r\n  const getCustomer = () => {\r\n    setLoading(true);\r\n    const customerUrl = BASE_URL + \"/settings/get-customer\";\r\n    return axios\r\n      .get(customerUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setCustomerList(res.data[0]);\r\n        setCustomerForSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated customer\r\n  const setPaginatedCustomer = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-customer?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setCustomerList(res.data[0]);\r\n        setCustomerForSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get customer online\r\n  const getCustomerOnline = () => {\r\n    setLoading(true);\r\n    const customerUrl = BASE_URL + \"/settings/get-website-customer\";\r\n    return axios\r\n      .get(customerUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setCustomerListOnline(res.data[0]);\r\n        setCustomerOnlineForSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated customer online\r\n  const setPaginatedCustomerOnline = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-website-customer?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setCustomerListOnline(res.data[0]);\r\n        setCustomerOnlineForSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get adminStaff\r\n  const getAdminStaff = () => {\r\n    setLoading(true);\r\n    const adminStaffUrl = BASE_URL + \"/settings/get-admin-staff\";\r\n    return axios\r\n      .get(adminStaffUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setAdminStaffList(res.data[0]);\r\n        setAdminStaffListforSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated adminStaff\r\n  const setPaginatedAdminStaff = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-admin-staff?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setAdminStaffList(res.data[0]);\r\n        setAdminStaffListforSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get delivery user\r\n  const getDeliveryUser = () => {\r\n    setLoading(true);\r\n    const adminStaffUrl = BASE_URL + \"/settings/get-delivery-man\";\r\n    return axios\r\n      .get(adminStaffUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setDeliveryList(res.data[0]);\r\n        setDeliveryListforSearch(res.data[1]);\r\n        setDeliveryListReq(res.data[2]);\r\n        setDeliveryListReqForSearch(res.data[3]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated delivery user\r\n  const setPaginatedDeliveryUser = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-delivery-man?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setDeliveryList(res.data[0]);\r\n        setDeliveryListforSearch(res.data[1]);\r\n        setDeliveryListReq(res.data[2]);\r\n        setDeliveryListReqForSearch(res.data[3]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        //auth user\r\n        getAuthUser,\r\n        setAuthUserInfo,\r\n        authUserInfo,\r\n\r\n        //supplier\r\n        getSupplier,\r\n        supplierList,\r\n        setSupplierList,\r\n        setPaginatedSupplier,\r\n        supplierForSearch,\r\n        setSupplierForSearch,\r\n\r\n        //waiter\r\n        getWaiter,\r\n        waiterList,\r\n        setWaiterList,\r\n        setPaginatedWaiter,\r\n        waiterForSearch,\r\n        setWaiterForSearch,\r\n\r\n        //customer\r\n        getCustomer,\r\n        customerList,\r\n        setCustomerList,\r\n        setPaginatedCustomer,\r\n        customerForSearch,\r\n        setCustomerForSearch,\r\n\r\n        //customer Online\r\n        getCustomerOnline,\r\n        customerListOnline,\r\n        setCustomerListOnline,\r\n        setPaginatedCustomerOnline,\r\n        customerOnlineForSearch,\r\n        setCustomerOnlineForSearch,\r\n\r\n        //adminStaff\r\n        getAdminStaff,\r\n        adminStaffList,\r\n        setAdminStaffList,\r\n        setPaginatedAdminStaff,\r\n        adminStaffForSearch,\r\n        setAdminStaffListforSearch,\r\n\r\n        //delivery user\r\n        getDeliveryUser,\r\n        deliveryList,\r\n        setDeliveryList,\r\n        setPaginatedDeliveryUser,\r\n        deliveryForSearch,\r\n        setDeliveryListforSearch,\r\n        deliveryListReq,\r\n        setDeliveryListReq,\r\n        deliveryListReqForSearch,\r\n        setDeliveryListReqForSearch,\r\n\r\n        //pagination\r\n        dataPaginating,\r\n        setDataPaginating,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport { UserContext, UserProvider };\r\n"]},"metadata":{},"sourceType":"module"}