{"ast":null,"code":"import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState}from\"react\";import{useHistory,NavLink}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../BaseUrl\";//functions\nimport{_t,tableLoading}from\"../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";//context consumer\nimport{SettingsContext}from\"../../contexts/Settings\";var InstallPermission=function InstallPermission(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading,dataPaginating=_useContext.dataPaginating;// States hook here\nvar _useState=useState({php_version:null,curl_status:null,env_status:null,pdo_status:null}),_useState2=_slicedToArray(_useState,2),theData=_useState2[0],setTheData=_useState2[1];//useEffect == componentDidMount()\nuseEffect(function(){setLoading(true);handleCheckPermission();setTimeout(function(){setLoading(false);},300);},[]);//check permission\nvar handleCheckPermission=function handleCheckPermission(){var url=BASE_URL+\"/check-permission\";return axios.get(url).then(function(res){setTheData({php_version:res.data[0],curl_status:res.data[1],env_status:res.data[2],pdo_status:res.data[3]});}).catch(function(err){});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,\"Checking Permissions\")),/*#__PURE__*/React.createElement(\"div\",{id:\"main\",className:\"main-height-100\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10 offset-1 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"installation-full-page\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),loading===true?tableLoading():/*#__PURE__*/React.createElement(\"div\",{key:\"smtp-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center t-pt-15 t-pb-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-5 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3 align-items-center\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"text-success font-weight-bold\"},\"Checking Permissions\"),/*#__PURE__*/React.createElement(\"p\",{className:\"sm-text\"},\"We ran diagnosis on your server. Review the items that have a red mark on it. \",/*#__PURE__*/React.createElement(\"br\",null),\" If everything is green, you are good to go to the next step.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"m-5\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-semibold\"},\"Php version 8+\",theData.php_version!==null&&theData.php_version>7.3?/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check text-success pull-right\"}):/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-close text-danger pull-right\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-semibold\"},\"Curl Enabled\",theData.curl_status!==null&&theData.curl_status===true?/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check text-success pull-right\"}):/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-close text-danger pull-right\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-semibold\"},/*#__PURE__*/React.createElement(\"b\",null,\".env\"),\" File Writeable Permission\",theData.env_status!==null&&theData.env_status===true?/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check text-success pull-right\"}):/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-close text-danger pull-right\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-semibold\"},/*#__PURE__*/React.createElement(\"b\",null,\".env\"),\" Check PDO\",theData.pdo_status!==null&&theData.pdo_status===true?/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check text-success pull-right\"}):/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-close text-danger pull-right\"})))),/*#__PURE__*/React.createElement(\"p\",{className:\"my-2 mx-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-uppercase col-4 offset-4 mt-4 mb-3\"},theData.php_version!==null&&theData.php_version>7.3&&theData.curl_status!==null&&theData.pdo_status===true&&(theData.curl_status===true&&theData.env_status)!==null&&theData.env_status===true?/*#__PURE__*/React.createElement(NavLink,{to:\"/installation/database-setup\",className:\"btn btn-secondary btn-block\"},\" \",\"Go To Next Step\"):/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-primary text-uppercase\"},\"Please contact your server provider to configure the server accordring to the requirements\"))))))))))));};export default InstallPermission;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/install/InstallPermission.js"],"names":["React","useEffect","useContext","useState","useHistory","NavLink","axios","BASE_URL","_t","tableLoading","useTranslation","Helmet","SettingsContext","InstallPermission","t","history","loading","setLoading","dataPaginating","php_version","curl_status","env_status","pdo_status","theData","setTheData","handleCheckPermission","setTimeout","url","get","then","res","data","catch","err"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory, NavLink } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../BaseUrl\";\r\n\r\n//functions\r\nimport { _t, tableLoading } from \"../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../contexts/Settings\";\r\n\r\nconst InstallPermission = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let { loading, setLoading, dataPaginating } = useContext(SettingsContext);\r\n\r\n  // States hook here\r\n  const [theData, setTheData] = useState({\r\n    php_version: null,\r\n    curl_status: null,\r\n    env_status: null,\r\n    pdo_status: null\r\n  });\r\n\r\n  //useEffect == componentDidMount()\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    handleCheckPermission();\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 300);\r\n  }, []);\r\n\r\n  //check permission\r\n  const handleCheckPermission = () => {\r\n\r\n    const url = BASE_URL + \"/check-permission\";\r\n    return axios\r\n      .get(url)\r\n      .then((res) => {\r\n        setTheData({\r\n          php_version: res.data[0],\r\n          curl_status: res.data[1],\r\n          env_status: res.data[2],\r\n          pdo_status: res.data[3]\r\n        });\r\n      })\r\n      .catch((err) => { });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Checking Permissions</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <div id=\"main\" className=\"main-height-100\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-10 offset-1 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div className=\"installation-full-page\" data-simplebar>\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\"></li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\"></div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Form starts here */}\r\n                        <div className=\"text-center\">\r\n                          <h3 className=\"text-success font-weight-bold\">\r\n                            Checking Permissions\r\n                          </h3>\r\n                          <p className=\"sm-text\">\r\n                            We ran diagnosis on your server. Review the items\r\n                            that have a red mark on it. <br /> If everything is\r\n                            green, you are good to go to the next step.\r\n                          </p>\r\n                        </div>\r\n\r\n                        <div className=\"m-5\">\r\n                          <ul className=\"list-group\">\r\n                            <li className=\"list-group-item text-semibold\">\r\n                              Php version 8+\r\n                              {theData.php_version !== null &&\r\n                                theData.php_version > 7.3 ? (\r\n                                <i className=\"fa fa-check text-success pull-right\"></i>\r\n                              ) : (\r\n                                <i className=\"fa fa-close text-danger pull-right\"></i>\r\n                              )}\r\n                            </li>\r\n                            <li className=\"list-group-item text-semibold\">\r\n                              Curl Enabled\r\n                              {theData.curl_status !== null &&\r\n                                theData.curl_status === true ? (\r\n                                <i className=\"fa fa-check text-success pull-right\"></i>\r\n                              ) : (\r\n                                <i className=\"fa fa-close text-danger pull-right\"></i>\r\n                              )}\r\n                            </li>\r\n                            <li className=\"list-group-item text-semibold\">\r\n                              <b>.env</b> File Writeable Permission\r\n                              {theData.env_status !== null &&\r\n                                theData.env_status === true ? (\r\n                                <i className=\"fa fa-check text-success pull-right\"></i>\r\n                              ) : (\r\n                                <i className=\"fa fa-close text-danger pull-right\"></i>\r\n                              )}\r\n                            </li>\r\n                            <li className=\"list-group-item text-semibold\">\r\n                              <b>.env</b> Check PDO\r\n                              {theData.pdo_status !== null &&\r\n                                theData.pdo_status === true ? (\r\n                                <i className=\"fa fa-check text-success pull-right\"></i>\r\n                              ) : (\r\n                                <i className=\"fa fa-close text-danger pull-right\"></i>\r\n                              )}\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n\r\n                        <p className=\"my-2 mx-5\">\r\n                          <div className=\"text-center text-uppercase col-4 offset-4 mt-4 mb-3\">\r\n                            {theData.php_version !== null &&\r\n                              theData.php_version > 7.3 &&\r\n                              theData.curl_status !== null &&\r\n                              theData.pdo_status === true &&\r\n                              (theData.curl_status === true &&\r\n                                theData.env_status) !== null &&\r\n                              theData.env_status === true ? (\r\n                              <NavLink\r\n                                to=\"/installation/database-setup\"\r\n                                className=\"btn btn-secondary btn-block\"\r\n                              >\r\n                                {\" \"}\r\n                                Go To Next Step\r\n                              </NavLink>\r\n                            ) : (\r\n                              <div className=\"text-center text-primary text-uppercase\">\r\n                                Please contact your server provider to configure\r\n                                the server accordring to the requirements\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </p>\r\n\r\n                        {/* Form ends here */}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InstallPermission;\r\n"]},"metadata":{},"sourceType":"module"}