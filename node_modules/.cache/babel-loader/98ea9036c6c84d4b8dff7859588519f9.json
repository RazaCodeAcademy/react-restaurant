{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from\"react\";import{NavLink,useHistory}from\"react-router-dom\";//importing context consumer here\nimport{UserContext}from\"../../../contexts/User\";import{FoodContext}from\"../../../contexts/Food\";import{RestaurantContext}from\"../../../contexts/Restaurant\";import{SettingsContext}from\"../../../contexts/Settings\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../BaseUrl\";//functions\nimport{_t,modalLoading,restaurantMenuLink,getSystemSettings,getCookie,deleteCookie,currencySymbolLeft,formatPrice,currencySymbolRight}from\"../../../functions/Functions\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{useTranslation}from\"react-i18next\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Moment from\"react-moment\";//jQuery initialization\nimport $ from\"jquery\";var MyOrders=function MyOrders(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();//getting context values here\nvar _useContext=useContext(SettingsContext),generalSettings=_useContext.generalSettings;//auth user\nvar _useContext2=useContext(UserContext),authUserInfo=_useContext2.authUserInfo,setAuthUserInfo=_useContext2.setAuthUserInfo;//orders\nvar _useContext3=useContext(FoodContext),loading=_useContext3.loading,setLoading=_useContext3.setLoading,getOnlineOrdersCustomer=_useContext3.getOnlineOrdersCustomer,onlineOrdersCustomer=_useContext3.onlineOrdersCustomer;//personal details\nvar _useState=useState({name:null,address:null,email:null,phn_no:null,image:null,password:null,password_confirmation:null,uploading:false}),_useState2=_slicedToArray(_useState,2),userDetails=_useState2[0],setUserDetails=_useState2[1];//settle order\nvar _useState3=useState({item:null,settle:false,uploading:false,payment_type:null,payment_amount:null}),_useState4=_slicedToArray(_useState3,2),checkOrderDetails=_useState4[0],setCheckOrderDetails=_useState4[1];//useeffect == componentDidMount()\nuseEffect(function(){handleJquery();getOnlineOrdersCustomer();if(authUserInfo.details){setUserDetails(_objectSpread(_objectSpread({},userDetails),{},{name:authUserInfo.details.name,address:authUserInfo.details.address,email:authUserInfo.details.email,phn_no:authUserInfo.details.phn_no}));}},[authUserInfo]);//handle jQuery\nvar handleJquery=function handleJquery(){$(window).on(\"scroll\",function(){var toTopVisible=$(\"html\").scrollTop();if(toTopVisible>500){$(\".scrollup\").fadeIn();}else{$(\".scrollup\").fadeOut();}});};//dynamic style\nvar style={logo:{backgroundImage:generalSettings&&\"url(\".concat(getSystemSettings(generalSettings,\"type_logo\"),\")\")},currency:{backgroundColor:generalSettings&&getSystemSettings(generalSettings,\"type_clock\"),color:generalSettings&&getSystemSettings(generalSettings,\"type_color\")}};//handle change\nvar handleChange=function handleChange(e){setUserDetails(_objectSpread(_objectSpread({},userDetails),{},_defineProperty({},e.target.name,e.target.value)));};//handle change file\nvar handleChangeFile=function handleChangeFile(e){setUserDetails(_objectSpread(_objectSpread({},userDetails),{},_defineProperty({},e.target.name,e.target.files[0])));};//submit details form\nvar handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);var url=BASE_URL+\"/website/update-user-profile\";var formData=new FormData();formData.append(\"name\",userDetails.name);formData.append(\"email\",userDetails.email);formData.append(\"phn_no\",userDetails.phn_no);formData.append(\"address\",userDetails.address);formData.append(\"onlyPassword\",\"no\");if(userDetails.image!==null){formData.append(\"image\",userDetails.image);}return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setAuthUserInfo(_objectSpread(_objectSpread({},authUserInfo),{},{details:res.data}));window.scrollTo({top:0,left:0,behavior:\"smooth\"});toast.success(\"\".concat(_t(t(\"Your profile has been updated\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});setLoading(false);}).catch(function(error){if(error&&error.response.data.errors){if(error.response.data.errors.email){error.response.data.errors.email.forEach(function(item){if(item===\"An user exists with this email\"){toast.error(\"\".concat(_t(t(\"An user exists with this email\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}});}if(error.response.data.errors.phn_no){error.response.data.errors.phn_no.forEach(function(item){if(item===\"An user exists with this phone number\"){toast.error(\"\".concat(_t(t(\"An user exists with this phone number\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}});}if(error.response.data.errors.image){error.response.data.errors.image.forEach(function(item){if(item===\"Please select a valid image file\"){toast.error(\"\".concat(_t(t(\"Please select a valid image file\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}if(item===\"Please select a file less than 5MB\"){toast.error(\"\".concat(_t(t(\"Please select a file less than 5MB\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}});}}setLoading(false);});};//submit password form\nvar handleSubmitPassword=function handleSubmitPassword(e){e.preventDefault();setLoading(true);var url=BASE_URL+\"/website/update-user-profile\";var formData=new FormData();formData.append(\"password\",userDetails.password);formData.append(\"password_confirmation\",userDetails.password_confirmation);formData.append(\"onlyPassword\",\"yes\");return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){handleLogout();}).catch(function(error){if(error&&error.response.data.errors){if(error.response.data.errors.password){error.response.data.errors.password.forEach(function(item){if(item===\"Password confirmation does not match\"){toast.error(\"\".concat(_t(t(\"Password confirmation does not match\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}if(item===\"The password must be at least 6 characters.\"){toast.error(\"\".concat(_t(t(\"The password must be at least 6 characters\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}});}}setLoading(false);});};//logout\nvar handleLogout=function handleLogout(){deleteCookie();};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,generalSettings&&getSystemSettings(generalSettings,\"siteName\")+\" | \"+_t(t(\"My Orders\"))),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"/website/css/animate.css\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"/website/css/meanmenu.min.css\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"./website/css/bootstrap.min.css\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"/website/css/font-awsome-all.min.css\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"/website/css/magnific-popup.css\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"/website/css/slick.css\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"/website/css/jquery-ui.css\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"/website/css/style.css\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/jquery-2.2.4.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/bootstrap.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"./website/js/vendor/jquery.meanmenu.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/jquery.magnific-popup.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/slick.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/counterup.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/countdown.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/waypoints.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/jquery-ui.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/isotope.pkgd.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/easing.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/vendor/wow.min.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/simplebar.js\"}),/*#__PURE__*/React.createElement(\"script\",{src:\"/website/js/main.js\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"orderDetails\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-capitalize fk-sm-card__title\"},_t(t(\"Order details, Token\")),\": #\",checkOrderDetails.item&&checkOrderDetails.item.token)),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"})),loading?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},modalLoading(5)):/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},checkOrderDetails.item&&//show this if order is cancelled\nparseInt(checkOrderDetails.item.is_cancelled)===1&&/*#__PURE__*/React.createElement(\"div\",{className:\"text-center bg-secondary text-white py-2\"},_t(t(\"This order has been cancelled\"))),!checkOrderDetails.settle?/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 filtr-item\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-order-token t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-order-token__body\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__head text-center\"},_t(t(\"order token\")),\": #\",checkOrderDetails.item&&checkOrderDetails.item.token),/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__info\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"S/L\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"food\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-left pl-2 border-right\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"Additional Info\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"QTY\")))))),checkOrderDetails.item&&checkOrderDetails.item.orderedItems.map(function(thisItem,indexThisItem){return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\"\".concat(propertyItem.quantity>1?\"(\"+propertyItem.quantity+\")\":\"\")+\", \";}else{return propertyItem.property+\"\".concat(propertyItem.quantity>1?\"(\"+propertyItem.quantity+\")\":\"\");}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity))));}))))):\"\",/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped table-sm text-center mt-3\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"bg-info text-white text-uppercase\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",colSpan:\"2\"},_t(t(\"Order details\"))))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Customer\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.user_name)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Contact\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.delivery_phn_no)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Delivery Address\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.delivery_address)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Note to rider\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.note_to_rider)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Payment Method\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.payment_method===\"COD\"?\"Cash On Delivery\":\"\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Time To Deliver\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.time_to_deliver!==null?checkOrderDetails.item.time_to_deliver+\" min(s)\":\"\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Branch\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.branch_name)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Subtotal\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),formatPrice(checkOrderDetails.item.order_bill),currencySymbolRight()))),checkOrderDetails.item&&checkOrderDetails.item.vat_system===\"igst\"?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Igst\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),formatPrice(checkOrderDetails.item.vat),currencySymbolRight()))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Cgst\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),formatPrice(parseFloat(checkOrderDetails.item.cgst)),currencySymbolRight()))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Sgst\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),formatPrice(parseFloat(checkOrderDetails.item.sgst)),currencySymbolRight())))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Total bill\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),formatPrice(checkOrderDetails.item.total_payable),currencySymbolRight()))),checkOrderDetails.item&&parseInt(checkOrderDetails.item.is_cancelled)===1&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Cancellation Reason\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item.reason_of_cancel)))))))),/*#__PURE__*/React.createElement(\"header\",{className:\"header3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header-bottom home2-header-bottom margin-top-20\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-2 col-md-2 col-sm-2 col-6 margin-bottom-20\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo\"},window.location.pathname===\"/\"?/*#__PURE__*/React.createElement(NavLink,{to:{pathname:\"/refresh\",state:\"/\"},exact:true,className:\"t-link w-100\",key:\"logokey\"},/*#__PURE__*/React.createElement(\"img\",{src:getSystemSettings(generalSettings,\"type_logo\"),alt:\"logo\"})):/*#__PURE__*/React.createElement(NavLink,{to:\"/\",exact:true,className:\"t-link w-100\",key:\"logokey\"},/*#__PURE__*/React.createElement(\"img\",{src:getSystemSettings(generalSettings,\"type_logo\"),alt:\"logo\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-5 d-none d-lg-block ml-auto\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-5 col-md-9 col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"customer-area2 d-flex align-items-center justify-content-end\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/\",className:\"btn text-capitalized\",style:{background:\"transparent\",border:\"1px solid #cc3333\",color:\"#cc3333\"}},_t(t(\"home\"))),getCookie()===undefined?/*#__PURE__*/React.createElement(NavLink,{to:\"/login\",className:\"btn\"},_t(t(\"Login\"))):/*#__PURE__*/React.createElement(React.Fragment,null,authUserInfo&&authUserInfo.details&&authUserInfo.details.user_type!==\"customer\"?/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard\",className:\"btn\"},_t(t(\"Dashboard\"))):/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",onClick:handleLogout},_t(t(\"Logout\")))))))))),/*#__PURE__*/React.createElement(\"main\",{className:\"kh-user my-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"kh-user__sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"kh-user__sidebar-head text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"img\",{src:authUserInfo.details&&authUserInfo.details.image?BASE_URL+authUserInfo.details.image:\"/assets/img/user.jpg\",alt:\"\",className:\"rounded-circle\",style:{height:\"100px\",width:\"100px\"}})),/*#__PURE__*/React.createElement(\"h5\",{className:\"kh-user__name mt-3\"},authUserInfo.details&&authUserInfo.details.name),/*#__PURE__*/React.createElement(\"span\",{className:\"kh-user__phn sm-text\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-phone-square-alt\"}),\" \",authUserInfo.details&&authUserInfo.details.phn_no)),/*#__PURE__*/React.createElement(\"div\",{className:\"kh-user__sidebar-list mt-3\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"kh-user__list\"},/*#__PURE__*/React.createElement(\"li\",{className:\"kh-user__list-item\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/profile\",className:\"kh-user__link d-flex align-items-center\",activeClassName:\"active\"},/*#__PURE__*/React.createElement(\"span\",{className:\"kh-user__icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-circle\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"kh-user__text text-capitalize sm-text\"},_t(t(\"Profile\"))))),/*#__PURE__*/React.createElement(\"li\",{className:\"kh-user__list-item\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/my-orders\",className:\"kh-user__link d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"kh-user__icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-store\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"kh-user__text text-capitalize sm-text\"},_t(t(\"My Orders\"))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"kh-user__body h-100\"},loading?modalLoading(10):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"kh-user__body-box mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-xl-8\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"kh-user__body-title text-center text-uppercase\"},_t(t(\"active orders\"))),onlineOrdersCustomer&&onlineOrdersCustomer.map(function(item){if(parseInt(item.is_delivered)===0&&parseInt(item.is_cancelled)===0){return/*#__PURE__*/React.createElement(\"div\",{className:\"kh-user__order py-4 border-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"kh-drawer__product py-1 d-flex justify-content-between align-items-center\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"kh-user__body-title text-center text-uppercase\"},item.branch_name),/*#__PURE__*/React.createElement(\"span\",{className:\"kh-drawer__product-price text-uppercase text-right\"},currencySymbolLeft()+formatPrice(item.total_payable)+currencySymbolRight())),/*#__PURE__*/React.createElement(\"div\",{className:\"kh-drawer__product d-flex justify-content-between align-items-start\"},/*#__PURE__*/React.createElement(\"div\",{className:\"kh-drawer__product-subtitle text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},/*#__PURE__*/React.createElement(Moment,{format:\"LLL\"},item.created_at))),/*#__PURE__*/React.createElement(\"a\",{href:\"javascript::void(0)\",className:\"kh-user__button\",onClick:function onClick(){setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{item:item}));},\"data-toggle\":\"modal\",\"data-target\":\"#orderDetails\"},parseInt(item.is_accepted)===0?\"Pending\":\"Accepted\")));}else{return false;}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"kh-user__body-box mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-xl-8\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"kh-user__body-title text-center text-uppercase\"},_t(t(\"past orders\"))),onlineOrdersCustomer&&onlineOrdersCustomer.map(function(item){if(parseInt(item.is_delivered)===1||parseInt(item.is_cancelled)===1){return/*#__PURE__*/React.createElement(\"div\",{className:\"kh-user__order py-4 border-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"kh-drawer__product py-1 d-flex justify-content-between align-items-center\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"kh-user__body-title text-center text-uppercase\"},item.branch_name),/*#__PURE__*/React.createElement(\"span\",{className:\"kh-drawer__product-price text-uppercase text-right\"},currencySymbolLeft()+formatPrice(item.total_payable)+currencySymbolRight())),/*#__PURE__*/React.createElement(\"div\",{className:\"kh-drawer__product d-flex justify-content-between align-items-start\"},/*#__PURE__*/React.createElement(\"div\",{className:\"kh-drawer__product-subtitle text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},/*#__PURE__*/React.createElement(Moment,{format:\"LLL\"},item.created_at))),/*#__PURE__*/React.createElement(\"a\",{href:\"javascript::void(0)\",className:\"kh-user__button\",onClick:function onClick(){setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{item:item}));},\"data-toggle\":\"modal\",\"data-target\":\"#orderDetails\"},parseInt(item.is_cancelled)===1?\"Cancelled\":\"Details\")));}else{return false;}})))))))))),/*#__PURE__*/React.createElement(\"footer\",{className:\"padding-top-40 padding-bottom-40 footer2\",id:\"language\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fo-shapes\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fs-1 item-animateTwo\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/website/images/shapes/capsicam.png\",alt:\"\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"fss-2\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/website/images/shapes/fshape1.png\",alt:\"\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"fss-3\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/website/images/shapes/41.png\",alt:\"\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"fss-4 item-bounce\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/website/images/shapes/sauce.png\",alt:\"\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"fss-5 item-bounce\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/website/images/shapes/scatter.png\",alt:\"\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"fss-6 item-animateTwo\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/website/images/shapes/layer.png\",alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"footer-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"hr\",null))),/*#__PURE__*/React.createElement(\"div\",{className:\"copyright-area text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 justify-content-self-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"copyright-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"f-logo\"},/*#__PURE__*/React.createElement(NavLink,{to:{pathname:\"/refresh\",state:\"/\"},exact:true,className:\"t-link w-100\",key:\"logokey\"},/*#__PURE__*/React.createElement(\"img\",{src:getSystemSettings(generalSettings,\"type_logo\"),alt:\"logo\"}))),/*#__PURE__*/React.createElement(\"p\",null,getSystemSettings(generalSettings,\"type_footer\")))))))),/*#__PURE__*/React.createElement(\"button\",{className:\"scrollup\",onClick:function onClick(){window.scrollTo({top:0,left:0,behavior:\"smooth\"});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-angle-up\"})));};export default MyOrders;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/onlineCustomer/MyOrders.js"],"names":["React","useContext","useState","useEffect","NavLink","useHistory","UserContext","FoodContext","RestaurantContext","SettingsContext","axios","BASE_URL","_t","modalLoading","restaurantMenuLink","getSystemSettings","getCookie","deleteCookie","currencySymbolLeft","formatPrice","currencySymbolRight","Helmet","useTranslation","toast","Moment","$","MyOrders","t","history","generalSettings","authUserInfo","setAuthUserInfo","loading","setLoading","getOnlineOrdersCustomer","onlineOrdersCustomer","name","address","email","phn_no","image","password","password_confirmation","uploading","userDetails","setUserDetails","item","settle","payment_type","payment_amount","checkOrderDetails","setCheckOrderDetails","handleJquery","details","window","on","toTopVisible","scrollTop","fadeIn","fadeOut","style","logo","backgroundImage","currency","backgroundColor","color","handleChange","e","target","value","handleChangeFile","files","handleSubmit","preventDefault","url","formData","FormData","append","post","headers","Authorization","then","res","data","scrollTo","top","left","behavior","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","catch","error","response","errors","forEach","handleSubmitPassword","handleLogout","token","parseInt","is_cancelled","orderedItems","map","thisItem","indexThisItem","food_item","food_group","variation","properties","JSON","parse","propertyItem","thisIndex","length","property","quantity","user_name","delivery_phn_no","delivery_address","note_to_rider","payment_method","time_to_deliver","branch_name","order_bill","vat_system","vat","parseFloat","cgst","sgst","total_payable","reason_of_cancel","location","pathname","state","background","border","undefined","user_type","height","width","is_delivered","created_at","is_accepted"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\n//importing context consumer here\r\nimport { UserContext } from \"../../../contexts/User\";\r\nimport { FoodContext } from \"../../../contexts/Food\";\r\nimport { RestaurantContext } from \"../../../contexts/Restaurant\";\r\nimport { SettingsContext } from \"../../../contexts/Settings\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  modalLoading,\r\n  restaurantMenuLink,\r\n  getSystemSettings,\r\n  getCookie,\r\n  deleteCookie,\r\n  currencySymbolLeft,\r\n  formatPrice,\r\n  currencySymbolRight,\r\n} from \"../../../functions/Functions\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Moment from \"react-moment\";\r\n\r\n//jQuery initialization\r\nimport $ from \"jquery\";\r\n\r\nconst MyOrders = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n\r\n  //getting context values here\r\n  let { generalSettings } = useContext(SettingsContext);\r\n  //auth user\r\n  const { authUserInfo, setAuthUserInfo } = useContext(UserContext);\r\n  //orders\r\n  const { loading, setLoading, getOnlineOrdersCustomer, onlineOrdersCustomer } =\r\n    useContext(FoodContext);\r\n  //personal details\r\n  const [userDetails, setUserDetails] = useState({\r\n    name: null,\r\n    address: null,\r\n    email: null,\r\n    phn_no: null,\r\n    image: null,\r\n    password: null,\r\n    password_confirmation: null,\r\n    uploading: false,\r\n  });\r\n\r\n  //settle order\r\n  const [checkOrderDetails, setCheckOrderDetails] = useState({\r\n    item: null,\r\n    settle: false,\r\n    uploading: false,\r\n    payment_type: null,\r\n    payment_amount: null,\r\n  });\r\n\r\n  //useeffect == componentDidMount()\r\n  useEffect(() => {\r\n    handleJquery();\r\n    getOnlineOrdersCustomer();\r\n    if (authUserInfo.details) {\r\n      setUserDetails({\r\n        ...userDetails,\r\n        name: authUserInfo.details.name,\r\n        address: authUserInfo.details.address,\r\n        email: authUserInfo.details.email,\r\n        phn_no: authUserInfo.details.phn_no,\r\n      });\r\n    }\r\n  }, [authUserInfo]);\r\n\r\n  //handle jQuery\r\n  const handleJquery = () => {\r\n    $(window).on(\"scroll\", function () {\r\n      var toTopVisible = $(\"html\").scrollTop();\r\n      if (toTopVisible > 500) {\r\n        $(\".scrollup\").fadeIn();\r\n      } else {\r\n        $(\".scrollup\").fadeOut();\r\n      }\r\n    });\r\n  };\r\n  //dynamic style\r\n  const style = {\r\n    logo: {\r\n      backgroundImage:\r\n        generalSettings &&\r\n        `url(${getSystemSettings(generalSettings, \"type_logo\")})`,\r\n    },\r\n    currency: {\r\n      backgroundColor:\r\n        generalSettings && getSystemSettings(generalSettings, \"type_clock\"),\r\n      color:\r\n        generalSettings && getSystemSettings(generalSettings, \"type_color\"),\r\n    },\r\n  };\r\n\r\n  //handle change\r\n  const handleChange = (e) => {\r\n    setUserDetails({\r\n      ...userDetails,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  //handle change file\r\n  const handleChangeFile = (e) => {\r\n    setUserDetails({\r\n      ...userDetails,\r\n      [e.target.name]: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  //submit details form\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const url = BASE_URL + \"/website/update-user-profile\";\r\n    let formData = new FormData();\r\n    formData.append(\"name\", userDetails.name);\r\n    formData.append(\"email\", userDetails.email);\r\n    formData.append(\"phn_no\", userDetails.phn_no);\r\n    formData.append(\"address\", userDetails.address);\r\n    formData.append(\"onlyPassword\", \"no\");\r\n    if (userDetails.image !== null) {\r\n      formData.append(\"image\", userDetails.image);\r\n    }\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setAuthUserInfo({\r\n          ...authUserInfo,\r\n          details: res.data,\r\n        });\r\n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\r\n        toast.success(`${_t(t(\"Your profile has been updated\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        if (error && error.response.data.errors) {\r\n          if (error.response.data.errors.email) {\r\n            error.response.data.errors.email.forEach((item) => {\r\n              if (item === \"An user exists with this email\") {\r\n                toast.error(`${_t(t(\"An user exists with this email\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n            });\r\n          }\r\n\r\n          if (error.response.data.errors.phn_no) {\r\n            error.response.data.errors.phn_no.forEach((item) => {\r\n              if (item === \"An user exists with this phone number\") {\r\n                toast.error(\r\n                  `${_t(t(\"An user exists with this phone number\"))}`,\r\n                  {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 10000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    className: \"text-center toast-notification\",\r\n                  }\r\n                );\r\n              }\r\n            });\r\n          }\r\n\r\n          if (error.response.data.errors.image) {\r\n            error.response.data.errors.image.forEach((item) => {\r\n              if (item === \"Please select a valid image file\") {\r\n                toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n              if (item === \"Please select a file less than 5MB\") {\r\n                toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n            });\r\n          }\r\n        }\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  //submit password form\r\n  const handleSubmitPassword = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const url = BASE_URL + \"/website/update-user-profile\";\r\n    let formData = new FormData();\r\n    formData.append(\"password\", userDetails.password);\r\n    formData.append(\"password_confirmation\", userDetails.password_confirmation);\r\n    formData.append(\"onlyPassword\", \"yes\");\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        handleLogout();\r\n      })\r\n      .catch((error) => {\r\n        if (error && error.response.data.errors) {\r\n          if (error.response.data.errors.password) {\r\n            error.response.data.errors.password.forEach((item) => {\r\n              if (item === \"Password confirmation does not match\") {\r\n                toast.error(\r\n                  `${_t(t(\"Password confirmation does not match\"))}`,\r\n                  {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 10000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    className: \"text-center toast-notification\",\r\n                  }\r\n                );\r\n              }\r\n              if (item === \"The password must be at least 6 characters.\") {\r\n                toast.error(\r\n                  `${_t(t(\"The password must be at least 6 characters\"))}`,\r\n                  {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 10000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    className: \"text-center toast-notification\",\r\n                  }\r\n                );\r\n              }\r\n            });\r\n          }\r\n        }\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  //logout\r\n  const handleLogout = () => {\r\n    deleteCookie();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>\r\n          {generalSettings &&\r\n            getSystemSettings(generalSettings, \"siteName\") +\r\n              \" | \" +\r\n              _t(t(\"My Orders\"))}\r\n        </title>\r\n        <link rel=\"stylesheet\" href=\"/website/css/animate.css\" />\r\n        <link rel=\"stylesheet\" href=\"/website/css/meanmenu.min.css\" />\r\n        <link rel=\"stylesheet\" href=\"./website/css/bootstrap.min.css\" />\r\n        <link rel=\"stylesheet\" href=\"/website/css/font-awsome-all.min.css\" />\r\n        <link rel=\"stylesheet\" href=\"/website/css/magnific-popup.css\" />\r\n        <link rel=\"stylesheet\" href=\"/website/css/slick.css\" />\r\n        <link rel=\"stylesheet\" href=\"/website/css/jquery-ui.css\" />\r\n        <link rel=\"stylesheet\" href=\"/website/css/style.css\" />\r\n\r\n        <script src=\"/website/js/vendor/jquery-2.2.4.min.js\"></script>\r\n        <script src=\"/website/js/vendor/bootstrap.min.js\"></script>\r\n        <script src=\"./website/js/vendor/jquery.meanmenu.min.js\"></script>\r\n        <script src=\"/website/js/vendor/jquery.magnific-popup.min.js\"></script>\r\n        <script src=\"/website/js/vendor/slick.min.js\"></script>\r\n        <script src=\"/website/js/vendor/counterup.min.js\"></script>\r\n        <script src=\"/website/js/vendor/countdown.js\"></script>\r\n        <script src=\"/website/js/vendor/waypoints.min.js\"></script>\r\n        <script src=\"/website/js/vendor/jquery-ui.js\"></script>\r\n        <script src=\"/website/js/vendor/isotope.pkgd.min.js\"></script>\r\n        <script src=\"/website/js/vendor/easing.min.js\"></script>\r\n        <script src=\"/website/js/vendor/wow.min.js\"></script>\r\n        <script src=\"/website/js/simplebar.js\"></script>\r\n        <script src=\"/website/js/main.js\"></script>\r\n      </Helmet>\r\n      {/* Settle modal */}\r\n      <div className=\"modal fade\" id=\"orderDetails\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header align-items-center\">\r\n              <div className=\"fk-sm-card__content\">\r\n                <h5 className=\"text-capitalize fk-sm-card__title\">\r\n                  {/* show order token on modal header */}\r\n                  {_t(t(\"Order details, Token\"))}: #\r\n                  {checkOrderDetails.item && checkOrderDetails.item.token}\r\n                </h5>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            {/* if loading true show loading effect */}\r\n            {loading ? (\r\n              <div className=\"modal-body\">{modalLoading(5)}</div>\r\n            ) : (\r\n              <div className=\"modal-body\">\r\n                {checkOrderDetails.item &&\r\n                  //show this if order is cancelled\r\n                  parseInt(checkOrderDetails.item.is_cancelled) === 1 && (\r\n                    <div className=\"text-center bg-secondary text-white py-2\">\r\n                      {_t(t(\"This order has been cancelled\"))}\r\n                    </div>\r\n                  )}\r\n                {/* show this if order settle is not true, if true show payment input field */}\r\n                {!checkOrderDetails.settle ? (\r\n                  <div class=\"col-12 filtr-item\">\r\n                    <div class=\"fk-order-token t-bg-white\">\r\n                      <div class=\"fk-order-token__body\">\r\n                        <div class=\"fk-addons-table\">\r\n                          <div class=\"fk-addons-table__head text-center\">\r\n                            {_t(t(\"order token\"))}: #\r\n                            {checkOrderDetails.item &&\r\n                              checkOrderDetails.item.token}\r\n                          </div>\r\n                          <div class=\"fk-addons-table__info\">\r\n                            <div class=\"row g-0\">\r\n                              <div class=\"col-2 text-center border-right\">\r\n                                <span class=\"fk-addons-table__info-text text-capitalize\">\r\n                                  {_t(t(\"S/L\"))}\r\n                                </span>\r\n                              </div>\r\n                              <div class=\"col-3 text-center border-right\">\r\n                                <span class=\"fk-addons-table__info-text text-capitalize\">\r\n                                  {_t(t(\"food\"))}\r\n                                </span>\r\n                              </div>\r\n                              <div class=\"col-4 text-left pl-2 border-right\">\r\n                                <span class=\"fk-addons-table__info-text text-capitalize\">\r\n                                  {_t(t(\"Additional Info\"))}\r\n                                </span>\r\n                              </div>\r\n                              <div class=\"col-2 text-center border-right\">\r\n                                <span class=\"fk-addons-table__info-text text-capitalize\">\r\n                                  {_t(t(\"QTY\"))}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          {checkOrderDetails.item &&\r\n                            checkOrderDetails.item.orderedItems.map(\r\n                              (thisItem, indexThisItem) => {\r\n                                return (\r\n                                  <div class=\"fk-addons-table__body-row\">\r\n                                    <div class=\"row g-0\">\r\n                                      <div class=\"col-2 text-center border-right d-flex\">\r\n                                        <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                          {indexThisItem + 1}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div class=\"col-3 text-center border-right d-flex\">\r\n                                        <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                          {thisItem.food_item} (\r\n                                          {thisItem.food_group})\r\n                                        </span>\r\n                                      </div>\r\n                                      <div class=\"col-4 text-center border-right t-pl-10 t-pr-10\">\r\n                                        {thisItem.variation !== null && (\r\n                                          <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                            <span class=\"font-weight-bold mr-1\">\r\n                                              {_t(t(\"variation\"))}:\r\n                                            </span>\r\n                                            {thisItem.variation}\r\n                                          </span>\r\n                                        )}\r\n\r\n                                        {thisItem.properties !== null && (\r\n                                          <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                            <span class=\"font-weight-bold mr-1\">\r\n                                              {_t(t(\"properties\"))}:\r\n                                            </span>\r\n                                            {JSON.parse(\r\n                                              thisItem.properties\r\n                                            ).map((propertyItem, thisIndex) => {\r\n                                              if (\r\n                                                thisIndex !==\r\n                                                JSON.parse(thisItem.properties)\r\n                                                  .length -\r\n                                                  1\r\n                                              ) {\r\n                                                return (\r\n                                                  propertyItem.property +\r\n                                                  `${\r\n                                                    propertyItem.quantity > 1\r\n                                                      ? \"(\" +\r\n                                                        propertyItem.quantity +\r\n                                                        \")\"\r\n                                                      : \"\"\r\n                                                  }` +\r\n                                                  \", \"\r\n                                                );\r\n                                              } else {\r\n                                                return (\r\n                                                  propertyItem.property +\r\n                                                  `${\r\n                                                    propertyItem.quantity > 1\r\n                                                      ? \"(\" +\r\n                                                        propertyItem.quantity +\r\n                                                        \")\"\r\n                                                      : \"\"\r\n                                                  }`\r\n                                                );\r\n                                              }\r\n                                            })}\r\n                                          </span>\r\n                                        )}\r\n                                      </div>\r\n                                      <div class=\"col-2 text-center border-right d-flex\">\r\n                                        <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                          {thisItem.quantity}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                );\r\n                              }\r\n                            )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                <table className=\"table table-striped table-sm text-center mt-3\">\r\n                  <thead className=\"bg-info text-white text-uppercase\">\r\n                    <tr>\r\n                      <th scope=\"col\" colSpan=\"2\">\r\n                        {_t(t(\"Order details\"))}\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">{_t(t(\"Customer\"))}</td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.user_name}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">{_t(t(\"Contact\"))}</td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.delivery_phn_no}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">\r\n                        {_t(t(\"Delivery Address\"))}\r\n                      </td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.delivery_address}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">\r\n                        {_t(t(\"Note to rider\"))}\r\n                      </td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.note_to_rider}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">\r\n                        {_t(t(\"Payment Method\"))}\r\n                      </td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                        checkOrderDetails.item.payment_method === \"COD\"\r\n                          ? \"Cash On Delivery\"\r\n                          : \"\"}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">\r\n                        {_t(t(\"Time To Deliver\"))}\r\n                      </td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                        checkOrderDetails.item.time_to_deliver !== null\r\n                          ? checkOrderDetails.item.time_to_deliver + \" min(s)\"\r\n                          : \"\"}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">{_t(t(\"Branch\"))}</td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.branch_name}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">{_t(t(\"Subtotal\"))}</td>\r\n                      <td>\r\n                        {checkOrderDetails.item && (\r\n                          <>\r\n                            {currencySymbolLeft()}\r\n                            {formatPrice(checkOrderDetails.item.order_bill)}\r\n                            {currencySymbolRight()}\r\n                          </>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    {checkOrderDetails.item &&\r\n                    checkOrderDetails.item.vat_system === \"igst\" ? (\r\n                      <tr>\r\n                        <td className=\"text-capitalized\">{_t(t(\"Igst\"))}</td>\r\n                        <td>\r\n                          {checkOrderDetails.item && (\r\n                            <>\r\n                              {currencySymbolLeft()}\r\n                              {formatPrice(checkOrderDetails.item.vat)}\r\n                              {currencySymbolRight()}\r\n                            </>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      <>\r\n                        <tr>\r\n                          <td className=\"text-capitalized\">{_t(t(\"Cgst\"))}</td>\r\n                          <td>\r\n                            {checkOrderDetails.item && (\r\n                              <>\r\n                                {currencySymbolLeft()}\r\n                                {formatPrice(\r\n                                  parseFloat(checkOrderDetails.item.cgst)\r\n                                )}\r\n                                {currencySymbolRight()}\r\n                              </>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td className=\"text-capitalized\">{_t(t(\"Sgst\"))}</td>\r\n                          <td>\r\n                            {checkOrderDetails.item && (\r\n                              <>\r\n                                {currencySymbolLeft()}\r\n                                {formatPrice(\r\n                                  parseFloat(checkOrderDetails.item.sgst)\r\n                                )}\r\n                                {currencySymbolRight()}\r\n                              </>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      </>\r\n                    )}\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">\r\n                        {_t(t(\"Total bill\"))}\r\n                      </td>\r\n                      <td>\r\n                        {checkOrderDetails.item && (\r\n                          <>\r\n                            {currencySymbolLeft()}\r\n                            {formatPrice(checkOrderDetails.item.total_payable)}\r\n                            {currencySymbolRight()}\r\n                          </>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                    {checkOrderDetails.item &&\r\n                      parseInt(checkOrderDetails.item.is_cancelled) === 1 && (\r\n                        <tr>\r\n                          <td className=\"text-capitalized\">\r\n                            {_t(t(\"Cancellation Reason\"))}\r\n                          </td>\r\n                          <td>{checkOrderDetails.item.reason_of_cancel}</td>\r\n                        </tr>\r\n                      )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Settle modal Ends*/}\r\n\r\n      <header className=\"header3\">\r\n        {/* header-bottom  */}\r\n        <div className=\"header-bottom home2-header-bottom margin-top-20\">\r\n          <div className=\"container position-relative\">\r\n            <div className=\"row d-flex align-items-center\">\r\n              <div className=\"col-lg-2 col-md-2 col-sm-2 col-6 margin-bottom-20\">\r\n                <div className=\"logo\">\r\n                  {window.location.pathname === \"/\" ? (\r\n                    <NavLink\r\n                      to={{ pathname: \"/refresh\", state: \"/\" }}\r\n                      exact\r\n                      className=\"t-link w-100\"\r\n                      key=\"logokey\"\r\n                    >\r\n                      <img\r\n                        src={getSystemSettings(generalSettings, \"type_logo\")}\r\n                        alt=\"logo\"\r\n                      />\r\n                    </NavLink>\r\n                  ) : (\r\n                    <NavLink\r\n                      to=\"/\"\r\n                      exact\r\n                      className=\"t-link w-100\"\r\n                      key=\"logokey\"\r\n                    >\r\n                      <img\r\n                        src={getSystemSettings(generalSettings, \"type_logo\")}\r\n                        alt=\"logo\"\r\n                      />\r\n                    </NavLink>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-5 d-none d-lg-block ml-auto\"></div>\r\n              <div className=\"col-lg-5 col-md-9 col-12\">\r\n                <div className=\"customer-area2 d-flex align-items-center justify-content-end\">\r\n                  <NavLink\r\n                    to=\"/\"\r\n                    className=\"btn text-capitalized\"\r\n                    style={{\r\n                      background: \"transparent\",\r\n                      border: \"1px solid #cc3333\",\r\n                      color: \"#cc3333\",\r\n                    }}\r\n                  >\r\n                    {_t(t(\"home\"))}\r\n                  </NavLink>\r\n                  {getCookie() === undefined ? (\r\n                    <NavLink to=\"/login\" className=\"btn\">\r\n                      {_t(t(\"Login\"))}\r\n                    </NavLink>\r\n                  ) : (\r\n                    <>\r\n                      {authUserInfo &&\r\n                      authUserInfo.details &&\r\n                      authUserInfo.details.user_type !== \"customer\" ? (\r\n                        <NavLink to=\"/dashboard\" className=\"btn\">\r\n                          {_t(t(\"Dashboard\"))}\r\n                        </NavLink>\r\n                      ) : (\r\n                        <button className=\"btn\" onClick={handleLogout}>\r\n                          {_t(t(\"Logout\"))}\r\n                        </button>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      {/* Main  */}\r\n      <main className=\"kh-user my-5\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4\">\r\n              <div className=\"kh-user__sidebar\">\r\n                <div className=\"kh-user__sidebar-head text-center\">\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <img\r\n                      src={\r\n                        authUserInfo.details && authUserInfo.details.image\r\n                          ? BASE_URL + authUserInfo.details.image\r\n                          : \"/assets/img/user.jpg\"\r\n                      }\r\n                      alt=\"\"\r\n                      className=\"rounded-circle\"\r\n                      style={{ height: \"100px\", width: \"100px\" }}\r\n                    />\r\n                  </div>\r\n                  <h5 className=\"kh-user__name mt-3\">\r\n                    {authUserInfo.details && authUserInfo.details.name}\r\n                  </h5>\r\n                  <span className=\"kh-user__phn sm-text\">\r\n                    <i className=\"fa fa-phone-square-alt\"></i>{\" \"}\r\n                    {authUserInfo.details && authUserInfo.details.phn_no}\r\n                  </span>\r\n                </div>\r\n                <div className=\"kh-user__sidebar-list mt-3\">\r\n                  <ul className=\"kh-user__list\">\r\n                    <li className=\"kh-user__list-item\">\r\n                      <NavLink\r\n                        to=\"/profile\"\r\n                        className=\"kh-user__link d-flex align-items-center\"\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <span className=\"kh-user__icon\">\r\n                          <i className=\"fas fa-user-circle\"></i>\r\n                        </span>\r\n                        <span className=\"kh-user__text text-capitalize sm-text\">\r\n                          {_t(t(\"Profile\"))}\r\n                        </span>\r\n                      </NavLink>\r\n                    </li>\r\n                    <li className=\"kh-user__list-item\">\r\n                      <NavLink\r\n                        to=\"/my-orders\"\r\n                        className=\"kh-user__link d-flex align-items-center\"\r\n                      >\r\n                        <span className=\"kh-user__icon\">\r\n                          <i className=\"fas fa-store\"></i>\r\n                        </span>\r\n                        <span className=\"kh-user__text text-capitalize sm-text\">\r\n                          {_t(t(\"My Orders\"))}\r\n                        </span>\r\n                      </NavLink>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-8\">\r\n              <div className=\"kh-user__body h-100\">\r\n                {loading ? (\r\n                  modalLoading(10)\r\n                ) : (\r\n                  <>\r\n                    <div className=\"kh-user__body-box mt-3\">\r\n                      <div className=\"row justify-content-center\">\r\n                        <div className=\"col-xl-8\">\r\n                          <h6 className=\"kh-user__body-title text-center text-uppercase\">\r\n                            {_t(t(\"active orders\"))}\r\n                          </h6>\r\n                          {onlineOrdersCustomer &&\r\n                            onlineOrdersCustomer.map((item) => {\r\n                              if (\r\n                                parseInt(item.is_delivered) === 0 &&\r\n                                parseInt(item.is_cancelled) === 0\r\n                              ) {\r\n                                return (\r\n                                  <div className=\"kh-user__order py-4 border-bottom\">\r\n                                    <div className=\"kh-drawer__product py-1 d-flex justify-content-between align-items-center\">\r\n                                      <h6 className=\"kh-user__body-title text-center text-uppercase\">\r\n                                        {item.branch_name}\r\n                                      </h6>\r\n                                      <span className=\"kh-drawer__product-price text-uppercase text-right\">\r\n                                        {currencySymbolLeft() +\r\n                                          formatPrice(item.total_payable) +\r\n                                          currencySymbolRight()}\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"kh-drawer__product d-flex justify-content-between align-items-start\">\r\n                                      <div className=\"kh-drawer__product-subtitle text-capitalize\">\r\n                                        <span className=\"d-block\">\r\n                                          <Moment format=\"LLL\">\r\n                                            {item.created_at}\r\n                                          </Moment>\r\n                                        </span>\r\n                                      </div>\r\n                                      <a\r\n                                        href=\"javascript::void(0)\"\r\n                                        className=\"kh-user__button\"\r\n                                        onClick={() => {\r\n                                          setCheckOrderDetails({\r\n                                            ...checkOrderDetails,\r\n                                            item: item,\r\n                                          });\r\n                                        }}\r\n                                        data-toggle=\"modal\"\r\n                                        data-target=\"#orderDetails\"\r\n                                      >\r\n                                        {parseInt(item.is_accepted) === 0\r\n                                          ? \"Pending\"\r\n                                          : \"Accepted\"}\r\n                                      </a>\r\n                                    </div>\r\n                                  </div>\r\n                                );\r\n                              } else {\r\n                                return false;\r\n                              }\r\n                            })}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"kh-user__body-box mt-3\">\r\n                      <div className=\"row justify-content-center\">\r\n                        <div className=\"col-xl-8\">\r\n                          <h6 className=\"kh-user__body-title text-center text-uppercase\">\r\n                            {_t(t(\"past orders\"))}\r\n                          </h6>\r\n                          {onlineOrdersCustomer &&\r\n                            onlineOrdersCustomer.map((item) => {\r\n                              if (\r\n                                parseInt(item.is_delivered) === 1 ||\r\n                                parseInt(item.is_cancelled) === 1\r\n                              ) {\r\n                                return (\r\n                                  <div className=\"kh-user__order py-4 border-bottom\">\r\n                                    <div className=\"kh-drawer__product py-1 d-flex justify-content-between align-items-center\">\r\n                                      <h6 className=\"kh-user__body-title text-center text-uppercase\">\r\n                                        {item.branch_name}\r\n                                      </h6>\r\n                                      <span className=\"kh-drawer__product-price text-uppercase text-right\">\r\n                                        {currencySymbolLeft() +\r\n                                          formatPrice(item.total_payable) +\r\n                                          currencySymbolRight()}\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"kh-drawer__product d-flex justify-content-between align-items-start\">\r\n                                      <div className=\"kh-drawer__product-subtitle text-capitalize\">\r\n                                        <span className=\"d-block\">\r\n                                          <Moment format=\"LLL\">\r\n                                            {item.created_at}\r\n                                          </Moment>\r\n                                        </span>\r\n                                      </div>\r\n                                      <a\r\n                                        href=\"javascript::void(0)\"\r\n                                        className=\"kh-user__button\"\r\n                                        onClick={() => {\r\n                                          setCheckOrderDetails({\r\n                                            ...checkOrderDetails,\r\n                                            item: item,\r\n                                          });\r\n                                        }}\r\n                                        data-toggle=\"modal\"\r\n                                        data-target=\"#orderDetails\"\r\n                                      >\r\n                                        {parseInt(item.is_cancelled) === 1\r\n                                          ? \"Cancelled\"\r\n                                          : \"Details\"}\r\n                                      </a>\r\n                                    </div>\r\n                                  </div>\r\n                                );\r\n                              } else {\r\n                                return false;\r\n                              }\r\n                            })}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* Main End */}\r\n\r\n      {/* <!-- footer area --> */}\r\n      <footer\r\n        className=\"padding-top-40 padding-bottom-40 footer2\"\r\n        id=\"language\"\r\n      >\r\n        <div className=\"fo-shapes\">\r\n          <span className=\"fs-1 item-animateTwo\">\r\n            <img src=\"/website/images/shapes/capsicam.png\" alt=\"\" />\r\n          </span>\r\n          <span className=\"fss-2\">\r\n            <img src=\"/website/images/shapes/fshape1.png\" alt=\"\" />\r\n          </span>\r\n          <span className=\"fss-3\">\r\n            <img src=\"/website/images/shapes/41.png\" alt=\"\" />\r\n          </span>\r\n          <span className=\"fss-4 item-bounce\">\r\n            <img src=\"/website/images/shapes/sauce.png\" alt=\"\" />\r\n          </span>\r\n          <span className=\"fss-5 item-bounce\">\r\n            <img src=\"/website/images/shapes/scatter.png\" alt=\"\" />\r\n          </span>\r\n          <span className=\"fss-6 item-animateTwo\">\r\n            <img src=\"/website/images/shapes/layer.png\" alt=\"\" />\r\n          </span>\r\n        </div>\r\n        <div className=\"footer-top\">\r\n          <div className=\"container\">\r\n            <hr />\r\n          </div>\r\n        </div>\r\n        <div className=\"copyright-area text-center\">\r\n          <div className=\"container\">\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\"col-lg-6 justify-content-self-center\">\r\n                <div className=\"copyright-content\">\r\n                  <div className=\"f-logo\">\r\n                    <NavLink\r\n                      to={{ pathname: \"/refresh\", state: \"/\" }}\r\n                      exact\r\n                      className=\"t-link w-100\"\r\n                      key=\"logokey\"\r\n                    >\r\n                      <img\r\n                        src={getSystemSettings(generalSettings, \"type_logo\")}\r\n                        alt=\"logo\"\r\n                      />\r\n                    </NavLink>\r\n                  </div>\r\n\r\n                  <p>{getSystemSettings(generalSettings, \"type_footer\")}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n\r\n      {/* <!-- ToTop Button --> */}\r\n      <button\r\n        className=\"scrollup\"\r\n        onClick={() => {\r\n          window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\r\n        }}\r\n      >\r\n        <i className=\"fas fa-angle-up\"></i>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyOrders;\r\n"]},"metadata":{},"sourceType":"module"}