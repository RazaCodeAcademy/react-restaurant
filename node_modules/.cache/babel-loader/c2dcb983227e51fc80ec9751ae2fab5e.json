{"ast":null,"code":"var _jsxFileName = \"/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/reports/Yearly.js\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\"; //axios and base url\n\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../../../BaseUrl\"; //functions\n\nimport { _t, getCookie, tableLoading } from \"../../../../functions/Functions\";\nimport { useTranslation } from \"react-i18next\"; //3rd party packages\n\nimport { Helmet } from \"react-helmet\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Select from \"react-select\";\nimport makeAnimated from \"react-select/animated\";\nimport Chart from \"react-apexcharts\"; //pages & includes\n\nimport ReportSidebar from \"./ReportSidebar\"; //context consumer\n\nimport { SettingsContext } from \"../../../../contexts/Settings\";\nimport { FoodContext } from \"../../../../contexts/Food\";\n\nconst Yearly = () => {\n  const {\n    t\n  } = useTranslation();\n  const history = useHistory(); //getting context values here\n\n  let {\n    loading,\n    setLoading,\n    dataPaginating\n  } = useContext(SettingsContext);\n  let {\n    setFoodForSearch,\n    foodGroupForSearch,\n    propertyGroupForSearch,\n    variationForSearch\n  } = useContext(FoodContext); // States hook here\n  //new item\n\n  let [newItem, setNewItem] = useState({\n    itemGroup: null,\n    name: \"\",\n    price: \"\",\n    image: null,\n    hasProperty: false,\n    properties: null,\n    hasVariation: false,\n    variations: null\n  });\n  let [priceForVariations, setPriceForVariations] = useState(null);\n  const [chart, setChart] = useState({\n    options: {\n      chart: {\n        id: \"basic-bar\"\n      },\n      xaxis: {\n        categories: [1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998]\n      }\n    },\n    series: [{\n      name: \"series-1\",\n      data: [30, 40, 45, 50, 49, 60, 70, 91]\n    }]\n  }); //useEffect == componentDidMount()\n\n  useEffect(() => {}, []); //on change input field\n\n  const handleChange = e => {\n    setNewItem({ ...newItem,\n      [e.target.name]: e.target.value\n    });\n  }; //set image hook\n\n\n  const handleItemImage = e => {\n    setNewItem({ ...newItem,\n      [e.target.name]: e.target.files[0]\n    });\n  }; //set properties hook\n\n\n  const handleSetPropertes = properties => {\n    setNewItem({ ...newItem,\n      properties\n    });\n  }; //set variations hook\n\n\n  const handleSetVariations = variations => {\n    setNewItem({ ...newItem,\n      variations\n    });\n  }; //set each variation price\n\n\n  const handleVariationPrice = e => {\n    setPriceForVariations({ ...priceForVariations,\n      [e.target.name]: e.target.value\n    });\n  }; //handle Set item group hook\n\n\n  const handleSetItemGroup = itemGroup => {\n    setNewItem({ ...newItem,\n      itemGroup\n    });\n  }; //has Property\n\n\n  const handlePropertyCheckboxChange = e => {\n    if (newItem.hasProperty === true) {\n      setNewItem({ ...newItem,\n        properties: null,\n        hasProperty: !newItem.hasProperty\n      });\n    } else {\n      setNewItem({ ...newItem,\n        hasProperty: !newItem.hasProperty\n      });\n    }\n  }; //has variations\n\n\n  const handleVariationCheckboxChange = e => {\n    if (newItem.hasVariation === true) {\n      setNewItem({ ...newItem,\n        variations: null,\n        hasVariation: !newItem.hasVariation\n      });\n    } else {\n      setNewItem({ ...newItem,\n        hasVariation: !newItem.hasVariation\n      });\n    }\n  }; //post req of food item add\n\n\n  const foodItemAxios = () => {\n    setLoading(true);\n    let formData = new FormData();\n    formData.append(\"food_group_id\", newItem.itemGroup.id);\n    formData.append(\"name\", newItem.name);\n    formData.append(\"hasProperty\", newItem.hasProperty === true ? 1 : 0);\n\n    if (newItem.hasProperty === true) {\n      formData.append(\"hasProperty\", 1);\n      let tempArray = [];\n      newItem.properties.map(pItem => {\n        tempArray.push(pItem.id);\n      });\n      formData.append(\"properties\", tempArray);\n    }\n\n    formData.append(\"hasVariation\", newItem.hasVariation === true ? 1 : 0);\n\n    if (newItem.hasVariation === false) {\n      formData.append(\"price\", newItem.price);\n    } else {\n      //converting variations and prices to array\n      let slugArray = [];\n      newItem.variations.map(newVarItem => {\n        slugArray.push(newVarItem.slug);\n      });\n      slugArray.map(slugItem => {\n        formData.append(\"slugOfVariations[]\", slugItem);\n      });\n      let tempData = Object.entries(priceForVariations);\n      tempData.map(item => {\n        formData.append(\"variations[]\", item);\n      });\n    }\n\n    formData.append(\"image\", newItem.image);\n    const url = BASE_URL + \"/settings/new-food-item\";\n    return axios.post(url, formData, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setFoodForSearch(res.data[1]);\n      setNewItem({\n        itemGroup: null,\n        name: \"\",\n        price: \"\",\n        image: null,\n        hasProperty: false,\n        properties: null,\n        hasVariation: false,\n        variations: null\n      });\n      setLoading(false);\n      toast.success(`${_t(t(\"Food item has been added\"))}`, {\n        position: \"bottom-center\",\n        autoClose: 10000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        className: \"text-center toast-notification\"\n      });\n    }).catch(error => {\n      setLoading(false);\n\n      if (error.response.data.errors.image) {\n        error.response.data.errors.image.forEach(item => {\n          if (item === \"Please select a valid image file\") {\n            toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\n              position: \"bottom-center\",\n              autoClose: 10000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              className: \"text-center toast-notification\"\n            });\n          }\n\n          if (item === \"Please select a file less than 5MB\") {\n            toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\n              position: \"bottom-center\",\n              autoClose: 10000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              className: \"text-center toast-notification\"\n            });\n          }\n        });\n      }\n    });\n  }; //send to server\n\n\n  const handleSubmit = e => {\n    e.preventDefault(); //check item group selected\n\n    if (newItem.itemGroup !== null) {\n      //check property is selected or not if property checkbox is checked\n      if (newItem.hasProperty === true && newItem.properties === null) {\n        toast.error(`${_t(t(\"Please select properties\"))}`, {\n          position: \"bottom-center\",\n          autoClose: 10000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          className: \"text-center toast-notification\"\n        });\n      } else {\n        //if property checkbox is not selected\n        if (newItem.hasProperty === false) {\n          //check variation is selected or not if variation checkbox is checked\n          if (newItem.hasVariation === true && newItem.variations === null) {\n            toast.error(`${_t(t(\"Please select variations\"))}`, {\n              position: \"bottom-center\",\n              autoClose: 10000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              className: \"text-center toast-notification\"\n            });\n          } else {\n            //if variation checkbox is not selected\n            if (newItem.hasVariation === false) {\n              foodItemAxios();\n            } else {\n              //if variation checkbox is selected, options selected, but deleted all selected options at once\n              if (newItem.variations.length > 0) {\n                foodItemAxios();\n              } else {\n                toast.error(`${_t(t(\"Please select variations\"))}`, {\n                  position: \"bottom-center\",\n                  autoClose: 10000,\n                  hideProgressBar: false,\n                  closeOnClick: true,\n                  pauseOnHover: true,\n                  className: \"text-center toast-notification\"\n                });\n              }\n            }\n          }\n        } else {\n          //if property checkbox is selected, options selected, but deleted all selected options at once\n          if (newItem.properties.length > 0) {\n            if (newItem.hasVariation === true && newItem.variations === null) {\n              toast.error(`${_t(t(\"Please select variations\"))}`, {\n                position: \"bottom-center\",\n                autoClose: 10000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                className: \"text-center toast-notification\"\n              });\n            } else {\n              //if variation checkbox is not selected\n              if (newItem.hasVariation === false) {\n                foodItemAxios();\n              } else {\n                //if variation checkbox is selected, options selected, but deleted all selected options at once\n                if (newItem.variations.length > 0) {\n                  foodItemAxios();\n                } else {\n                  toast.error(`${_t(t(\"Please select variations\"))}`, {\n                    position: \"bottom-center\",\n                    autoClose: 10000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    className: \"text-center toast-notification\"\n                  });\n                }\n              }\n            }\n          } else {\n            toast.error(`${_t(t(\"Please select properties\"))}`, {\n              position: \"bottom-center\",\n              autoClose: 10000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              className: \"text-center toast-notification\"\n            });\n          }\n        }\n      }\n    } else {\n      //if item group not selected\n      toast.error(`${_t(t(\"Please select a Food Group for this item\"))}`, {\n        position: \"bottom-center\",\n        autoClose: 10000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        className: \"text-center toast-notification\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }\n  }, _t(t(\"Yearly reports\")))), /*#__PURE__*/React.createElement(\"main\", {\n    id: \"main\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row t-mt-10 gx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReportSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fk-scroll--pos-menu table-bottom-info-hide\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-pl-15 t-pr-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${dataPaginating && \"loading\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 21\n    }\n  }), loading === true ? tableLoading() : /*#__PURE__*/React.createElement(\"div\", {\n    key: \"smtp-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-2 align-items-center t-pt-15 t-pb-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 t-mb-15 mb-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"t-list fk-breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"fk-breadcrumb__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"t-link fk-breadcrumb__link text-capitalize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 33\n    }\n  }, _t(t(\"Yearly reports\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-2 justify-content-center t-pt-15 t-pb-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 t-mb-15 mb-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Chart, {\n    options: chart.options,\n    series: chart.series,\n    type: \"bar\",\n    width: \"100%\",\n    height: \"300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 29\n    }\n  }))))))))))));\n};\n\nexport default Yearly;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/reports/Yearly.js"],"names":["React","useEffect","useContext","useState","useHistory","axios","BASE_URL","_t","getCookie","tableLoading","useTranslation","Helmet","toast","Select","makeAnimated","Chart","ReportSidebar","SettingsContext","FoodContext","Yearly","t","history","loading","setLoading","dataPaginating","setFoodForSearch","foodGroupForSearch","propertyGroupForSearch","variationForSearch","newItem","setNewItem","itemGroup","name","price","image","hasProperty","properties","hasVariation","variations","priceForVariations","setPriceForVariations","chart","setChart","options","id","xaxis","categories","series","data","handleChange","e","target","value","handleItemImage","files","handleSetPropertes","handleSetVariations","handleVariationPrice","handleSetItemGroup","handlePropertyCheckboxChange","handleVariationCheckboxChange","foodItemAxios","formData","FormData","append","tempArray","map","pItem","push","slugArray","newVarItem","slug","slugItem","tempData","Object","entries","item","url","post","headers","Authorization","then","res","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","catch","error","response","errors","forEach","handleSubmit","preventDefault","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../BaseUrl\";\r\n\r\n//functions\r\nimport { _t, getCookie, tableLoading } from \"../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\nimport Chart from \"react-apexcharts\";\r\n\r\n//pages & includes\r\nimport ReportSidebar from \"./ReportSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../contexts/Settings\";\r\nimport { FoodContext } from \"../../../../contexts/Food\";\r\n\r\nconst Yearly = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let { loading, setLoading, dataPaginating } = useContext(SettingsContext);\r\n\r\n  let {\r\n    setFoodForSearch,\r\n    foodGroupForSearch,\r\n    propertyGroupForSearch,\r\n    variationForSearch,\r\n  } = useContext(FoodContext);\r\n\r\n  // States hook here\r\n  //new item\r\n  let [newItem, setNewItem] = useState({\r\n    itemGroup: null,\r\n    name: \"\",\r\n    price: \"\",\r\n    image: null,\r\n    hasProperty: false,\r\n    properties: null,\r\n    hasVariation: false,\r\n    variations: null,\r\n  });\r\n\r\n  let [priceForVariations, setPriceForVariations] = useState(null);\r\n\r\n  const [chart, setChart] = useState({\r\n    options: {\r\n      chart: {\r\n        id: \"basic-bar\",\r\n      },\r\n      xaxis: {\r\n        categories: [1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998],\r\n      },\r\n    },\r\n    series: [\r\n      {\r\n        name: \"series-1\",\r\n        data: [30, 40, 45, 50, 49, 60, 70, 91],\r\n      },\r\n    ],\r\n  });\r\n\r\n  //useEffect == componentDidMount()\r\n  useEffect(() => {}, []);\r\n\r\n  //on change input field\r\n  const handleChange = (e) => {\r\n    setNewItem({ ...newItem, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //set image hook\r\n  const handleItemImage = (e) => {\r\n    setNewItem({\r\n      ...newItem,\r\n      [e.target.name]: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  //set properties hook\r\n  const handleSetPropertes = (properties) => {\r\n    setNewItem({ ...newItem, properties });\r\n  };\r\n\r\n  //set variations hook\r\n  const handleSetVariations = (variations) => {\r\n    setNewItem({ ...newItem, variations });\r\n  };\r\n\r\n  //set each variation price\r\n  const handleVariationPrice = (e) => {\r\n    setPriceForVariations({\r\n      ...priceForVariations,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  //handle Set item group hook\r\n  const handleSetItemGroup = (itemGroup) => {\r\n    setNewItem({ ...newItem, itemGroup });\r\n  };\r\n\r\n  //has Property\r\n  const handlePropertyCheckboxChange = (e) => {\r\n    if (newItem.hasProperty === true) {\r\n      setNewItem({\r\n        ...newItem,\r\n        properties: null,\r\n        hasProperty: !newItem.hasProperty,\r\n      });\r\n    } else {\r\n      setNewItem({ ...newItem, hasProperty: !newItem.hasProperty });\r\n    }\r\n  };\r\n\r\n  //has variations\r\n  const handleVariationCheckboxChange = (e) => {\r\n    if (newItem.hasVariation === true) {\r\n      setNewItem({\r\n        ...newItem,\r\n        variations: null,\r\n        hasVariation: !newItem.hasVariation,\r\n      });\r\n    } else {\r\n      setNewItem({ ...newItem, hasVariation: !newItem.hasVariation });\r\n    }\r\n  };\r\n\r\n  //post req of food item add\r\n  const foodItemAxios = () => {\r\n    setLoading(true);\r\n    let formData = new FormData();\r\n    formData.append(\"food_group_id\", newItem.itemGroup.id);\r\n    formData.append(\"name\", newItem.name);\r\n    formData.append(\"hasProperty\", newItem.hasProperty === true ? 1 : 0);\r\n    if (newItem.hasProperty === true) {\r\n      formData.append(\"hasProperty\", 1);\r\n      let tempArray = [];\r\n      newItem.properties.map((pItem) => {\r\n        tempArray.push(pItem.id);\r\n      });\r\n      formData.append(\"properties\", tempArray);\r\n    }\r\n\r\n    formData.append(\"hasVariation\", newItem.hasVariation === true ? 1 : 0);\r\n    if (newItem.hasVariation === false) {\r\n      formData.append(\"price\", newItem.price);\r\n    } else {\r\n      //converting variations and prices to array\r\n      let slugArray = [];\r\n      newItem.variations.map((newVarItem) => {\r\n        slugArray.push(newVarItem.slug);\r\n      });\r\n      slugArray.map((slugItem) => {\r\n        formData.append(\"slugOfVariations[]\", slugItem);\r\n      });\r\n\r\n      let tempData = Object.entries(priceForVariations);\r\n      tempData.map((item) => {\r\n        formData.append(\"variations[]\", item);\r\n      });\r\n    }\r\n\r\n    formData.append(\"image\", newItem.image);\r\n    const url = BASE_URL + \"/settings/new-food-item\";\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setFoodForSearch(res.data[1]);\r\n        setNewItem({\r\n          itemGroup: null,\r\n          name: \"\",\r\n          price: \"\",\r\n          image: null,\r\n          hasProperty: false,\r\n          properties: null,\r\n          hasVariation: false,\r\n          variations: null,\r\n        });\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Food item has been added\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        if (error.response.data.errors.image) {\r\n          error.response.data.errors.image.forEach((item) => {\r\n            if (item === \"Please select a valid image file\") {\r\n              toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            }\r\n            if (item === \"Please select a file less than 5MB\") {\r\n              toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  //send to server\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    //check item group selected\r\n    if (newItem.itemGroup !== null) {\r\n      //check property is selected or not if property checkbox is checked\r\n      if (newItem.hasProperty === true && newItem.properties === null) {\r\n        toast.error(`${_t(t(\"Please select properties\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      } else {\r\n        //if property checkbox is not selected\r\n        if (newItem.hasProperty === false) {\r\n          //check variation is selected or not if variation checkbox is checked\r\n          if (newItem.hasVariation === true && newItem.variations === null) {\r\n            toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n              position: \"bottom-center\",\r\n              autoClose: 10000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              className: \"text-center toast-notification\",\r\n            });\r\n          } else {\r\n            //if variation checkbox is not selected\r\n            if (newItem.hasVariation === false) {\r\n              foodItemAxios();\r\n            } else {\r\n              //if variation checkbox is selected, options selected, but deleted all selected options at once\r\n              if (newItem.variations.length > 0) {\r\n                foodItemAxios();\r\n              } else {\r\n                toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          //if property checkbox is selected, options selected, but deleted all selected options at once\r\n          if (newItem.properties.length > 0) {\r\n            if (newItem.hasVariation === true && newItem.variations === null) {\r\n              toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            } else {\r\n              //if variation checkbox is not selected\r\n              if (newItem.hasVariation === false) {\r\n                foodItemAxios();\r\n              } else {\r\n                //if variation checkbox is selected, options selected, but deleted all selected options at once\r\n                if (newItem.variations.length > 0) {\r\n                  foodItemAxios();\r\n                } else {\r\n                  toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 10000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    className: \"text-center toast-notification\",\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            toast.error(`${_t(t(\"Please select properties\"))}`, {\r\n              position: \"bottom-center\",\r\n              autoClose: 10000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              className: \"text-center toast-notification\",\r\n            });\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      //if item group not selected\r\n      toast.error(`${_t(t(\"Please select a Food Group for this item\"))}`, {\r\n        position: \"bottom-center\",\r\n        autoClose: 10000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        className: \"text-center toast-notification\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Yearly reports\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ReportSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-12 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                  {_t(t(\"Yearly reports\"))}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"row gx-2 justify-content-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-12 t-mb-15 mb-md-0\">\r\n                            <Chart\r\n                              options={chart.options}\r\n                              series={chart.series}\r\n                              type=\"bar\"\r\n                              width=\"100%\"\r\n                              height=\"300\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Yearly;\r\n"]},"metadata":{},"sourceType":"module"}