{"ast":null,"code":"var _jsxFileName = \"/Users/raza/Downloads/khadyo_source_code/client/src/resources/install/InstallPermission.js\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport { useHistory, NavLink } from \"react-router-dom\"; //axios and base url\n\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../BaseUrl\"; //functions\n\nimport { _t, tableLoading } from \"../../functions/Functions\";\nimport { useTranslation } from \"react-i18next\"; //3rd party packages\n\nimport { Helmet } from \"react-helmet\"; //context consumer\n\nimport { SettingsContext } from \"../../contexts/Settings\";\n\nconst InstallPermission = () => {\n  const {\n    t\n  } = useTranslation();\n  const history = useHistory(); //getting context values here\n\n  let {\n    loading,\n    setLoading,\n    dataPaginating\n  } = useContext(SettingsContext); // States hook here\n\n  const [theData, setTheData] = useState({\n    php_version: null,\n    curl_status: null,\n    env_status: null,\n    pdo_status: null\n  }); //useEffect == componentDidMount()\n\n  useEffect(() => {\n    setLoading(true);\n    handleCheckPermission();\n    setTimeout(() => {\n      setLoading(false);\n    }, 300);\n  }, []); //check permission\n\n  const handleCheckPermission = () => {\n    const url = BASE_URL + \"/check-permission\";\n    return axios.get(url).then(res => {\n      setTheData({\n        php_version: res.data[0],\n        curl_status: res.data[1],\n        env_status: res.data[2],\n        pdo_status: res.data[3]\n      });\n    }).catch(err => {});\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"Checking Permissions\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main\",\n    className: \"main-height-100\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row t-mt-10 gx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 offset-1 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"installation-full-page\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-pl-15 t-pr-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${dataPaginating && \"loading\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }), loading === true ? tableLoading() : /*#__PURE__*/React.createElement(\"div\", {\n    key: \"smtp-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-2 align-items-center t-pt-15 t-pb-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-5 t-mb-15 mb-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"t-list fk-breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"fk-breadcrumb__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-3 align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-success font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 27\n    }\n  }, \"Checking Permissions\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"sm-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 27\n    }\n  }, \"We ran diagnosis on your server. Review the items that have a red mark on it. \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 57\n    }\n  }), \" If everything is green, you are good to go to the next step.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item text-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }, \"Php version 8+\", theData.php_version !== null && theData.php_version > 7.3 ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-check text-success pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-close text-danger pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item text-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, \"Curl Enabled\", theData.curl_status !== null && theData.curl_status === true ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-check text-success pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-close text-danger pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item text-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 31\n    }\n  }, \".env\"), \" File Writeable Permission\", theData.env_status !== null && theData.env_status === true ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-check text-success pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-close text-danger pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item text-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 31\n    }\n  }, \".env\"), \" Check PDO\", theData.pdo_status !== null && theData.pdo_status === true ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-check text-success pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-close text-danger pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-2 mx-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-uppercase col-4 offset-4 mt-4 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 27\n    }\n  }, theData.php_version !== null && theData.php_version > 7.3 && theData.curl_status !== null && theData.pdo_status === true && (theData.curl_status === true && theData.env_status) !== null && theData.env_status === true ? /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/installation/database-setup\",\n    className: \"btn btn-secondary btn-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 31\n    }\n  }, \" \", \"Go To Next Step\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-primary text-uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 31\n    }\n  }, \"Please contact your server provider to configure the server accordring to the requirements\"))))))))))));\n};\n\nexport default InstallPermission;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/install/InstallPermission.js"],"names":["React","useEffect","useContext","useState","useHistory","NavLink","axios","BASE_URL","_t","tableLoading","useTranslation","Helmet","SettingsContext","InstallPermission","t","history","loading","setLoading","dataPaginating","theData","setTheData","php_version","curl_status","env_status","pdo_status","handleCheckPermission","setTimeout","url","get","then","res","data","catch","err"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory, NavLink } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../BaseUrl\";\r\n\r\n//functions\r\nimport { _t, tableLoading } from \"../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../contexts/Settings\";\r\n\r\nconst InstallPermission = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let { loading, setLoading, dataPaginating } = useContext(SettingsContext);\r\n\r\n  // States hook here\r\n  const [theData, setTheData] = useState({\r\n    php_version: null,\r\n    curl_status: null,\r\n    env_status: null,\r\n    pdo_status: null\r\n  });\r\n\r\n  //useEffect == componentDidMount()\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    handleCheckPermission();\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 300);\r\n  }, []);\r\n\r\n  //check permission\r\n  const handleCheckPermission = () => {\r\n\r\n    const url = BASE_URL + \"/check-permission\";\r\n    return axios\r\n      .get(url)\r\n      .then((res) => {\r\n        setTheData({\r\n          php_version: res.data[0],\r\n          curl_status: res.data[1],\r\n          env_status: res.data[2],\r\n          pdo_status: res.data[3]\r\n        });\r\n      })\r\n      .catch((err) => { });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Checking Permissions</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <div id=\"main\" className=\"main-height-100\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-10 offset-1 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div className=\"installation-full-page\" data-simplebar>\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\"></li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\"></div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Form starts here */}\r\n                        <div className=\"text-center\">\r\n                          <h3 className=\"text-success font-weight-bold\">\r\n                            Checking Permissions\r\n                          </h3>\r\n                          <p className=\"sm-text\">\r\n                            We ran diagnosis on your server. Review the items\r\n                            that have a red mark on it. <br /> If everything is\r\n                            green, you are good to go to the next step.\r\n                          </p>\r\n                        </div>\r\n\r\n                        <div className=\"m-5\">\r\n                          <ul className=\"list-group\">\r\n                            <li className=\"list-group-item text-semibold\">\r\n                              Php version 8+\r\n                              {theData.php_version !== null &&\r\n                                theData.php_version > 7.3 ? (\r\n                                <i className=\"fa fa-check text-success pull-right\"></i>\r\n                              ) : (\r\n                                <i className=\"fa fa-close text-danger pull-right\"></i>\r\n                              )}\r\n                            </li>\r\n                            <li className=\"list-group-item text-semibold\">\r\n                              Curl Enabled\r\n                              {theData.curl_status !== null &&\r\n                                theData.curl_status === true ? (\r\n                                <i className=\"fa fa-check text-success pull-right\"></i>\r\n                              ) : (\r\n                                <i className=\"fa fa-close text-danger pull-right\"></i>\r\n                              )}\r\n                            </li>\r\n                            <li className=\"list-group-item text-semibold\">\r\n                              <b>.env</b> File Writeable Permission\r\n                              {theData.env_status !== null &&\r\n                                theData.env_status === true ? (\r\n                                <i className=\"fa fa-check text-success pull-right\"></i>\r\n                              ) : (\r\n                                <i className=\"fa fa-close text-danger pull-right\"></i>\r\n                              )}\r\n                            </li>\r\n                            <li className=\"list-group-item text-semibold\">\r\n                              <b>.env</b> Check PDO\r\n                              {theData.pdo_status !== null &&\r\n                                theData.pdo_status === true ? (\r\n                                <i className=\"fa fa-check text-success pull-right\"></i>\r\n                              ) : (\r\n                                <i className=\"fa fa-close text-danger pull-right\"></i>\r\n                              )}\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n\r\n                        <p className=\"my-2 mx-5\">\r\n                          <div className=\"text-center text-uppercase col-4 offset-4 mt-4 mb-3\">\r\n                            {theData.php_version !== null &&\r\n                              theData.php_version > 7.3 &&\r\n                              theData.curl_status !== null &&\r\n                              theData.pdo_status === true &&\r\n                              (theData.curl_status === true &&\r\n                                theData.env_status) !== null &&\r\n                              theData.env_status === true ? (\r\n                              <NavLink\r\n                                to=\"/installation/database-setup\"\r\n                                className=\"btn btn-secondary btn-block\"\r\n                              >\r\n                                {\" \"}\r\n                                Go To Next Step\r\n                              </NavLink>\r\n                            ) : (\r\n                              <div className=\"text-center text-primary text-uppercase\">\r\n                                Please contact your server provider to configure\r\n                                the server accordring to the requirements\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </p>\r\n\r\n                        {/* Form ends here */}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InstallPermission;\r\n"]},"metadata":{},"sourceType":"module"}