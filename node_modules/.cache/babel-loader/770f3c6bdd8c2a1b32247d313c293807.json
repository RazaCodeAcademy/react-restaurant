{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState}from\"react\";import{useHistory}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL,SAAS_APPLICATION,saas_apiUrl,saas_apiParams,saas_form_data}from\"../../../../../BaseUrl\";//functions\nimport{_t,getCookie,tableLoading}from\"../../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Select from\"react-select\";import makeAnimated from\"react-select/animated\";//pages & includes\nimport ManageSidebar from\"../ManageSidebar\";//context consumer\nimport{SettingsContext}from\"../../../../../contexts/Settings\";import{FoodContext}from\"../../../../../contexts/Food\";import Expired from\"../../../../../saasHelper/Expired\";import SaasApiFailure from\"../../../../../saasHelper/saasApiFailure\";var FoodItemCrud=function FoodItemCrud(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading,dataPaginating=_useContext.dataPaginating;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),apiFailed=_useState2[0],setApiFailed=_useState2[1];var _useContext2=useContext(FoodContext),setFoodForSearch=_useContext2.setFoodForSearch,foodGroupForSearch=_useContext2.foodGroupForSearch,propertyGroupForSearch=_useContext2.propertyGroupForSearch,variationForSearch=_useContext2.variationForSearch;// States hook here\n//new item\nvar _useState3=useState({itemGroup:null,name:\"\",price:\"\",image:null,hasProperty:false,properties:null,hasVariation:false,isSpecial:false,variations:null}),_useState4=_slicedToArray(_useState3,2),newItem=_useState4[0],setNewItem=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),priceForVariations=_useState6[0],setPriceForVariations=_useState6[1];// saas integration\nvar _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),hasSaasLimit=_useState8[0],setHasSaasLimit=_useState8[1];// const SaasContext = React.createContext();\nvar decrementSaasItem=function decrementSaasItem(){// after send api req decremeny by one\nvar url=saas_apiUrl+'/api/user-item-limit-decrement';// replace with base url (prince.thetestserver.xyz)\naxios.post(url,saas_form_data).then(function(res){console.log(res);}).catch(function(){return'NO data';});};// saas integration\nuseEffect(function(){if(SAAS_APPLICATION=='YES'){// check  saas limit item\nvar checkHaslimit=function checkHaslimit(){var url=saas_apiUrl+'/api/user-item-limit-check?'+saas_apiParams;// replace with base url (prince.thetestserver.xyz)\naxios.get(url).then(function(res){{res.data=='HAS-LIMIT'?setHasSaasLimit(true):setHasSaasLimit(false);}// console.log('this is from state value : ', hasSaasLimit);\n}).catch(function(){setApiFailed(true);});};var saastoken=setInterval(checkHaslimit,1000);checkHaslimit();return function(){//  cleanup the interval when this effect is loaded.\nclearInterval(saastoken);};}},[]);//on change input field\nvar handleChange=function handleChange(e){setNewItem(_objectSpread(_objectSpread({},newItem),{},_defineProperty({},e.target.name,e.target.value)));};//set image hook\nvar handleItemImage=function handleItemImage(e){setNewItem(_objectSpread(_objectSpread({},newItem),{},_defineProperty({},e.target.name,e.target.files[0])));};//set properties hook\nvar handleSetPropertes=function handleSetPropertes(properties){setNewItem(_objectSpread(_objectSpread({},newItem),{},{properties:properties}));};//set variations hook\nvar handleSetVariations=function handleSetVariations(variations){setNewItem(_objectSpread(_objectSpread({},newItem),{},{variations:variations}));};//set each variation price\nvar handleVariationPrice=function handleVariationPrice(e){setPriceForVariations(_objectSpread(_objectSpread({},priceForVariations),{},_defineProperty({},e.target.name,e.target.value)));};//handle Set item group hook\nvar handleSetItemGroup=function handleSetItemGroup(itemGroup){setNewItem(_objectSpread(_objectSpread({},newItem),{},{itemGroup:itemGroup}));};//has Property\nvar handlePropertyCheckboxChange=function handlePropertyCheckboxChange(e){if(newItem.hasProperty===true){setNewItem(_objectSpread(_objectSpread({},newItem),{},{properties:null,hasProperty:!newItem.hasProperty}));}else{setNewItem(_objectSpread(_objectSpread({},newItem),{},{hasProperty:!newItem.hasProperty}));}};//has variations\nvar handleVariationCheckboxChange=function handleVariationCheckboxChange(e){if(newItem.hasVariation===true){setNewItem(_objectSpread(_objectSpread({},newItem),{},{variations:null,hasVariation:!newItem.hasVariation}));}else{setNewItem(_objectSpread(_objectSpread({},newItem),{},{hasVariation:!newItem.hasVariation}));}};//is special\nvar handleSpecialCheckboxChange=function handleSpecialCheckboxChange(e){setNewItem(_objectSpread(_objectSpread({},newItem),{},{isSpecial:!newItem.isSpecial}));};//post req of food item add\nvar foodItemAxios=function foodItemAxios(){setLoading(true);if(SAAS_APPLICATION=='YES'){decrementSaasItem();}var formData=new FormData();formData.append(\"food_group_id\",newItem.itemGroup.id);formData.append(\"name\",newItem.name);formData.append(\"hasProperty\",newItem.hasProperty===true?1:0);if(newItem.hasProperty===true){formData.append(\"hasProperty\",1);var tempArray=[];newItem.properties.map(function(pItem){tempArray.push(pItem.id);});formData.append(\"properties\",tempArray);}formData.append(\"hasVariation\",newItem.hasVariation===true?1:0);formData.append(\"isSpecial\",newItem.isSpecial===true?1:0);if(newItem.hasVariation===false){formData.append(\"price\",newItem.price);}else{//converting variations and prices to array\nvar slugArray=[];newItem.variations.map(function(newVarItem){slugArray.push(newVarItem.slug);});slugArray.map(function(slugItem){formData.append(\"slugOfVariations[]\",slugItem);});var tempData=Object.entries(priceForVariations);tempData.map(function(item){formData.append(\"variations[]\",item);});}formData.append(\"image\",newItem.image);var url=BASE_URL+\"/settings/new-food-item\";return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setFoodForSearch(res.data[1]);setNewItem({itemGroup:null,name:\"\",price:\"\",image:null,hasProperty:false,properties:null,hasVariation:false,isSpecial:false,variations:null});setLoading(false);toast.success(\"\".concat(_t(t(\"Food item has been added\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}).catch(function(error){setLoading(false);if(error.response.data.errors.image){error.response.data.errors.image.forEach(function(item){if(item===\"Please select a valid image file\"){toast.error(\"\".concat(_t(t(\"Please select a valid image file\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}if(item===\"Please select a file less than 5MB\"){toast.error(\"\".concat(_t(t(\"Please select a file less than 5MB\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}});}});};//send to server\nvar handleSubmit=function handleSubmit(e){e.preventDefault();//check item group selected\nif(newItem.itemGroup!==null){//check property is selected or not if property checkbox is checked\nif(newItem.hasProperty===true&&newItem.properties===null){toast.error(\"\".concat(_t(t(\"Please select properties\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{//if property checkbox is not selected\nif(newItem.hasProperty===false){//check variation is selected or not if variation checkbox is checked\nif(newItem.hasVariation===true&&newItem.variations===null){toast.error(\"\".concat(_t(t(\"Please select variations\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{//if variation checkbox is not selected\nif(newItem.hasVariation===false){foodItemAxios();}else{//if variation checkbox is selected, options selected, but deleted all selected options at once\nif(newItem.variations.length>0){foodItemAxios();}else{toast.error(\"\".concat(_t(t(\"Please select variations\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}}}else{//if property checkbox is selected, options selected, but deleted all selected options at once\nif(newItem.properties.length>0){if(newItem.hasVariation===true&&newItem.variations===null){toast.error(\"\".concat(_t(t(\"Please select variations\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{//if variation checkbox is not selected\nif(newItem.hasVariation===false){foodItemAxios();}else{//if variation checkbox is selected, options selected, but deleted all selected options at once\nif(newItem.variations.length>0){foodItemAxios();}else{toast.error(\"\".concat(_t(t(\"Please select variations\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}}}else{toast.error(\"\".concat(_t(t(\"Please select properties\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}}}else{//if item group not selected\ntoast.error(\"\".concat(_t(t(\"Please select a Food Group for this item\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Add New Item\")))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(ManageSidebar,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--pos-menu table-bottom-info-hide\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),loading===true?tableLoading():apiFailed?[/*#__PURE__*/React.createElement(SaasApiFailure,null)]:[hasSaasLimit?[/*#__PURE__*/ // start here\nReact.createElement(\"div\",{key:\"smtp-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center t-pt-15 t-pb-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-5 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-capitalize\"},_t(t(\"Add new item\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3 align-items-center\"}))),/*#__PURE__*/React.createElement(\"form\",{className:\"row card p-2 mx-3 mb-5 sm-text\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},foodGroupForSearch&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"itemGroup\",className:\"control-label\"},_t(t(\"Food group\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\"))),/*#__PURE__*/React.createElement(Select,{options:foodGroupForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",onChange:handleSetItemGroup,maxMenuHeight:\"200px\",placeholder:_t(t(\"Please select a food group\"))+\"..\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\",className:\"control-label\"},_t(t(\"Name\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",onChange:handleChange,value:newItem.name,placeholder:\"e.g. Spicy chicken burger\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-check mt-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"propertyCheck\",checked:newItem.hasProperty,onChange:handlePropertyCheckboxChange}),/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label pointer-cursor\",htmlFor:\"propertyCheck\"},_t(t(\"Has properties?\")))),propertyGroupForSearch&&[newItem.hasProperty&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-2 ml-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},_t(t(\"Add properties\")))),/*#__PURE__*/React.createElement(Select,{options:propertyGroupForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},className:\"basic-multi-select\",classNamePrefix:\"select\",isMulti:true,maxMenuHeight:\"200px\",onChange:handleSetPropertes,placeholder:_t(t(\"Please select property groups\"))+\"..\"}))],/*#__PURE__*/React.createElement(\"div\",{className:\"form-check mt-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"variationCheck\",checked:newItem.hasVariation,onChange:handleVariationCheckboxChange}),/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label pointer-cursor\",htmlFor:\"variationCheck\"},_t(t(\"Has variations?\")))),newItem.hasVariation&&variationForSearch&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-2 ml-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},_t(t(\"Add variations\")))),/*#__PURE__*/React.createElement(Select,{options:variationForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},className:\"basic-multi-select\",classNamePrefix:\"select\",isMulti:true,maxMenuHeight:\"200px\",onChange:handleSetVariations,placeholder:_t(t(\"Please select variations\"))+\"..\"})),newItem.variations!==null&&[newItem.variations.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"card ml-4 mt-3 p-3 custom-bg-secondary\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header t-bg-epsilon text-white rounded-sm text-center\"},_t(t(\"Please enter price for each variation\"))),newItem.variations.map(function(variationItem){return/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-4\",key:variationItem.id},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:variationItem.slug,className:\"control-label sm-text\"},_t(t(\"Total price of\")),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary text-bold\"},variationItem.name),\" \",_t(t(\"variation\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary\"},\"*\",\" \"),/*#__PURE__*/React.createElement(\"small\",{className:\"text-secondary\"},\"(\",_t(t(\"Enter price in USD\")),\")\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"form-control\",id:variationItem.slug,name:variationItem.slug,onChange:handleVariationPrice,placeholder:\"e.g. Type price of this item in 'US dollar'\",required:true})));}))],!newItem.hasVariation&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"price\",className:\"control-label\"},_t(t(\"Price\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary\"},\"* \"),/*#__PURE__*/React.createElement(\"small\",{className:\"text-secondary\"},\"(\",_t(t(\"Enter price in USD\")),\")\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{id:\"price\",type:\"number\",step:\"0.01\",min:\"0\",className:\"form-control\",name:\"price\",value:newItem.price,onChange:handleChange,placeholder:\"e.g. Type price of this item in 'US dollar'\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-check mt-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"specialCheck\",checked:newItem.isSpecial,onChange:handleSpecialCheckboxChange}),/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label pointer-cursor\",htmlFor:\"specialCheck\"},_t(t(\"Is Special?\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"image\",className:\"control-label\"},_t(t(\"Image\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\"),\" \",/*#__PURE__*/React.createElement(\"small\",{className:\"text-secondary\"},\"(\",_t(t(\"300 x 300 Preferable\")),\")\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"form-control sm-text\",id:\"image\",name:\"image\",onChange:handleItemImage,required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-5 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary px-5\",type:\"submit\"},_t(t(\"Save\"))))))))// end here\n]:[/*#__PURE__*/React.createElement(Expired,null)]]))))))));};export default FoodItemCrud;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/food/FoodItemCrud.js"],"names":["React","useEffect","useContext","useState","useHistory","axios","BASE_URL","SAAS_APPLICATION","saas_apiUrl","saas_apiParams","saas_form_data","_t","getCookie","tableLoading","useTranslation","Helmet","toast","Select","makeAnimated","ManageSidebar","SettingsContext","FoodContext","Expired","SaasApiFailure","FoodItemCrud","t","history","loading","setLoading","dataPaginating","apiFailed","setApiFailed","setFoodForSearch","foodGroupForSearch","propertyGroupForSearch","variationForSearch","itemGroup","name","price","image","hasProperty","properties","hasVariation","isSpecial","variations","newItem","setNewItem","priceForVariations","setPriceForVariations","hasSaasLimit","setHasSaasLimit","decrementSaasItem","url","post","then","res","console","log","catch","checkHaslimit","get","data","saastoken","setInterval","clearInterval","handleChange","e","target","value","handleItemImage","files","handleSetPropertes","handleSetVariations","handleVariationPrice","handleSetItemGroup","handlePropertyCheckboxChange","handleVariationCheckboxChange","handleSpecialCheckboxChange","foodItemAxios","formData","FormData","append","id","tempArray","map","pItem","push","slugArray","newVarItem","slug","slugItem","tempData","Object","entries","item","headers","Authorization","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","error","response","errors","forEach","handleSubmit","preventDefault","length","option","variationItem"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL, SAAS_APPLICATION, saas_apiUrl, saas_apiParams, saas_form_data } from \"../../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\nimport { FoodContext } from \"../../../../../contexts/Food\";\r\nimport Expired from \"../../../../../saasHelper/Expired\";\r\nimport SaasApiFailure from \"../../../../../saasHelper/saasApiFailure\";\r\n\r\n\r\nconst FoodItemCrud = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let { loading, setLoading, dataPaginating } = useContext(SettingsContext);\r\n  let [apiFailed, setApiFailed] = useState(false);\r\n\r\n  let {\r\n    setFoodForSearch,\r\n    foodGroupForSearch,\r\n    propertyGroupForSearch,\r\n    variationForSearch,\r\n  } = useContext(FoodContext);\r\n\r\n  // States hook here\r\n  //new item\r\n  let [newItem, setNewItem] = useState({\r\n    itemGroup: null,\r\n    name: \"\",\r\n    price: \"\",\r\n    image: null,\r\n    hasProperty: false,\r\n    properties: null,\r\n    hasVariation: false,\r\n    isSpecial: false,\r\n    variations: null,\r\n  });\r\n\r\n  let [priceForVariations, setPriceForVariations] = useState(null);\r\n\r\n  // saas integration\r\n  let [hasSaasLimit, setHasSaasLimit] = useState(true);\r\n  // const SaasContext = React.createContext();\r\n\r\n  const decrementSaasItem = () => {\r\n    // after send api req decremeny by one\r\n    const url = saas_apiUrl + '/api/user-item-limit-decrement';// replace with base url (prince.thetestserver.xyz)\r\n    axios.post(url, saas_form_data).then((res) => {\r\n      console.log(res);\r\n    }).catch(() => {\r\n      return 'NO data'\r\n    });\r\n  }\r\n\r\n  // saas integration\r\n  useEffect(() => {\r\n    if (SAAS_APPLICATION == 'YES') {\r\n      // check  saas limit item\r\n      const checkHaslimit = () => {\r\n        const url = saas_apiUrl + '/api/user-item-limit-check?' + saas_apiParams;// replace with base url (prince.thetestserver.xyz)\r\n        axios.get(url).then((res) => {\r\n          { res.data == 'HAS-LIMIT' ? setHasSaasLimit(true) : setHasSaasLimit(false) }\r\n          // console.log('this is from state value : ', hasSaasLimit);\r\n        }).catch(() => {\r\n          setApiFailed(true);\r\n        });\r\n      }\r\n\r\n      const saastoken = setInterval(checkHaslimit, 1000);\r\n      checkHaslimit();\r\n      return () => {\r\n        //  cleanup the interval when this effect is loaded.\r\n        clearInterval(saastoken);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  //on change input field\r\n  const handleChange = (e) => {\r\n    setNewItem({ ...newItem, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //set image hook\r\n  const handleItemImage = (e) => {\r\n    setNewItem({\r\n      ...newItem,\r\n      [e.target.name]: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  //set properties hook\r\n  const handleSetPropertes = (properties) => {\r\n    setNewItem({ ...newItem, properties });\r\n  };\r\n\r\n  //set variations hook\r\n  const handleSetVariations = (variations) => {\r\n    setNewItem({ ...newItem, variations });\r\n  };\r\n\r\n  //set each variation price\r\n  const handleVariationPrice = (e) => {\r\n    setPriceForVariations({\r\n      ...priceForVariations,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  //handle Set item group hook\r\n  const handleSetItemGroup = (itemGroup) => {\r\n    setNewItem({ ...newItem, itemGroup });\r\n  };\r\n\r\n  //has Property\r\n  const handlePropertyCheckboxChange = (e) => {\r\n    if (newItem.hasProperty === true) {\r\n      setNewItem({\r\n        ...newItem,\r\n        properties: null,\r\n        hasProperty: !newItem.hasProperty,\r\n      });\r\n    } else {\r\n      setNewItem({ ...newItem, hasProperty: !newItem.hasProperty });\r\n    }\r\n  };\r\n\r\n  //has variations\r\n  const handleVariationCheckboxChange = (e) => {\r\n    if (newItem.hasVariation === true) {\r\n      setNewItem({\r\n        ...newItem,\r\n        variations: null,\r\n        hasVariation: !newItem.hasVariation,\r\n      });\r\n    } else {\r\n      setNewItem({ ...newItem, hasVariation: !newItem.hasVariation });\r\n    }\r\n  };\r\n\r\n  //is special\r\n  const handleSpecialCheckboxChange = (e) => {\r\n    setNewItem({\r\n      ...newItem,\r\n      isSpecial: !newItem.isSpecial,\r\n    });\r\n  };\r\n\r\n  //post req of food item add\r\n  const foodItemAxios = () => {\r\n    setLoading(true);\r\n    if (SAAS_APPLICATION == 'YES') {\r\n      decrementSaasItem();\r\n    }\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"food_group_id\", newItem.itemGroup.id);\r\n    formData.append(\"name\", newItem.name);\r\n    formData.append(\"hasProperty\", newItem.hasProperty === true ? 1 : 0);\r\n    if (newItem.hasProperty === true) {\r\n      formData.append(\"hasProperty\", 1);\r\n      let tempArray = [];\r\n      newItem.properties.map((pItem) => {\r\n        tempArray.push(pItem.id);\r\n      });\r\n      formData.append(\"properties\", tempArray);\r\n    }\r\n\r\n    formData.append(\"hasVariation\", newItem.hasVariation === true ? 1 : 0);\r\n    formData.append(\"isSpecial\", newItem.isSpecial === true ? 1 : 0);\r\n    if (newItem.hasVariation === false) {\r\n      formData.append(\"price\", newItem.price);\r\n    } else {\r\n      //converting variations and prices to array\r\n      let slugArray = [];\r\n      newItem.variations.map((newVarItem) => {\r\n        slugArray.push(newVarItem.slug);\r\n      });\r\n      slugArray.map((slugItem) => {\r\n        formData.append(\"slugOfVariations[]\", slugItem);\r\n      });\r\n\r\n      let tempData = Object.entries(priceForVariations);\r\n      tempData.map((item) => {\r\n        formData.append(\"variations[]\", item);\r\n      });\r\n    }\r\n\r\n    formData.append(\"image\", newItem.image);\r\n    const url = BASE_URL + \"/settings/new-food-item\";\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setFoodForSearch(res.data[1]);\r\n        setNewItem({\r\n          itemGroup: null,\r\n          name: \"\",\r\n          price: \"\",\r\n          image: null,\r\n          hasProperty: false,\r\n          properties: null,\r\n          hasVariation: false,\r\n          isSpecial: false,\r\n          variations: null,\r\n        });\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Food item has been added\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        if (error.response.data.errors.image) {\r\n          error.response.data.errors.image.forEach((item) => {\r\n            if (item === \"Please select a valid image file\") {\r\n              toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            }\r\n            if (item === \"Please select a file less than 5MB\") {\r\n              toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  //send to server\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    //check item group selected\r\n    if (newItem.itemGroup !== null) {\r\n      //check property is selected or not if property checkbox is checked\r\n      if (newItem.hasProperty === true && newItem.properties === null) {\r\n        toast.error(`${_t(t(\"Please select properties\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      } else {\r\n        //if property checkbox is not selected\r\n        if (newItem.hasProperty === false) {\r\n          //check variation is selected or not if variation checkbox is checked\r\n          if (newItem.hasVariation === true && newItem.variations === null) {\r\n            toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n              position: \"bottom-center\",\r\n              autoClose: 10000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              className: \"text-center toast-notification\",\r\n            });\r\n          } else {\r\n            //if variation checkbox is not selected\r\n            if (newItem.hasVariation === false) {\r\n              foodItemAxios();\r\n            } else {\r\n              //if variation checkbox is selected, options selected, but deleted all selected options at once\r\n              if (newItem.variations.length > 0) {\r\n                foodItemAxios();\r\n              } else {\r\n                toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          //if property checkbox is selected, options selected, but deleted all selected options at once\r\n          if (newItem.properties.length > 0) {\r\n            if (newItem.hasVariation === true && newItem.variations === null) {\r\n              toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            } else {\r\n              //if variation checkbox is not selected\r\n              if (newItem.hasVariation === false) {\r\n                foodItemAxios();\r\n              } else {\r\n                //if variation checkbox is selected, options selected, but deleted all selected options at once\r\n                if (newItem.variations.length > 0) {\r\n                  foodItemAxios();\r\n                } else {\r\n                  toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 10000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    className: \"text-center toast-notification\",\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            toast.error(`${_t(t(\"Please select properties\"))}`, {\r\n              position: \"bottom-center\",\r\n              autoClose: 10000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              className: \"text-center toast-notification\",\r\n            });\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      //if item group not selected\r\n      toast.error(`${_t(t(\"Please select a Food Group for this item\"))}`, {\r\n        position: \"bottom-center\",\r\n        autoClose: 10000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        className: \"text-center toast-notification\",\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Add New Item\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (apiFailed ?\r\n                      [\r\n                        <SaasApiFailure />\r\n                      ] : [\r\n                        hasSaasLimit ? [\r\n                          // start here\r\n                          <div key=\"smtp-form\">\r\n                            <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                              <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                                <ul className=\"t-list fk-breadcrumb\">\r\n                                  <li className=\"fk-breadcrumb__list\">\r\n                                    <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                      {_t(t(\"Add new item\"))}\r\n                                    </span>\r\n                                  </li>\r\n                                </ul>\r\n                              </div>\r\n                              <div className=\"col-md-6 col-lg-7\">\r\n                                <div className=\"row gx-3 align-items-center\"></div>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Form starts here */}\r\n                            <form\r\n                              className=\"row card p-2 mx-3 mb-5 sm-text\"\r\n                              onSubmit={handleSubmit}\r\n                            >\r\n                              <div className=\"col-12\">\r\n                                {foodGroupForSearch && (\r\n                                  <div className=\"form-group mt-2\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label\r\n                                        htmlFor=\"itemGroup\"\r\n                                        className=\"control-label\"\r\n                                      >\r\n                                        {_t(t(\"Food group\"))}\r\n                                        <span className=\"text-danger\">*</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <Select\r\n                                      options={foodGroupForSearch}\r\n                                      components={makeAnimated()}\r\n                                      getOptionLabel={(option) => option.name}\r\n                                      getOptionValue={(option) => option.name}\r\n                                      classNamePrefix=\"select\"\r\n                                      onChange={handleSetItemGroup}\r\n                                      maxMenuHeight=\"200px\"\r\n                                      placeholder={\r\n                                        _t(t(\"Please select a food group\")) + \"..\"\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                )}\r\n\r\n                                <div className=\"form-group mt-3\">\r\n                                  <div className=\"mb-2\">\r\n                                    <label htmlFor=\"name\" className=\"control-label\">\r\n                                      {_t(t(\"Name\"))}\r\n                                      <span className=\"text-danger\">*</span>\r\n                                    </label>\r\n                                  </div>\r\n                                  <div className=\"mb-2\">\r\n                                    <input\r\n                                      type=\"text\"\r\n                                      className=\"form-control\"\r\n                                      id=\"name\"\r\n                                      name=\"name\"\r\n                                      onChange={handleChange}\r\n                                      value={newItem.name}\r\n                                      placeholder=\"e.g. Spicy chicken burger\"\r\n                                      required\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-check mt-4\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    className=\"form-check-input\"\r\n                                    id=\"propertyCheck\"\r\n                                    checked={newItem.hasProperty}\r\n                                    onChange={handlePropertyCheckboxChange}\r\n                                  />\r\n                                  <label\r\n                                    className=\"form-check-label pointer-cursor\"\r\n                                    htmlFor=\"propertyCheck\"\r\n                                  >\r\n                                    {_t(t(\"Has properties?\"))}\r\n                                  </label>\r\n                                </div>\r\n                                {propertyGroupForSearch && [\r\n                                  newItem.hasProperty && (\r\n                                    <div className=\"form-group mt-2 ml-4\">\r\n                                      <div className=\"mb-2\">\r\n                                        <label className=\"control-label\">\r\n                                          {_t(t(\"Add properties\"))}\r\n                                        </label>\r\n                                      </div>\r\n                                      <Select\r\n                                        options={propertyGroupForSearch}\r\n                                        components={makeAnimated()}\r\n                                        getOptionLabel={(option) => option.name}\r\n                                        getOptionValue={(option) => option.name}\r\n                                        className=\"basic-multi-select\"\r\n                                        classNamePrefix=\"select\"\r\n                                        isMulti\r\n                                        maxMenuHeight=\"200px\"\r\n                                        onChange={handleSetPropertes}\r\n                                        placeholder={\r\n                                          _t(t(\"Please select property groups\")) +\r\n                                          \"..\"\r\n                                        }\r\n                                      />\r\n                                    </div>\r\n                                  ),\r\n                                ]}\r\n\r\n                                <div className=\"form-check mt-4\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    className=\"form-check-input\"\r\n                                    id=\"variationCheck\"\r\n                                    checked={newItem.hasVariation}\r\n                                    onChange={handleVariationCheckboxChange}\r\n                                  />\r\n                                  <label\r\n                                    className=\"form-check-label pointer-cursor\"\r\n                                    htmlFor=\"variationCheck\"\r\n                                  >\r\n                                    {_t(t(\"Has variations?\"))}\r\n                                  </label>\r\n                                </div>\r\n\r\n                                {newItem.hasVariation && variationForSearch && (\r\n                                  <div className=\"form-group mt-2 ml-4\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        {_t(t(\"Add variations\"))}\r\n                                      </label>\r\n                                    </div>\r\n                                    <Select\r\n                                      options={variationForSearch}\r\n                                      components={makeAnimated()}\r\n                                      getOptionLabel={(option) => option.name}\r\n                                      getOptionValue={(option) => option.name}\r\n                                      className=\"basic-multi-select\"\r\n                                      classNamePrefix=\"select\"\r\n                                      isMulti\r\n                                      maxMenuHeight=\"200px\"\r\n                                      onChange={handleSetVariations}\r\n                                      placeholder={\r\n                                        _t(t(\"Please select variations\")) + \"..\"\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                )}\r\n                                {newItem.variations !== null && [\r\n                                  newItem.variations.length > 0 && (\r\n                                    <div className=\"card ml-4 mt-3 p-3 custom-bg-secondary\">\r\n                                      <div className=\"card-header t-bg-epsilon text-white rounded-sm text-center\">\r\n                                        {_t(\r\n                                          t(\"Please enter price for each variation\")\r\n                                        )}\r\n                                      </div>\r\n                                      {newItem.variations.map((variationItem) => {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"form-group mt-4\"\r\n                                            key={variationItem.id}\r\n                                          >\r\n                                            <div className=\"mb-2\">\r\n                                              <label\r\n                                                htmlFor={variationItem.slug}\r\n                                                className=\"control-label sm-text\"\r\n                                              >\r\n                                                {_t(t(\"Total price of\"))}{\" \"}\r\n                                                <span className=\"text-primary text-bold\">\r\n                                                  {variationItem.name}\r\n                                                </span>{\" \"}\r\n                                                {_t(t(\"variation\"))}\r\n                                                <span className=\"text-primary\">\r\n                                                  *{\" \"}\r\n                                                </span>\r\n                                                <small className=\"text-secondary\">\r\n                                                  ({_t(t(\"Enter price in USD\"))})\r\n                                                </small>\r\n                                              </label>\r\n                                            </div>\r\n                                            <div className=\"mb-2\">\r\n                                              <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                min=\"0\"\r\n                                                className=\"form-control\"\r\n                                                id={variationItem.slug}\r\n                                                name={variationItem.slug}\r\n                                                onChange={handleVariationPrice}\r\n                                                placeholder=\"e.g. Type price of this item in 'US dollar'\"\r\n                                                required\r\n                                              />\r\n                                            </div>\r\n                                          </div>\r\n                                        );\r\n                                      })}\r\n                                    </div>\r\n                                  ),\r\n                                ]}\r\n\r\n                                {!newItem.hasVariation && (\r\n                                  <div className=\"form-group mt-4\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label\r\n                                        htmlFor=\"price\"\r\n                                        className=\"control-label\"\r\n                                      >\r\n                                        {_t(t(\"Price\"))}\r\n                                        <span className=\"text-primary\">* </span>\r\n                                        <small className=\"text-secondary\">\r\n                                          ({_t(t(\"Enter price in USD\"))})\r\n                                        </small>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <input\r\n                                        id=\"price\"\r\n                                        type=\"number\"\r\n                                        step=\"0.01\"\r\n                                        min=\"0\"\r\n                                        className=\"form-control\"\r\n                                        name=\"price\"\r\n                                        value={newItem.price}\r\n                                        onChange={handleChange}\r\n                                        placeholder=\"e.g. Type price of this item in 'US dollar'\"\r\n                                        required\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n\r\n                                <div className=\"form-check mt-4\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    className=\"form-check-input\"\r\n                                    id=\"specialCheck\"\r\n                                    checked={newItem.isSpecial}\r\n                                    onChange={handleSpecialCheckboxChange}\r\n                                  />\r\n                                  <label\r\n                                    className=\"form-check-label pointer-cursor\"\r\n                                    htmlFor=\"specialCheck\"\r\n                                  >\r\n                                    {_t(t(\"Is Special?\"))}\r\n                                  </label>\r\n                                </div>\r\n                                <div className=\"form-group mt-4\">\r\n                                  <div className=\"mb-2\">\r\n                                    <label\r\n                                      htmlFor=\"image\"\r\n                                      className=\"control-label\"\r\n                                    >\r\n                                      {_t(t(\"Image\"))}\r\n                                      <span className=\"text-danger\">*</span>{\" \"}\r\n                                      <small className=\"text-secondary\">\r\n                                        ({_t(t(\"300 x 300 Preferable\"))})\r\n                                      </small>\r\n                                    </label>\r\n                                  </div>\r\n                                  <div className=\"mb-2\">\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      className=\"form-control sm-text\"\r\n                                      id=\"image\"\r\n                                      name=\"image\"\r\n                                      onChange={handleItemImage}\r\n                                      required\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group mt-5 pb-2\">\r\n                                  <div className=\"col-lg-12\">\r\n                                    <button\r\n                                      className=\"btn btn-primary px-5\"\r\n                                      type=\"submit\"\r\n                                    >\r\n                                      {_t(t(\"Save\"))}\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </form>\r\n                          </div>\r\n                          // end here\r\n                        ] : [\r\n                          <Expired />\r\n                        ]\r\n                      ]\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FoodItemCrud;\r\n"]},"metadata":{},"sourceType":"module"}