{"ast":null,"code":"import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState}from\"react\";import{useHistory}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL,SAAS_APPLICATION,saas_apiUrl,saas_apiParams,saas_form_data}from\"../../../../BaseUrl\";//functions\nimport{_t}from\"../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import\"react-toastify/dist/ReactToastify.css\";//context consumer\nimport{SettingsContext}from\"../../../../contexts/Settings\";import Avatar from'react-avatar';// images\nimport img1 from'../saasInfo/img/img1.png';import img2 from'../saasInfo/img/img2.png';import img3 from'../saasInfo/img/img3.png';import img4 from'../saasInfo/img/img4.png';import rolling from\"../saasInfo/img/rolling.svg\";var SaasProfile=function SaasProfile(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();//getting context values here\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({name:null,phone:null,email:null,domain:null,address:null,rest_name:null,subscription_name:null,total_food:null,payment_status:null,payment_gateway:null,amount:null,total_food_items:null,available_food_item:null,total_branch:null,available_branch_item:null// payment_histories: []\n}),_useState4=_slicedToArray(_useState3,2),saasUserInfo=_useState4[0],setSaasUserInfo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),paymentHistories=_useState6[0],setPaymentHistories=_useState6[1];var url=saas_apiUrl+'/api/user-subscription-data?'+saas_apiParams;var paymentUrl=saas_apiUrl+'/api/payment-histories?'+saas_apiParams;var handleSaasUserInfo=function handleSaasUserInfo(){fetch(url,{headers:{'Content-Type':'application/json','Accept':'application/json'},method:'GET'}).then(function(response){return response.json();}).then(function(myJson){setSaasUserInfo({name:myJson.name,phone:myJson.phone,email:myJson.email,domain:myJson.domain,address:myJson.rest_address,rest_name:myJson.rest_name,subscription_name:myJson.subscription_name,total_food:myJson.total_items,available_food_item:myJson.available_item,total_branch:myJson.total_branch,available_branch_item:myJson.available_branch,payment_status:myJson.payment_status,payment_gateway:myJson.payment_gateway,amount:myJson.amount,// payment_histories: myJson.payment_histories,\nsubscription_date_endin:myJson.subscription_date_endin});setLoading(false);});};var payemtHistoryData=function payemtHistoryData(){return axios.get(paymentUrl).then(function(res){setPaymentHistories(res.data);}).catch(function(error){console.log(error);});};//useEffect == componentDidMount()\nuseEffect(function(){handleSaasUserInfo();payemtHistoryData();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Saas Info Page\")))),/*#__PURE__*/React.createElement(\"main\",{\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container wrapper-margin-40\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2 justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"saas_card_profile\"},/*#__PURE__*/React.createElement(\"span\",{className:\"upper_bg_shape\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"avatar_img_wrapper\"},/*#__PURE__*/React.createElement(Avatar,{color:\"#121053\",name:saasUserInfo.name,size:\"150\",round:true,className:\"saas_user_img\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"user_title\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-user icon\",\"aria-hidden\":\"true\"}),\" User Information\"),loading?/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"img\",{src:rolling,alt:\"\",className:\"hist_rolling\"})):/*#__PURE__*/React.createElement(\"div\",{className:\"user_info_wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"list_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"user_icon\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-user icon\",\"aria-hidden\":\"true\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"title_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"subtitle\"},\"Full Name\"),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},saasUserInfo.name))),/*#__PURE__*/React.createElement(\"div\",{className:\"list_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"user_icon\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-phone\",\"aria-hidden\":\"true\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"title_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"subtitle\"},\"Phone Number\"),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},saasUserInfo.phone))),/*#__PURE__*/React.createElement(\"div\",{className:\"list_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"user_icon\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-envelope-open-o\",\"aria-hidden\":\"true\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"title_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"subtitle\"},\"Email Address\"),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},saasUserInfo.email))),/*#__PURE__*/React.createElement(\"div\",{className:\"list_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"user_icon\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-map-marker\",\"aria-hidden\":\"true\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"title_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"subtitle\"},\"Address\"),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},saasUserInfo.address))),/*#__PURE__*/React.createElement(\"div\",{className:\"list_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"user_icon\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-globe\",\"aria-hidden\":\"true\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"title_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"subtitle\"},\"Domain\"),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},saasUserInfo.domain))),/*#__PURE__*/React.createElement(\"div\",{className:\"list_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"user_icon\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-cutlery\",\"aria-hidden\":\"true\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"title_wrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"subtitle\"},\"Restaurant Name\"),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},saasUserInfo.rest_name)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"span\",{className:\"saas_subs_title\"},/*#__PURE__*/React.createElement(\"span\",{className:\"saas_subs_icon\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-clock-o\",\"aria-hidden\":\"true\"})),\" Subscription -\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-success\"},\" \",saasUserInfo.subscription_name),/*#__PURE__*/React.createElement(\"span\",{className:\"text-dark\"},\" (\",saasUserInfo.subscription_date_endin,\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-lowercase\"},\"left\"),\") \")),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"single_saas_info_card\"},\" \",/*#__PURE__*/React.createElement(\"img\",{src:rolling,alt:\"\",className:\"saas_info_img saas_card_loading\"}),\" \"):/*#__PURE__*/React.createElement(\"div\",{className:\"single_saas_info_card\"},/*#__PURE__*/React.createElement(\"img\",{className:\"saas_info_img\",src:img1,alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"count_number\"},saasUserInfo.total_food),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},\"Total Foods\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"single_saas_info_card\"},\" \",/*#__PURE__*/React.createElement(\"img\",{src:rolling,alt:\"\",className:\"saas_info_img saas_card_loading\"}),\" \"):/*#__PURE__*/React.createElement(\"div\",{className:\"single_saas_info_card\"},/*#__PURE__*/React.createElement(\"img\",{className:\"saas_info_img\",src:img2,alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"count_number\"},saasUserInfo.available_food_item),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},\"Food left\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"single_saas_info_card\"},\" \",/*#__PURE__*/React.createElement(\"img\",{src:rolling,alt:\"\",className:\"saas_info_img saas_card_loading\"}),\" \"):/*#__PURE__*/React.createElement(\"div\",{className:\"single_saas_info_card\"},/*#__PURE__*/React.createElement(\"img\",{className:\"saas_info_img\",src:img3,alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"count_number\"},saasUserInfo.total_branch),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},\"Total Branches\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"single_saas_info_card\"},\" \",/*#__PURE__*/React.createElement(\"img\",{src:rolling,alt:\"\",className:\"saas_info_img saas_card_loading\"}),\" \"):/*#__PURE__*/React.createElement(\"div\",{className:\"single_saas_info_card\"},/*#__PURE__*/React.createElement(\"img\",{className:\"saas_info_img\",src:img4,alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"count_number\"},saasUserInfo.available_branch_item),/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},\"Branch left\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4 saas_profile_history_wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"saas_payment_header\"},/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},\"Payment history\")),/*#__PURE__*/React.createElement(\"div\",{class:\"table-responsive-xl mt-4\"},/*#__PURE__*/React.createElement(\"table\",{class:\"table saas_history_table table-borderless\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"saas_history_head\"},/*#__PURE__*/React.createElement(\"tr\",{key:\"1\"},/*#__PURE__*/React.createElement(\"th\",null,\"Sl\"),/*#__PURE__*/React.createElement(\"th\",null,\"Invoice\"),/*#__PURE__*/React.createElement(\"th\",null,\"Payment Gateway\"),/*#__PURE__*/React.createElement(\"th\",null,\"Amount\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"))),loading?/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"img\",{src:rolling,alt:\"\",className:\"history_rolling\"})):/*#__PURE__*/React.createElement(\"tbody\",{className:\"saas_history_table_body\"},paymentHistories.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:\"1\",className:\"saas_history_table_row\"},/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalize font-weight-bold\"},\"#\",index+1),/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalize font-weight-bold\"},\"#\",item.invoice),/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalize font-weight-bold\"},item.payment_gateway),/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalize font-weight-bold\"},item.amount),/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalize font-weight-bold\"},item.payment_status));}))))))))));};export default SaasProfile;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/saasInfo/SaasProfile.js"],"names":["React","useEffect","useContext","useState","useHistory","axios","BASE_URL","SAAS_APPLICATION","saas_apiUrl","saas_apiParams","saas_form_data","_t","useTranslation","Helmet","SettingsContext","Avatar","img1","img2","img3","img4","SaasProfile","t","history","loading","setLoading","name","phone","email","domain","address","rest_name","subscription_name","total_food","payment_status","payment_gateway","amount","total_food_items","available_food_item","total_branch","available_branch_item","saasUserInfo","setSaasUserInfo","paymentHistories","setPaymentHistories","url","paymentUrl","handleSaasUserInfo","fetch","headers","method","then","response","json","myJson","rest_address","total_items","available_item","available_branch","subscription_date_endin","payemtHistoryData","get","res","data","catch","error","console","log","rolling","map","item","index","invoice"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL, SAAS_APPLICATION, saas_apiUrl, saas_apiParams, saas_form_data } from \"../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n    _t\r\n} from \"../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../contexts/Settings\";\r\nimport Avatar from 'react-avatar';\r\n\r\n// images\r\nimport img1 from '../saasInfo/img/img1.png'\r\nimport img2 from '../saasInfo/img/img2.png'\r\nimport img3 from '../saasInfo/img/img3.png'\r\nimport img4 from '../saasInfo/img/img4.png'\r\nimport rolling from '../saasInfo/img/rolling.svg'\r\n\r\nconst SaasProfile = () => {\r\n    const { t } = useTranslation();\r\n    const history = useHistory();\r\n    //getting context values here\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    let [saasUserInfo, setSaasUserInfo] = useState({\r\n        name: null,\r\n        phone: null,\r\n        email: null,\r\n        domain: null,\r\n        address: null,\r\n        rest_name: null,\r\n        subscription_name: null,\r\n        total_food: null,\r\n        payment_status: null,\r\n        payment_gateway: null,\r\n        amount: null,\r\n        total_food_items: null,\r\n        available_food_item: null,\r\n        total_branch: null,\r\n        available_branch_item: null,\r\n        // payment_histories: []\r\n    });\r\n\r\n    let [paymentHistories, setPaymentHistories] = useState([]);\r\n    const url = saas_apiUrl + '/api/user-subscription-data?' + saas_apiParams;\r\n    const paymentUrl = saas_apiUrl + '/api/payment-histories?' + saas_apiParams;\r\n    const handleSaasUserInfo = () => {\r\n        fetch(url\r\n            , {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                }\r\n                , method: 'GET'\r\n            }\r\n        )\r\n            .then(function (response) {\r\n                return response.json();\r\n            })\r\n            .then(function (myJson) {\r\n                setSaasUserInfo({\r\n                    name: myJson.name,\r\n                    phone: myJson.phone,\r\n                    email: myJson.email,\r\n                    domain: myJson.domain,\r\n                    address: myJson.rest_address,\r\n                    rest_name: myJson.rest_name,\r\n                    subscription_name: myJson.subscription_name,\r\n                    total_food: myJson.total_items,\r\n                    available_food_item: myJson.available_item,\r\n                    total_branch: myJson.total_branch,\r\n                    available_branch_item: myJson.available_branch,\r\n                    payment_status: myJson.payment_status,\r\n                    payment_gateway: myJson.payment_gateway,\r\n                    amount: myJson.amount,\r\n                    // payment_histories: myJson.payment_histories,\r\n                    subscription_date_endin: myJson.subscription_date_endin\r\n                })\r\n                setLoading(false);\r\n            });\r\n\r\n    }\r\n    const payemtHistoryData = () => {\r\n        return axios\r\n            .get(paymentUrl)\r\n            .then((res) => {\r\n                setPaymentHistories(res.data);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    //useEffect == componentDidMount()\r\n    useEffect(() => {\r\n        handleSaasUserInfo();\r\n        payemtHistoryData();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>{_t(t(\"Saas Info Page\"))}</title>\r\n            </Helmet>\r\n            <main data-simplebar>\r\n                <div className=\"container wrapper-margin-40\">\r\n                    <div className=\"row t-mt-10 gx-2 justify-content-center\">\r\n\r\n                        <div className=\"col-lg-4\">\r\n                            <div className=\"saas_card_profile\">\r\n                                <span className=\"upper_bg_shape\"></span>\r\n                                <div className=\"avatar_img_wrapper\">\r\n                                    <Avatar\r\n                                        color='#121053'\r\n                                        name={saasUserInfo.name}\r\n                                        size=\"150\"\r\n                                        round={true}\r\n                                        className=\"saas_user_img\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <span className=\"user_title\"><i class=\"fa fa-user icon\" aria-hidden=\"true\"></i> User Information</span>\r\n\r\n                                {loading ? <div className=\"d-flex justify-content-center align-items-center\">\r\n                                    <img src={rolling} alt=\"\" className=\"hist_rolling\" />\r\n                                </div> : <div className=\"user_info_wrapper\">\r\n\r\n                                    <div className=\"list_wrapper\">\r\n                                        <span className=\"user_icon\"><i class=\"fa fa-user icon\" aria-hidden=\"true\"></i></span>\r\n                                        <span className=\"title_wrapper\">\r\n                                            <span className=\"subtitle\">Full Name</span>\r\n                                            <span className=\"title\">{saasUserInfo.name}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"list_wrapper\">\r\n                                        <span className=\"user_icon\"><i class=\"fa fa-phone\" aria-hidden=\"true\"></i></span>\r\n                                        <span className=\"title_wrapper\">\r\n                                            <span className=\"subtitle\">Phone Number</span>\r\n                                            <span className=\"title\">{saasUserInfo.phone}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"list_wrapper\">\r\n                                        <span className=\"user_icon\"><i class=\"fa fa-envelope-open-o\" aria-hidden=\"true\"></i></span>\r\n                                        <span className=\"title_wrapper\">\r\n                                            <span className=\"subtitle\">Email Address</span>\r\n                                            <span className=\"title\">{saasUserInfo.email}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"list_wrapper\">\r\n                                        <span className=\"user_icon\"><i class=\"fa fa-map-marker\" aria-hidden=\"true\"></i></span>\r\n                                        <span className=\"title_wrapper\">\r\n                                            <span className=\"subtitle\">Address</span>\r\n                                            <span className=\"title\">{saasUserInfo.address}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"list_wrapper\">\r\n                                        <span className=\"user_icon\"><i class=\"fa fa-globe\" aria-hidden=\"true\"></i></span>\r\n                                        <span className=\"title_wrapper\">\r\n                                            <span className=\"subtitle\">Domain</span>\r\n                                            <span className=\"title\">{saasUserInfo.domain}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"list_wrapper\">\r\n                                        <span className=\"user_icon\"><i class=\"fa fa-cutlery\" aria-hidden=\"true\"></i></span>\r\n                                        <span className=\"title_wrapper\">\r\n                                            <span className=\"subtitle\">Restaurant Name</span>\r\n                                            <span className=\"title\">{saasUserInfo.rest_name}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                </div>}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* main content */}\r\n                        <div className=\"col-lg-8\">\r\n                            {/* subs title */}\r\n                            <span className=\"saas_subs_title\">\r\n                                <span className=\"saas_subs_icon\">\r\n                                    <i class=\"fa fa-clock-o\" aria-hidden=\"true\"></i>\r\n                                </span> Subscription -\r\n                                <span className=\"text-success\"> {saasUserInfo.subscription_name}</span>\r\n                                <span className=\"text-dark\"> ({saasUserInfo.subscription_date_endin} <span className=\"text-lowercase\">left</span>) </span>\r\n                            </span>\r\n\r\n                            {/* saas profile card info */}\r\n                            <div className=\"row mt-4\">\r\n                                <div className=\"col-lg-3\">\r\n                                    {loading ? <div className=\"single_saas_info_card\"> <img src={rolling} alt=\"\" className=\"saas_info_img saas_card_loading\" /> </div> :\r\n                                        <div className=\"single_saas_info_card\">\r\n                                            <img className=\"saas_info_img\" src={img1} alt=\"\" />\r\n                                            <span className=\"count_number\">{saasUserInfo.total_food}</span>\r\n                                            <span className=\"title\">Total Foods</span>\r\n                                            {/* <img src={rolling} alt=\"\" className=\"\"/> */}\r\n\r\n                                        </div>}\r\n                                </div>\r\n                                <div className=\"col-lg-3\">\r\n                                    {loading ? <div className=\"single_saas_info_card\"> <img src={rolling} alt=\"\" className=\"saas_info_img saas_card_loading\" /> </div> :\r\n                                        <div className=\"single_saas_info_card\">\r\n                                            <img className=\"saas_info_img\" src={img2} alt=\"\" />\r\n                                            <span className=\"count_number\">{saasUserInfo.available_food_item}</span>\r\n                                            <span className=\"title\">Food left</span>\r\n                                        </div>}\r\n                                </div>\r\n                                <div className=\"col-lg-3\">\r\n                                    {loading ? <div className=\"single_saas_info_card\"> <img src={rolling} alt=\"\" className=\"saas_info_img saas_card_loading\" /> </div> : <div className=\"single_saas_info_card\">\r\n                                        <img className=\"saas_info_img\" src={img3} alt=\"\" />\r\n                                        <span className=\"count_number\">{saasUserInfo.total_branch}</span>\r\n                                        <span className=\"title\">Total Branches</span>\r\n                                    </div>}\r\n\r\n                                </div>\r\n                                <div className=\"col-lg-3\">\r\n                                    {loading ? <div className=\"single_saas_info_card\"> <img src={rolling} alt=\"\" className=\"saas_info_img saas_card_loading\" /> </div> :\r\n                                        <div className=\"single_saas_info_card\">\r\n                                            <img className=\"saas_info_img\" src={img4} alt=\"\" />\r\n                                            <span className=\"count_number\">{saasUserInfo.available_branch_item}</span>\r\n                                            <span className=\"title\">Branch left</span>\r\n                                        </div>}\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* payment history */}\r\n                            <div className=\"mt-4 saas_profile_history_wrapper\">\r\n                                <div className=\"saas_payment_header\">\r\n                                    <span className=\"title\">Payment history</span>\r\n                                    {/* <form class=\"form-inline my-2 my-lg-0\">\r\n                                        <input class=\"form-control saas_history_form mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search now\" />\r\n                                    </form> */}\r\n                                </div>\r\n\r\n                                {/* history table */}\r\n                                <div class=\"table-responsive-xl mt-4\" >\r\n                                    <table class=\"table saas_history_table table-borderless\">\r\n                                        <thead className=\"saas_history_head\">\r\n                                            <tr key=\"1\">\r\n                                                <th>Sl</th>\r\n                                                <th>Invoice</th>\r\n                                                <th>Payment Gateway</th>\r\n                                                <th>Amount</th>\r\n                                                <th>Status</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        {loading ?\r\n                                            <div className=\"d-flex justify-content-center align-items-center\">\r\n                                                <img src={rolling} alt=\"\" className=\"history_rolling\" />\r\n                                            </div> :\r\n                                            <tbody className=\"saas_history_table_body\">\r\n                                                {\r\n                                                    paymentHistories.map((item, index) => {\r\n                                                        return (\r\n                                                            <tr key=\"1\" className=\"saas_history_table_row\">\r\n                                                                <td className=\"text-capitalize font-weight-bold\">#{index + 1}</td>\r\n                                                                <td className=\"text-capitalize font-weight-bold\">#{item.invoice}</td>\r\n                                                                <td className=\"text-capitalize font-weight-bold\">{item.payment_gateway}</td>\r\n                                                                <td className=\"text-capitalize font-weight-bold\">{\r\n                                                                    item.amount\r\n                                                                }</td>\r\n                                                                <td className=\"text-capitalize font-weight-bold\">{item.payment_status}</td>\r\n                                                            </tr>\r\n                                                        );\r\n                                                    })\r\n                                                }\r\n                                            </tbody>\r\n                                        }\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </main>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SaasProfile;\r\n"]},"metadata":{},"sourceType":"module"}