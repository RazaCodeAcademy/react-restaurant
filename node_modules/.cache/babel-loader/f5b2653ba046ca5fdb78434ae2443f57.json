{"ast":null,"code":"import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../BaseUrl\";//functions\nimport{getCookie,deleteCookie}from\"../functions/Functions\";//3rd party packages\n// creating context api\nvar UserContext=React.createContext();var UserProvider=function UserProvider(_ref){var children=_ref.children;var history=useHistory();// State hooks here\n//loading\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),dataPaginating=_useState4[0],setDataPaginating=_useState4[1];// auth user\nvar _useState5=useState({details:null,permissions:null}),_useState6=_slicedToArray(_useState5,2),authUserInfo=_useState6[0],setAuthUserInfo=_useState6[1];//supplier\nvar _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),supplierList=_useState8[0],setSupplierList=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),supplierForSearch=_useState10[0],setSupplierForSearch=_useState10[1];//waiter\nvar _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),waiterList=_useState12[0],setWaiterList=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),waiterForSearch=_useState14[0],setWaiterForSearch=_useState14[1];//customer\nvar _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),customerList=_useState16[0],setCustomerList=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),customerForSearch=_useState18[0],setCustomerForSearch=_useState18[1];//customer online\nvar _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),customerListOnline=_useState20[0],setCustomerListOnline=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),customerOnlineForSearch=_useState22[0],setCustomerOnlineForSearch=_useState22[1];//adminStaff\nvar _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),adminStaffList=_useState24[0],setAdminStaffList=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),adminStaffForSearch=_useState26[0],setAdminStaffListforSearch=_useState26[1];//delivery\nvar _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),deliveryList=_useState28[0],setDeliveryList=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),deliveryForSearch=_useState30[0],setDeliveryListforSearch=_useState30[1];var _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),deliveryListReq=_useState32[0],setDeliveryListReq=_useState32[1];var _useState33=useState(null),_useState34=_slicedToArray(_useState33,2),deliveryListReqForSearch=_useState34[0],setDeliveryListReqForSearch=_useState34[1];//useEffect- to get data on render\nuseEffect(function(){//call- unauthenticated\n//call if authenticated\nif(getCookie()!==undefined){getAuthUser();getWaiter();getCustomer();getAdminStaff();}},[]);//get authenticated user\nvar getAuthUser=function getAuthUser(){setLoading(true);var langUrl=BASE_URL+\"/auth/user\";return axios.get(langUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){if(res.data[0].is_banned===0||res.data[0].is_banned===\"0\"){setAuthUserInfo(_objectSpread(_objectSpread({},authUserInfo),{},{details:res.data[0],permissions:res.data[1]}));setLoading(false);}else{deleteCookie();}}).catch(function(){});};//get supplier\nvar getSupplier=function getSupplier(){setLoading(true);var supplierUrl=BASE_URL+\"/settings/get-supplier\";return axios.get(supplierUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setSupplierList(res.data[0]);setSupplierForSearch(res.data[1]);setLoading(false);});};// get paginated supplier\nvar setPaginatedSupplier=function setPaginatedSupplier(pageNo){setDataPaginating(true);var url=BASE_URL+\"/settings/get-supplier?page=\"+pageNo;return axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setSupplierList(res.data[0]);setSupplierForSearch(res.data[1]);setDataPaginating(false);}).catch(function(){});};//get waiter\nvar getWaiter=function getWaiter(){setLoading(true);var waiterUrl=BASE_URL+\"/settings/get-waiter\";return axios.get(waiterUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setWaiterList(res.data[0]);setWaiterForSearch(res.data[1]);setLoading(false);});};// get paginated waiter\nvar setPaginatedWaiter=function setPaginatedWaiter(pageNo){setDataPaginating(true);var url=BASE_URL+\"/settings/get-waiter?page=\"+pageNo;return axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setWaiterList(res.data[0]);setWaiterForSearch(res.data[1]);setDataPaginating(false);}).catch(function(){});};//get customer\nvar getCustomer=function getCustomer(){setLoading(true);var customerUrl=BASE_URL+\"/settings/get-customer\";return axios.get(customerUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setCustomerList(res.data[0]);setCustomerForSearch(res.data[1]);setLoading(false);});};// get paginated customer\nvar setPaginatedCustomer=function setPaginatedCustomer(pageNo){setDataPaginating(true);var url=BASE_URL+\"/settings/get-customer?page=\"+pageNo;return axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setCustomerList(res.data[0]);setCustomerForSearch(res.data[1]);setDataPaginating(false);}).catch(function(){});};//get customer online\nvar getCustomerOnline=function getCustomerOnline(){setLoading(true);var customerUrl=BASE_URL+\"/settings/get-website-customer\";return axios.get(customerUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setCustomerListOnline(res.data[0]);setCustomerOnlineForSearch(res.data[1]);setLoading(false);});};// get paginated customer online\nvar setPaginatedCustomerOnline=function setPaginatedCustomerOnline(pageNo){setDataPaginating(true);var url=BASE_URL+\"/settings/get-website-customer?page=\"+pageNo;return axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setCustomerListOnline(res.data[0]);setCustomerOnlineForSearch(res.data[1]);setDataPaginating(false);}).catch(function(){});};//get adminStaff\nvar getAdminStaff=function getAdminStaff(){setLoading(true);var adminStaffUrl=BASE_URL+\"/settings/get-admin-staff\";return axios.get(adminStaffUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setAdminStaffList(res.data[0]);setAdminStaffListforSearch(res.data[1]);setLoading(false);});};// get paginated adminStaff\nvar setPaginatedAdminStaff=function setPaginatedAdminStaff(pageNo){setDataPaginating(true);var url=BASE_URL+\"/settings/get-admin-staff?page=\"+pageNo;return axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setAdminStaffList(res.data[0]);setAdminStaffListforSearch(res.data[1]);setDataPaginating(false);}).catch(function(){});};//get delivery user\nvar getDeliveryUser=function getDeliveryUser(){setLoading(true);var adminStaffUrl=BASE_URL+\"/settings/get-delivery-man\";return axios.get(adminStaffUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setDeliveryList(res.data[0]);setDeliveryListforSearch(res.data[1]);setDeliveryListReq(res.data[2]);setDeliveryListReqForSearch(res.data[3]);setLoading(false);});};// get paginated delivery user\nvar setPaginatedDeliveryUser=function setPaginatedDeliveryUser(pageNo){setDataPaginating(true);var url=BASE_URL+\"/settings/get-delivery-man?page=\"+pageNo;return axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setDeliveryList(res.data[0]);setDeliveryListforSearch(res.data[1]);setDeliveryListReq(res.data[2]);setDeliveryListReqForSearch(res.data[3]);setDataPaginating(false);}).catch(function(){});};return/*#__PURE__*/React.createElement(UserContext.Provider,{value:{//auth user\ngetAuthUser:getAuthUser,setAuthUserInfo:setAuthUserInfo,authUserInfo:authUserInfo,//supplier\ngetSupplier:getSupplier,supplierList:supplierList,setSupplierList:setSupplierList,setPaginatedSupplier:setPaginatedSupplier,supplierForSearch:supplierForSearch,setSupplierForSearch:setSupplierForSearch,//waiter\ngetWaiter:getWaiter,waiterList:waiterList,setWaiterList:setWaiterList,setPaginatedWaiter:setPaginatedWaiter,waiterForSearch:waiterForSearch,setWaiterForSearch:setWaiterForSearch,//customer\ngetCustomer:getCustomer,customerList:customerList,setCustomerList:setCustomerList,setPaginatedCustomer:setPaginatedCustomer,customerForSearch:customerForSearch,setCustomerForSearch:setCustomerForSearch,//customer Online\ngetCustomerOnline:getCustomerOnline,customerListOnline:customerListOnline,setCustomerListOnline:setCustomerListOnline,setPaginatedCustomerOnline:setPaginatedCustomerOnline,customerOnlineForSearch:customerOnlineForSearch,setCustomerOnlineForSearch:setCustomerOnlineForSearch,//adminStaff\ngetAdminStaff:getAdminStaff,adminStaffList:adminStaffList,setAdminStaffList:setAdminStaffList,setPaginatedAdminStaff:setPaginatedAdminStaff,adminStaffForSearch:adminStaffForSearch,setAdminStaffListforSearch:setAdminStaffListforSearch,//delivery user\ngetDeliveryUser:getDeliveryUser,deliveryList:deliveryList,setDeliveryList:setDeliveryList,setPaginatedDeliveryUser:setPaginatedDeliveryUser,deliveryForSearch:deliveryForSearch,setDeliveryListforSearch:setDeliveryListforSearch,deliveryListReq:deliveryListReq,setDeliveryListReq:setDeliveryListReq,deliveryListReqForSearch:deliveryListReqForSearch,setDeliveryListReqForSearch:setDeliveryListReqForSearch,//pagination\ndataPaginating:dataPaginating,setDataPaginating:setDataPaginating}},children);};export{UserContext,UserProvider};","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/contexts/User.js"],"names":["React","useState","useEffect","useHistory","axios","BASE_URL","getCookie","deleteCookie","UserContext","createContext","UserProvider","children","history","loading","setLoading","dataPaginating","setDataPaginating","details","permissions","authUserInfo","setAuthUserInfo","supplierList","setSupplierList","supplierForSearch","setSupplierForSearch","waiterList","setWaiterList","waiterForSearch","setWaiterForSearch","customerList","setCustomerList","customerForSearch","setCustomerForSearch","customerListOnline","setCustomerListOnline","customerOnlineForSearch","setCustomerOnlineForSearch","adminStaffList","setAdminStaffList","adminStaffForSearch","setAdminStaffListforSearch","deliveryList","setDeliveryList","deliveryForSearch","setDeliveryListforSearch","deliveryListReq","setDeliveryListReq","deliveryListReqForSearch","setDeliveryListReqForSearch","undefined","getAuthUser","getWaiter","getCustomer","getAdminStaff","langUrl","get","headers","Authorization","then","res","data","is_banned","catch","getSupplier","supplierUrl","setPaginatedSupplier","pageNo","url","waiterUrl","setPaginatedWaiter","customerUrl","setPaginatedCustomer","getCustomerOnline","setPaginatedCustomerOnline","adminStaffUrl","setPaginatedAdminStaff","getDeliveryUser","setPaginatedDeliveryUser"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../BaseUrl\";\r\n\r\n//functions\r\nimport { getCookie, deleteCookie } from \"../functions/Functions\";\r\n\r\n//3rd party packages\r\n\r\n// creating context api\r\nconst UserContext = React.createContext();\r\n\r\nconst UserProvider = ({ children }) => {\r\n  const history = useHistory();\r\n\r\n  // State hooks here\r\n  //loading\r\n  const [loading, setLoading] = useState(false);\r\n  const [dataPaginating, setDataPaginating] = useState(false);\r\n\r\n  // auth user\r\n  const [authUserInfo, setAuthUserInfo] = useState({\r\n    details: null,\r\n    permissions: null,\r\n  });\r\n\r\n  //supplier\r\n  const [supplierList, setSupplierList] = useState(null);\r\n  const [supplierForSearch, setSupplierForSearch] = useState(null);\r\n\r\n  //waiter\r\n  const [waiterList, setWaiterList] = useState(null);\r\n  const [waiterForSearch, setWaiterForSearch] = useState(null);\r\n\r\n  //customer\r\n  const [customerList, setCustomerList] = useState(null);\r\n  const [customerForSearch, setCustomerForSearch] = useState(null);\r\n\r\n  //customer online\r\n  const [customerListOnline, setCustomerListOnline] = useState(null);\r\n  const [customerOnlineForSearch, setCustomerOnlineForSearch] = useState(null);\r\n\r\n  //adminStaff\r\n  const [adminStaffList, setAdminStaffList] = useState(null);\r\n  const [adminStaffForSearch, setAdminStaffListforSearch] = useState(null);\r\n\r\n  //delivery\r\n  const [deliveryList, setDeliveryList] = useState(null);\r\n  const [deliveryForSearch, setDeliveryListforSearch] = useState(null);\r\n  const [deliveryListReq, setDeliveryListReq] = useState(null);\r\n  const [deliveryListReqForSearch, setDeliveryListReqForSearch] =\r\n    useState(null);\r\n\r\n  //useEffect- to get data on render\r\n  useEffect(() => {\r\n    //call- unauthenticated\r\n\r\n    //call if authenticated\r\n    if (getCookie() !== undefined) {\r\n      getAuthUser();\r\n      getWaiter();\r\n      getCustomer();\r\n      getAdminStaff();\r\n    }\r\n  }, []);\r\n\r\n  //get authenticated user\r\n  const getAuthUser = () => {\r\n    setLoading(true);\r\n    const langUrl = BASE_URL + \"/auth/user\";\r\n    return axios\r\n      .get(langUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        if (res.data[0].is_banned === 0 || res.data[0].is_banned === \"0\") {\r\n          setAuthUserInfo({\r\n            ...authUserInfo,\r\n            details: res.data[0],\r\n            permissions: res.data[1],\r\n          });\r\n          setLoading(false);\r\n        } else {\r\n          deleteCookie();\r\n        }\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get supplier\r\n  const getSupplier = () => {\r\n    setLoading(true);\r\n    const supplierUrl = BASE_URL + \"/settings/get-supplier\";\r\n    return axios\r\n      .get(supplierUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setSupplierList(res.data[0]);\r\n        setSupplierForSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated supplier\r\n  const setPaginatedSupplier = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-supplier?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setSupplierList(res.data[0]);\r\n        setSupplierForSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get waiter\r\n  const getWaiter = () => {\r\n    setLoading(true);\r\n    const waiterUrl = BASE_URL + \"/settings/get-waiter\";\r\n    return axios\r\n      .get(waiterUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setWaiterList(res.data[0]);\r\n        setWaiterForSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated waiter\r\n  const setPaginatedWaiter = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-waiter?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setWaiterList(res.data[0]);\r\n        setWaiterForSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get customer\r\n  const getCustomer = () => {\r\n    setLoading(true);\r\n    const customerUrl = BASE_URL + \"/settings/get-customer\";\r\n    return axios\r\n      .get(customerUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setCustomerList(res.data[0]);\r\n        setCustomerForSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated customer\r\n  const setPaginatedCustomer = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-customer?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setCustomerList(res.data[0]);\r\n        setCustomerForSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get customer online\r\n  const getCustomerOnline = () => {\r\n    setLoading(true);\r\n    const customerUrl = BASE_URL + \"/settings/get-website-customer\";\r\n    return axios\r\n      .get(customerUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setCustomerListOnline(res.data[0]);\r\n        setCustomerOnlineForSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated customer online\r\n  const setPaginatedCustomerOnline = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-website-customer?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setCustomerListOnline(res.data[0]);\r\n        setCustomerOnlineForSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get adminStaff\r\n  const getAdminStaff = () => {\r\n    setLoading(true);\r\n    const adminStaffUrl = BASE_URL + \"/settings/get-admin-staff\";\r\n    return axios\r\n      .get(adminStaffUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setAdminStaffList(res.data[0]);\r\n        setAdminStaffListforSearch(res.data[1]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated adminStaff\r\n  const setPaginatedAdminStaff = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-admin-staff?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setAdminStaffList(res.data[0]);\r\n        setAdminStaffListforSearch(res.data[1]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //get delivery user\r\n  const getDeliveryUser = () => {\r\n    setLoading(true);\r\n    const adminStaffUrl = BASE_URL + \"/settings/get-delivery-man\";\r\n    return axios\r\n      .get(adminStaffUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setDeliveryList(res.data[0]);\r\n        setDeliveryListforSearch(res.data[1]);\r\n        setDeliveryListReq(res.data[2]);\r\n        setDeliveryListReqForSearch(res.data[3]);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  // get paginated delivery user\r\n  const setPaginatedDeliveryUser = (pageNo) => {\r\n    setDataPaginating(true);\r\n    const url = BASE_URL + \"/settings/get-delivery-man?page=\" + pageNo;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setDeliveryList(res.data[0]);\r\n        setDeliveryListforSearch(res.data[1]);\r\n        setDeliveryListReq(res.data[2]);\r\n        setDeliveryListReqForSearch(res.data[3]);\r\n        setDataPaginating(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        //auth user\r\n        getAuthUser,\r\n        setAuthUserInfo,\r\n        authUserInfo,\r\n\r\n        //supplier\r\n        getSupplier,\r\n        supplierList,\r\n        setSupplierList,\r\n        setPaginatedSupplier,\r\n        supplierForSearch,\r\n        setSupplierForSearch,\r\n\r\n        //waiter\r\n        getWaiter,\r\n        waiterList,\r\n        setWaiterList,\r\n        setPaginatedWaiter,\r\n        waiterForSearch,\r\n        setWaiterForSearch,\r\n\r\n        //customer\r\n        getCustomer,\r\n        customerList,\r\n        setCustomerList,\r\n        setPaginatedCustomer,\r\n        customerForSearch,\r\n        setCustomerForSearch,\r\n\r\n        //customer Online\r\n        getCustomerOnline,\r\n        customerListOnline,\r\n        setCustomerListOnline,\r\n        setPaginatedCustomerOnline,\r\n        customerOnlineForSearch,\r\n        setCustomerOnlineForSearch,\r\n\r\n        //adminStaff\r\n        getAdminStaff,\r\n        adminStaffList,\r\n        setAdminStaffList,\r\n        setPaginatedAdminStaff,\r\n        adminStaffForSearch,\r\n        setAdminStaffListforSearch,\r\n\r\n        //delivery user\r\n        getDeliveryUser,\r\n        deliveryList,\r\n        setDeliveryList,\r\n        setPaginatedDeliveryUser,\r\n        deliveryForSearch,\r\n        setDeliveryListforSearch,\r\n        deliveryListReq,\r\n        setDeliveryListReq,\r\n        deliveryListReqForSearch,\r\n        setDeliveryListReqForSearch,\r\n\r\n        //pagination\r\n        dataPaginating,\r\n        setDataPaginating,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport { UserContext, UserProvider };\r\n"]},"metadata":{},"sourceType":"module"}