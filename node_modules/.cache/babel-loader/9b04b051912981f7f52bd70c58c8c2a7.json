{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";//pages & includes\nimport ManageSidebar from\"../ManageSidebar\";//functions\nimport{_t,getCookie,modalLoading,tableLoading,pagination,paginationLoading,showingData,searchedShowingData}from\"../../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//axios and base url\nimport axios from\"axios\";import{BASE_URL,SAAS_APPLICATION,saas_apiUrl,saas_apiParams,saas_form_data}from\"../../../../../BaseUrl\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{confirmAlert}from\"react-confirm-alert\";import\"react-confirm-alert/src/react-confirm-alert.css\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";//context consumer\nimport{SettingsContext}from\"../../../../../contexts/Settings\";import{RestaurantContext}from\"../../../../../contexts/Restaurant\";var BranchCrud=function BranchCrud(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading;var _useContext2=useContext(RestaurantContext),branchList=_useContext2.branchList,setBranchList=_useContext2.setBranchList,setPaginatedBranch=_useContext2.setPaginatedBranch,branchForSearch=_useContext2.branchForSearch,setBranchforSearch=_useContext2.setBranchforSearch,dataPaginating=_useContext2.dataPaginating;// States hook here\n//new group\nvar _useState=useState({name:\"\",phn_no:\"\",address:\"\",edit:false,editSlug:null,uploading:false}),_useState2=_slicedToArray(_useState,2),newBranch=_useState2[0],setNewBranch=_useState2[1];//search result\nvar _useState3=useState({list:null,searched:false}),_useState4=_slicedToArray(_useState3,2),searchedBranch=_useState4[0],setSearchedBranch=_useState4[1];// branch limit check\nvar _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),checkBranchLimitState=_useState6[0],setCheckBranchLimitState=_useState6[1];// check branch limit\nvar checkBranchLimit=function checkBranchLimit(){// check how many orders are left \nvar url=saas_apiUrl+'/api/user-branch-limit-check?'+saas_apiParams;axios.get(url).then(function(res){setCheckBranchLimitState(res.data);}).catch(function(){return'NO data';});};//useEffect == componentDidMount\nuseEffect(function(){// check expiry\nif(SAAS_APPLICATION=='YES'){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var saasBranchToken;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:saasBranchToken=setInterval(checkBranchLimit,2000);checkBranchLimit();return _context.abrupt(\"return\",function(){clearInterval(saasBranchToken);});case 3:case\"end\":return _context.stop();}}},_callee);}))();}},[]);//set name, phn no, address hook\nvar handleSetNewBranch=function handleSetNewBranch(e){setNewBranch(_objectSpread(_objectSpread({},newBranch),{},_defineProperty({},e.target.name,e.target.value)));};//Save New branch\nvar handleSaveNewBranch=function handleSaveNewBranch(e){e.preventDefault();setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{uploading:true}));var branchUrl=BASE_URL+\"/settings/new-branch\";var formData=new FormData();formData.append(\"name\",newBranch.name);formData.append(\"phn_no\",newBranch.phn_no);formData.append(\"address\",newBranch.address);return axios.post(branchUrl,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){if(SAAS_APPLICATION=='YES'){// after send api req decremeny by one\nvar url=saas_apiUrl+'/api/user-branch-limit-decrement';// replace with base url (prince.thetestserver.xyz)\naxios.post(url,saas_form_data).then(function(res){console.log(res);}).catch(function(){return'NO data';});}setNewBranch({name:\"\",phn_no:\"\",address:\"\",edit:false,editSlug:null,uploading:false});setBranchList(res.data[0]);setBranchforSearch(res.data[1]);setSearchedBranch(_objectSpread(_objectSpread({},searchedBranch),{},{list:res.data[1]}));setLoading(false);toast.success(\"\".concat(_t(t(\"Branch has been added\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}).catch(function(){setLoading(false);setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{uploading:false}));toast.error(\"\".concat(_t(t(\"Please try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//set edit true & values\nvar handleSetEdit=function handleSetEdit(slug){var branch=branchForSearch.filter(function(item){return item.slug===slug;});setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{name:branch[0].name,phn_no:branch[0].phn_no,address:branch[0].address,editSlug:branch[0].slug,edit:true}));};//update branch\nvar handleUpdateBranch=function handleUpdateBranch(e){e.preventDefault();setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{uploading:true}));var branchUrl=BASE_URL+\"/settings/update-branch\";var formData=new FormData();formData.append(\"name\",newBranch.name);formData.append(\"phn_no\",newBranch.phn_no);formData.append(\"address\",newBranch.address);formData.append(\"editSlug\",newBranch.editSlug);return axios.post(branchUrl,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setNewBranch({name:\"\",phn_no:\"\",address:\"\",edit:false,editSlug:null,uploading:false});setBranchList(res.data[0]);setBranchforSearch(res.data[1]);setSearchedBranch(_objectSpread(_objectSpread({},searchedBranch),{},{list:res.data[1]}));setLoading(false);toast.success(\"\".concat(_t(t(\"Branch has been updated\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}).catch(function(){setLoading(false);setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{uploading:false}));toast.error(\"\".concat(_t(t(\"Please try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//search branch here\nvar handleSearch=function handleSearch(e){var searchInput=e.target.value.toLowerCase();if(searchInput.length===0){setSearchedBranch(_objectSpread(_objectSpread({},searchedBranch),{},{searched:false}));}else{var searchedList=branchForSearch.filter(function(item){var lowerCaseItemName=item.name.toLowerCase();var lowerCaseItemPhnNo=item.phn_no!==null&&item.phn_no.toLowerCase();var lowerCaseItemAddress=item.address!==null&&item.address.toLowerCase();return lowerCaseItemName.includes(searchInput)||lowerCaseItemPhnNo&&lowerCaseItemPhnNo.includes(searchInput)||lowerCaseItemAddress&&lowerCaseItemAddress.includes(searchInput);});setSearchedBranch(_objectSpread(_objectSpread({},searchedBranch),{},{list:searchedList,searched:true}));}};//delete confirmation modal of branch\nvar handleDeleteConfirmation=function handleDeleteConfirmation(slug){confirmAlert({customUI:function customUI(_ref2){var onClose=_ref2.onClose;return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"h1\",null,_t(t(\"Are you sure?\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},_t(t(\"You want to delete this?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){handleDeleteBranch(slug);onClose();}},_t(t(\"Yes, delete it!\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success ml-2 px-3\",onClick:onClose},_t(t(\"No\")))));}});};//delete branch here\nvar handleDeleteBranch=function handleDeleteBranch(slug){setLoading(true);var branchUrl=BASE_URL+\"/settings/delete-branch/\".concat(slug);return axios.get(branchUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){if(res.data===\"user\"){setLoading(false);toast.error(\"\".concat(_t(t(\"Please disable all the user of this branch first\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{setBranchList(res.data[0]);setBranchforSearch(res.data[1]);setSearchedBranch(_objectSpread(_objectSpread({},searchedBranch),{},{list:res.data[1]}));setLoading(false);toast.success(\"\".concat(_t(t(\"Branch has been deleted successfully\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}).catch(function(){setLoading(false);toast.error(\"\".concat(_t(t(\"Please try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Branches\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"addBranch\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-capitalize fk-sm-card__title\"},!newBranch.edit?_t(t(\"Add new branch\")):_t(t(\"Update branch\")))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},newBranch.uploading===false?/*#__PURE__*/React.createElement(\"div\",{key:\"fragment-branch-1\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:!newBranch.edit?handleSaveNewBranch:handleUpdateBranch},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\",className:\"form-label\"},_t(t(\"Name\")),\" \",/*#__PURE__*/React.createElement(\"small\",{className:\"text-primary\"},\"*\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",placeholder:\"e.g. Uttara Branch\",value:newBranch.name||\"\",required:true,onChange:handleSetNewBranch})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"phn_no\",className:\"form-label\"},_t(t(\"Phone number\"))),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"phn_no\",name:\"phn_no\",placeholder:\"e.g. 01xxx xxx xxx\",value:newBranch.phn_no||\"\",onChange:handleSetNewBranch})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"address\",className:\"form-label\"},_t(t(\"Address\"))),/*#__PURE__*/React.createElement(\"textarea\",{type:\"text\",className:\"form-control\",id:\"address\",name:\"address\",placeholder:\"Type branch address\",value:newBranch.address||\"\",onChange:handleSetNewBranch})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},SAAS_APPLICATION==\"YES\"?[newBranch.edit?[/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-success w-100 xsm-text text-uppercase t-width-max\"},\"Update\")]:[checkBranchLimitState=='HAS-LIMIT'?/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-success w-100 xsm-text text-uppercase t-width-max\"},!newBranch.edit?_t(t(\"Save\")):_t(t(\"Update\"))):/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\",onClick:function onClick(){toast.error('Your limit has expired',{position:\"bottom-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}},_t(t(\"disable\")))]]:[/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-success w-100 xsm-text text-uppercase t-width-max\"},!newBranch.edit?_t(t(\"Save\")):_t(t(\"Update\")))]),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary w-100 xsm-text text-uppercase t-width-max\",\"data-dismiss\":\"modal\"},_t(t(\"Close\")))))))):/*#__PURE__*/React.createElement(\"div\",{key:\"fragment2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-primary font-weight-bold text-uppercase\"},_t(t(\"Please wait\"))),modalLoading(3),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success w-100 xsm-text text-uppercase t-width-max\",onClick:function onClick(e){e.preventDefault();}},!newBranch.edit?_t(t(\"Save\")):_t(t(\"Update\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary w-100 xsm-text text-uppercase t-width-max\",\"data-dismiss\":\"modal\"},_t(t(\"Close\"))))))))))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(ManageSidebar,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--pos-menu\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},newBranch.uploading===true||loading===true?tableLoading():/*#__PURE__*/React.createElement(\"div\",{key:\"fragment3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center t-pt-15 t-pb-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-5 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-capitalize\"},!searchedBranch.searched?_t(t(\"Branch List\")):_t(t(\"Search Result\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0 form-control--light-1 rounded-0\",placeholder:_t(t(\"Search\"))+\"..\",onChange:handleSearch})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-search\",\"aria-hidden\":\"true\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 text-md-right\"},SAAS_APPLICATION=='YES'?[checkBranchLimitState=='HAS-LIMIT'?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\",\"data-toggle\":\"modal\",\"data-target\":\"#addBranch\",onClick:function onClick(){setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{edit:false,uploading:false}));}},_t(t(\"add new\"))):/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\",onClick:function onClick(){// toast.error(`${_t(t(\"Please upgrad your plan\"))}`, {\ntoast.error(\"Your limit has expired\",{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}},_t(t(\"add new\")))]:[/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\",\"data-toggle\":\"modal\",\"data-target\":\"#addBranch\",onClick:function onClick(){setNewBranch(_objectSpread(_objectSpread({},newBranch),{},{edit:false,uploading:false}));}},_t(t(\"add new\")))])))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover min-table-height\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"S/L\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Name\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Address\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Phn no\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Action\"))))),/*#__PURE__*/React.createElement(\"tbody\",{className:\"align-middle\"},!searchedBranch.searched?[branchList&&[branchList.data.length===0?/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"td\",{scope:\"row\",colSpan:\"6\",className:\"xsm-text align-middle text-center\"},_t(t(\"No data available\")))):branchList.data.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\",key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",className:\"xsm-text text-capitalize align-middle text-center\"},index+1+(branchList.current_page-1)*branchList.per_page),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},item.name),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},item.address||\"-\"),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},item.phn_no?/*#__PURE__*/React.createElement(\"a\",{href:\"tel:\".concat(item.phn_no),rel:\"noopener noreferrer\"},item.phn_no):\"-\"),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn t-bg-clear t-text-dark--light-40\",type:\"button\",\"data-toggle\":\"dropdown\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-ellipsis-h\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-item sm-text text-capitalize\",onClick:function onClick(){return handleSetEdit(item.slug);},\"data-toggle\":\"modal\",\"data-target\":\"#addBranch\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"})),_t(t(\"Edit\"))),SAAS_APPLICATION==\"YES\"?null:[/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-item sm-text text-capitalize\",onClick:function onClick(){handleDeleteConfirmation(item.slug);}},/*#__PURE__*/React.createElement(\"span\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-trash\"})),_t(t(\"Delete\")))]))));})]]:[/* searched data, logic === haveData*/searchedBranch&&[searchedBranch.list.length===0?/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"td\",{scope:\"row\",colSpan:\"6\",className:\"xsm-text align-middle text-center\"},_t(t(\"No data available\")))):searchedBranch.list.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\",key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",className:\"xsm-text text-capitalize align-middle text-center\"},index+1+(branchList.current_page-1)*branchList.per_page),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},item.name),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},item.address||\"-\"),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},item.phn_no?/*#__PURE__*/React.createElement(\"a\",{href:\"tel:\".concat(item.phn_no),rel:\"noopener noreferrer\"},item.phn_no):\"-\"),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn t-bg-clear t-text-dark--light-40\",type:\"button\",\"data-toggle\":\"dropdown\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-ellipsis-h\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-item sm-text text-capitalize\",onClick:function onClick(){return handleSetEdit(item.slug);},\"data-toggle\":\"modal\",\"data-target\":\"#addBranch\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"})),_t(t(\"Edit\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-item sm-text text-capitalize\",onClick:function onClick(){handleDeleteConfirmation(item.slug);}},/*#__PURE__*/React.createElement(\"span\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-trash\"})),_t(t(\"Delete\")))))));})]]))))))),newBranch.uploading===true||loading===true?paginationLoading():[// logic === !searched\n!searchedBranch.searched?/*#__PURE__*/React.createElement(\"div\",{key:\"fragment4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white mt-1 t-pt-5 t-pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 t-mb-15 mb-md-0\"},pagination(branchList,setPaginatedBranch)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex justify-content-md-end align-items-center\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block sm-text\"},showingData(branchList)))))))):/*#__PURE__*/ // if searched\nReact.createElement(\"div\",{className:\"t-bg-white mt-1 t-pt-5 t-pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item no-pagination-style\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm\",onClick:function onClick(){return setSearchedBranch(_objectSpread(_objectSpread({},searchedBranch),{},{searched:false}));}},_t(t(\"Clear Search\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex justify-content-md-end align-items-center\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block sm-text\"},searchedShowingData(searchedBranch,branchForSearch)))))))])))));};export default BranchCrud;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/restaurantDetails/BranchCrud.js"],"names":["React","useState","useContext","useEffect","useHistory","ManageSidebar","_t","getCookie","modalLoading","tableLoading","pagination","paginationLoading","showingData","searchedShowingData","useTranslation","axios","BASE_URL","SAAS_APPLICATION","saas_apiUrl","saas_apiParams","saas_form_data","Helmet","confirmAlert","toast","SettingsContext","RestaurantContext","BranchCrud","t","history","loading","setLoading","branchList","setBranchList","setPaginatedBranch","branchForSearch","setBranchforSearch","dataPaginating","name","phn_no","address","edit","editSlug","uploading","newBranch","setNewBranch","list","searched","searchedBranch","setSearchedBranch","checkBranchLimitState","setCheckBranchLimitState","checkBranchLimit","url","get","then","res","data","catch","saasBranchToken","setInterval","clearInterval","handleSetNewBranch","e","target","value","handleSaveNewBranch","preventDefault","branchUrl","formData","FormData","append","post","headers","Authorization","console","log","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","error","handleSetEdit","slug","branch","filter","item","handleUpdateBranch","handleSearch","searchInput","toLowerCase","length","searchedList","lowerCaseItemName","lowerCaseItemPhnNo","lowerCaseItemAddress","includes","handleDeleteConfirmation","customUI","onClose","handleDeleteBranch","map","index","current_page","per_page"],"mappings":"4zBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA;AACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CAEA;AACA,OACEC,EADF,CAEEC,SAFF,CAGEC,YAHF,CAIEC,YAJF,CAKEC,UALF,CAMEC,iBANF,CAOEC,WAPF,CAQEC,mBARF,KASO,oCATP,CAUA,OAASC,cAAT,KAA+B,eAA/B,CAEA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,gBAAnB,CAAqCC,WAArC,CAAkDC,cAAlD,CAAkEC,cAAlE,KAAwF,wBAAxF,CAEA;AACA,OAASC,MAAT,KAAuB,cAAvB,CACA,OAASC,YAAT,KAA6B,qBAA7B,CACA,MAAO,iDAAP,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAO,uCAAP,CAEA;AACA,OAASC,eAAT,KAAgC,kCAAhC,CACA,OAASC,iBAAT,KAAkC,oCAAlC,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,qBAETZ,cAAc,EAFL,CAEfa,CAFe,iBAEfA,CAFe,CAGvB,GAAMC,CAAAA,OAAO,CAAGxB,UAAU,EAA1B,CACA;AAJuB,gBASnBF,UAAU,CAACsB,eAAD,CATS,CAOrBK,OAPqB,aAOrBA,OAPqB,CAQrBC,UARqB,aAQrBA,UARqB,kBAqBnB5B,UAAU,CAACuB,iBAAD,CArBS,CAarBM,UAbqB,cAarBA,UAbqB,CAcrBC,aAdqB,cAcrBA,aAdqB,CAerBC,kBAfqB,cAerBA,kBAfqB,CAgBrBC,eAhBqB,cAgBrBA,eAhBqB,CAiBrBC,kBAjBqB,cAiBrBA,kBAjBqB,CAoBrBC,cApBqB,cAoBrBA,cApBqB,CAuBvB;AACA;AAxBuB,cAyBSnC,QAAQ,CAAC,CACvCoC,IAAI,CAAE,EADiC,CAEvCC,MAAM,CAAE,EAF+B,CAGvCC,OAAO,CAAE,EAH8B,CAIvCC,IAAI,CAAE,KAJiC,CAKvCC,QAAQ,CAAE,IAL6B,CAMvCC,SAAS,CAAE,KAN4B,CAAD,CAzBjB,wCAyBlBC,SAzBkB,eAyBPC,YAzBO,eAkCvB;AAlCuB,eAmCmB3C,QAAQ,CAAC,CACjD4C,IAAI,CAAE,IAD2C,CAEjDC,QAAQ,CAAE,KAFuC,CAAD,CAnC3B,yCAmClBC,cAnCkB,eAmCFC,iBAnCE,eAyCvB;AAzCuB,eA0CiC/C,QAAQ,CAAC,EAAD,CA1CzC,yCA0ClBgD,qBA1CkB,eA0CKC,wBA1CL,eA4CvB;AACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B;AACA,GAAMC,CAAAA,GAAG,CAAGlC,WAAW,CAAG,+BAAd,CAAgDC,cAA5D,CACAJ,KAAK,CAACsC,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoB,SAACC,GAAD,CAAS,CAC3BL,wBAAwB,CAACK,GAAG,CAACC,IAAL,CAAxB,CACD,CAFD,EAEGC,KAFH,CAES,UAAM,CACb,MAAO,SAAP,CACD,CAJD,EAKD,CARD,CAWA;AACAtD,SAAS,CAAC,UAAM,CACd;AACA,GAAIc,gBAAgB,EAAI,KAAxB,CAA+B,CAC7B,wDAAC,uJACOyC,eADP,CACyBC,WAAW,CAACR,gBAAD,CAAmB,IAAnB,CADpC,CAECA,gBAAgB,GAFjB,gCAIQ,UAAM,CACXS,aAAa,CAACF,eAAD,CAAb,CACD,CANF,wDAAD,KASD,CAGF,CAfQ,CAeN,EAfM,CAAT,CAiBA;AACA,GAAMG,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,CAAD,CAAO,CAChClB,YAAY,gCAAMD,SAAN,wBAAkBmB,CAAC,CAACC,MAAF,CAAS1B,IAA3B,CAAkCyB,CAAC,CAACC,MAAF,CAASC,KAA3C,GAAZ,CACD,CAFD,CAIA;AACA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACH,CAAD,CAAO,CACjCA,CAAC,CAACI,cAAF,GACAtB,YAAY,gCACPD,SADO,MAEVD,SAAS,CAAE,IAFD,GAAZ,CAIA,GAAMyB,CAAAA,SAAS,CAAGnD,QAAQ,uBAA1B,CACA,GAAIoD,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwB3B,SAAS,CAACN,IAAlC,EACA+B,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CAA0B3B,SAAS,CAACL,MAApC,EACA8B,QAAQ,CAACE,MAAT,CAAgB,SAAhB,CAA2B3B,SAAS,CAACJ,OAArC,EACA,MAAOxB,CAAAA,KAAK,CACTwD,IADI,CACCJ,SADD,CACYC,QADZ,CACsB,CACzBI,OAAO,CAAE,CAAEC,aAAa,kBAAYlE,SAAS,EAArB,CAAf,CADgB,CADtB,EAIJ+C,IAJI,CAIC,SAACC,GAAD,CAAS,CACb,GAAItC,gBAAgB,EAAI,KAAxB,CAA+B,CAC7B;AACA,GAAMmC,CAAAA,GAAG,CAAGlC,WAAW,CAAG,kCAA1B,CAA6D;AAC7DH,KAAK,CAACwD,IAAN,CAAWnB,GAAX,CAAgBhC,cAAhB,EAAgCkC,IAAhC,CAAqC,SAACC,GAAD,CAAS,CAC5CmB,OAAO,CAACC,GAAR,CAAYpB,GAAZ,EACD,CAFD,EAEGE,KAFH,CAES,UAAM,CACb,MAAO,SAAP,CACD,CAJD,EAKD,CACDb,YAAY,CAAC,CACXP,IAAI,CAAE,EADK,CAEXC,MAAM,CAAE,EAFG,CAGXC,OAAO,CAAE,EAHE,CAIXC,IAAI,CAAE,KAJK,CAKXC,QAAQ,CAAE,IALC,CAMXC,SAAS,CAAE,KANA,CAAD,CAAZ,CAQAV,aAAa,CAACuB,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAb,CACArB,kBAAkB,CAACoB,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAlB,CACAR,iBAAiB,gCACZD,cADY,MAEfF,IAAI,CAAEU,GAAG,CAACC,IAAJ,CAAS,CAAT,CAFS,GAAjB,CAIA1B,UAAU,CAAC,KAAD,CAAV,CACAP,KAAK,CAACqD,OAAN,WAAiBtE,EAAE,CAACqB,CAAC,CAAC,uBAAD,CAAF,CAAnB,EAAmD,CACjDkD,QAAQ,CAAE,eADuC,CAEjDC,SAAS,CAAE,KAFsC,CAGjDC,eAAe,CAAE,KAHgC,CAIjDC,YAAY,CAAE,IAJmC,CAKjDC,YAAY,CAAE,IALmC,CAMjDC,SAAS,CAAE,gCANsC,CAAnD,EAQD,CArCI,EAsCJzB,KAtCI,CAsCE,UAAM,CACX3B,UAAU,CAAC,KAAD,CAAV,CACAc,YAAY,gCACPD,SADO,MAEVD,SAAS,CAAE,KAFD,GAAZ,CAIAnB,KAAK,CAAC4D,KAAN,WAAe7E,EAAE,CAACqB,CAAC,CAAC,kBAAD,CAAF,CAAjB,EAA4C,CAC1CkD,QAAQ,CAAE,eADgC,CAE1CC,SAAS,CAAE,KAF+B,CAG1CC,eAAe,CAAE,KAHyB,CAI1CC,YAAY,CAAE,IAJ4B,CAK1CC,YAAY,CAAE,IAL4B,CAM1CC,SAAS,CAAE,gCAN+B,CAA5C,EAQD,CApDI,CAAP,CAqDD,CAhED,CAkEA;AACA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,IAAD,CAAU,CAC9B,GAAIC,CAAAA,MAAM,CAAGpD,eAAe,CAACqD,MAAhB,CAAuB,SAACC,IAAD,CAAU,CAC5C,MAAOA,CAAAA,IAAI,CAACH,IAAL,GAAcA,IAArB,CACD,CAFY,CAAb,CAGAzC,YAAY,gCACPD,SADO,MAEVN,IAAI,CAAEiD,MAAM,CAAC,CAAD,CAAN,CAAUjD,IAFN,CAGVC,MAAM,CAAEgD,MAAM,CAAC,CAAD,CAAN,CAAUhD,MAHR,CAIVC,OAAO,CAAE+C,MAAM,CAAC,CAAD,CAAN,CAAU/C,OAJT,CAKVE,QAAQ,CAAE6C,MAAM,CAAC,CAAD,CAAN,CAAUD,IALV,CAMV7C,IAAI,CAAE,IANI,GAAZ,CAQD,CAZD,CAcA;AACA,GAAMiD,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAC3B,CAAD,CAAO,CAChCA,CAAC,CAACI,cAAF,GACAtB,YAAY,gCACPD,SADO,MAEVD,SAAS,CAAE,IAFD,GAAZ,CAIA,GAAMyB,CAAAA,SAAS,CAAGnD,QAAQ,0BAA1B,CACA,GAAIoD,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwB3B,SAAS,CAACN,IAAlC,EACA+B,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CAA0B3B,SAAS,CAACL,MAApC,EACA8B,QAAQ,CAACE,MAAT,CAAgB,SAAhB,CAA2B3B,SAAS,CAACJ,OAArC,EACA6B,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4B3B,SAAS,CAACF,QAAtC,EACA,MAAO1B,CAAAA,KAAK,CACTwD,IADI,CACCJ,SADD,CACYC,QADZ,CACsB,CACzBI,OAAO,CAAE,CAAEC,aAAa,kBAAYlE,SAAS,EAArB,CAAf,CADgB,CADtB,EAIJ+C,IAJI,CAIC,SAACC,GAAD,CAAS,CACbX,YAAY,CAAC,CACXP,IAAI,CAAE,EADK,CAEXC,MAAM,CAAE,EAFG,CAGXC,OAAO,CAAE,EAHE,CAIXC,IAAI,CAAE,KAJK,CAKXC,QAAQ,CAAE,IALC,CAMXC,SAAS,CAAE,KANA,CAAD,CAAZ,CAQAV,aAAa,CAACuB,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAb,CACArB,kBAAkB,CAACoB,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAlB,CACAR,iBAAiB,gCACZD,cADY,MAEfF,IAAI,CAAEU,GAAG,CAACC,IAAJ,CAAS,CAAT,CAFS,GAAjB,CAIA1B,UAAU,CAAC,KAAD,CAAV,CACAP,KAAK,CAACqD,OAAN,WAAiBtE,EAAE,CAACqB,CAAC,CAAC,yBAAD,CAAF,CAAnB,EAAqD,CACnDkD,QAAQ,CAAE,eADyC,CAEnDC,SAAS,CAAE,KAFwC,CAGnDC,eAAe,CAAE,KAHkC,CAInDC,YAAY,CAAE,IAJqC,CAKnDC,YAAY,CAAE,IALqC,CAMnDC,SAAS,CAAE,gCANwC,CAArD,EAQD,CA5BI,EA6BJzB,KA7BI,CA6BE,UAAM,CACX3B,UAAU,CAAC,KAAD,CAAV,CACAc,YAAY,gCACPD,SADO,MAEVD,SAAS,CAAE,KAFD,GAAZ,CAIAnB,KAAK,CAAC4D,KAAN,WAAe7E,EAAE,CAACqB,CAAC,CAAC,kBAAD,CAAF,CAAjB,EAA4C,CAC1CkD,QAAQ,CAAE,eADgC,CAE1CC,SAAS,CAAE,KAF+B,CAG1CC,eAAe,CAAE,KAHyB,CAI1CC,YAAY,CAAE,IAJ4B,CAK1CC,YAAY,CAAE,IAL4B,CAM1CC,SAAS,CAAE,gCAN+B,CAA5C,EAQD,CA3CI,CAAP,CA4CD,CAxDD,CA0DA;AACA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAC5B,CAAD,CAAO,CAC1B,GAAI6B,CAAAA,WAAW,CAAG7B,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe4B,WAAf,EAAlB,CACA,GAAID,WAAW,CAACE,MAAZ,GAAuB,CAA3B,CAA8B,CAC5B7C,iBAAiB,gCAAMD,cAAN,MAAsBD,QAAQ,CAAE,KAAhC,GAAjB,CACD,CAFD,IAEO,CACL,GAAIgD,CAAAA,YAAY,CAAG5D,eAAe,CAACqD,MAAhB,CAAuB,SAACC,IAAD,CAAU,CAClD,GAAIO,CAAAA,iBAAiB,CAAGP,IAAI,CAACnD,IAAL,CAAUuD,WAAV,EAAxB,CACA,GAAII,CAAAA,kBAAkB,CACpBR,IAAI,CAAClD,MAAL,GAAgB,IAAhB,EAAwBkD,IAAI,CAAClD,MAAL,CAAYsD,WAAZ,EAD1B,CAEA,GAAIK,CAAAA,oBAAoB,CACtBT,IAAI,CAACjD,OAAL,GAAiB,IAAjB,EAAyBiD,IAAI,CAACjD,OAAL,CAAaqD,WAAb,EAD3B,CAEA,MACEG,CAAAA,iBAAiB,CAACG,QAAlB,CAA2BP,WAA3B,GACCK,kBAAkB,EAAIA,kBAAkB,CAACE,QAAnB,CAA4BP,WAA5B,CADvB,EAECM,oBAAoB,EAAIA,oBAAoB,CAACC,QAArB,CAA8BP,WAA9B,CAH3B,CAKD,CAXkB,CAAnB,CAYA3C,iBAAiB,gCACZD,cADY,MAEfF,IAAI,CAAEiD,YAFS,CAGfhD,QAAQ,CAAE,IAHK,GAAjB,CAKD,CACF,CAvBD,CAyBA;AACA,GAAMqD,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACd,IAAD,CAAU,CACzC/D,YAAY,CAAC,CACX8E,QAAQ,CAAE,wBAAiB,IAAdC,CAAAA,OAAc,OAAdA,OAAc,CACzB,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,8BAAK/F,EAAE,CAACqB,CAAC,CAAC,eAAD,CAAF,CAAP,CADF,cAEE,yBAAG,SAAS,CAAC,aAAb,EAA4BrB,EAAE,CAACqB,CAAC,CAAC,0BAAD,CAAF,CAA9B,CAFF,cAGE,2BAAK,SAAS,CAAC,+BAAf,eACE,8BACE,SAAS,CAAC,iBADZ,CAEE,OAAO,CAAE,kBAAM,CACb2E,kBAAkB,CAACjB,IAAD,CAAlB,CACAgB,OAAO,GACR,CALH,EAOG/F,EAAE,CAACqB,CAAC,CAAC,iBAAD,CAAF,CAPL,CADF,cAUE,8BAAQ,SAAS,CAAC,2BAAlB,CAA8C,OAAO,CAAE0E,OAAvD,EACG/F,EAAE,CAACqB,CAAC,CAAC,IAAD,CAAF,CADL,CAVF,CAHF,CADF,CAoBD,CAtBU,CAAD,CAAZ,CAwBD,CAzBD,CA2BA;AACA,GAAM2E,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACjB,IAAD,CAAU,CACnCvD,UAAU,CAAC,IAAD,CAAV,CACA,GAAMqC,CAAAA,SAAS,CAAGnD,QAAQ,mCAA8BqE,IAA9B,CAA1B,CACA,MAAOtE,CAAAA,KAAK,CACTsC,GADI,CACAc,SADA,CACW,CACdK,OAAO,CAAE,CAAEC,aAAa,kBAAYlE,SAAS,EAArB,CAAf,CADK,CADX,EAIJ+C,IAJI,CAIC,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAJ,GAAa,MAAjB,CAAyB,CACvB1B,UAAU,CAAC,KAAD,CAAV,CACAP,KAAK,CAAC4D,KAAN,WACK7E,EAAE,CAACqB,CAAC,CAAC,kDAAD,CAAF,CADP,EAEE,CACEkD,QAAQ,CAAE,eADZ,CAEEC,SAAS,CAAE,KAFb,CAGEC,eAAe,CAAE,KAHnB,CAIEC,YAAY,CAAE,IAJhB,CAKEC,YAAY,CAAE,IALhB,CAMEC,SAAS,CAAE,gCANb,CAFF,EAWD,CAbD,IAaO,CACLlD,aAAa,CAACuB,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAb,CACArB,kBAAkB,CAACoB,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAlB,CACAR,iBAAiB,gCACZD,cADY,MAEfF,IAAI,CAAEU,GAAG,CAACC,IAAJ,CAAS,CAAT,CAFS,GAAjB,CAIA1B,UAAU,CAAC,KAAD,CAAV,CACAP,KAAK,CAACqD,OAAN,WAAiBtE,EAAE,CAACqB,CAAC,CAAC,sCAAD,CAAF,CAAnB,EAAkE,CAChEkD,QAAQ,CAAE,eADsD,CAEhEC,SAAS,CAAE,KAFqD,CAGhEC,eAAe,CAAE,KAH+C,CAIhEC,YAAY,CAAE,IAJkD,CAKhEC,YAAY,CAAE,IALkD,CAMhEC,SAAS,CAAE,gCANqD,CAAlE,EAQD,CACF,CAnCI,EAoCJzB,KApCI,CAoCE,UAAM,CACX3B,UAAU,CAAC,KAAD,CAAV,CACAP,KAAK,CAAC4D,KAAN,WAAe7E,EAAE,CAACqB,CAAC,CAAC,kBAAD,CAAF,CAAjB,EAA4C,CAC1CkD,QAAQ,CAAE,eADgC,CAE1CC,SAAS,CAAE,KAF+B,CAG1CC,eAAe,CAAE,KAHyB,CAI1CC,YAAY,CAAE,IAJ4B,CAK1CC,YAAY,CAAE,IAL4B,CAM1CC,SAAS,CAAE,gCAN+B,CAA5C,EAQD,CA9CI,CAAP,CA+CD,CAlDD,CAoDA,mBACE,qDACE,oBAAC,MAAD,mBACE,iCAAQ5E,EAAE,CAACqB,CAAC,CAAC,UAAD,CAAF,CAAV,CADF,CADF,cAME,2BAAK,SAAS,CAAC,YAAf,CAA4B,EAAE,CAAC,WAA/B,CAA2C,cAAY,MAAvD,eACE,2BAAK,SAAS,CAAC,uBAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,iCAAf,eACE,2BAAK,SAAS,CAAC,qBAAf,eACE,0BAAI,SAAS,CAAC,mCAAd,EACG,CAACgB,SAAS,CAACH,IAAX,CACGlC,EAAE,CAACqB,CAAC,CAAC,gBAAD,CAAF,CADL,CAEGrB,EAAE,CAACqB,CAAC,CAAC,eAAD,CAAF,CAHR,CADF,CADF,cAQE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,WAFZ,CAGE,eAAa,OAHf,CAIE,aAAW,OAJb,EARF,CADF,cAgBE,2BAAK,SAAS,CAAC,YAAf,EAEGgB,SAAS,CAACD,SAAV,GAAwB,KAAxB,cACC,2BAAK,GAAG,CAAC,mBAAT,eACE,4BACE,QAAQ,CACN,CAACC,SAAS,CAACH,IAAX,CAAkByB,mBAAlB,CAAwCwB,kBAF5C,eAKE,4CACE,6BAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,YAAhC,EACGnF,EAAE,CAACqB,CAAC,CAAC,MAAD,CAAF,CADL,CACkB,GADlB,cAEE,6BAAO,SAAS,CAAC,cAAjB,MAFF,CADF,cAKE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,MAHL,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,oBALd,CAME,KAAK,CAAEgB,SAAS,CAACN,IAAV,EAAkB,EAN3B,CAOE,QAAQ,KAPV,CAQE,QAAQ,CAAEwB,kBARZ,EALF,CALF,cAsBE,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,OAAO,CAAC,QAAf,CAAwB,SAAS,CAAC,YAAlC,EACGvD,EAAE,CAACqB,CAAC,CAAC,cAAD,CAAF,CADL,CADF,cAIE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,QAHL,CAIE,IAAI,CAAC,QAJP,CAKE,WAAW,CAAC,oBALd,CAME,KAAK,CAAEgB,SAAS,CAACL,MAAV,EAAoB,EAN7B,CAOE,QAAQ,CAAEuB,kBAPZ,EAJF,CAtBF,cAqCE,2BAAK,SAAS,CAAC,MAAf,eACE,6BAAO,OAAO,CAAC,SAAf,CAAyB,SAAS,CAAC,YAAnC,EACGvD,EAAE,CAACqB,CAAC,CAAC,SAAD,CAAF,CADL,CADF,cAIE,gCACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,SAHL,CAIE,IAAI,CAAC,SAJP,CAKE,WAAW,CAAC,qBALd,CAME,KAAK,CAAEgB,SAAS,CAACJ,OAAV,EAAqB,EAN9B,CAOE,QAAQ,CAAEsB,kBAPZ,EAJF,CArCF,cAoDE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,OAAf,EAEI5C,gBAAgB,EAAI,KAApB,CAA4B,CAC1B0B,SAAS,CAACH,IAAV,CAAiB,cACf,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,2DAFZ,WADe,CAAjB,CAOI,CACFS,qBAAqB,EAAI,WAAzB,cAAuC,8BACrC,IAAI,CAAC,QADgC,CAErC,SAAS,CAAC,2DAF2B,EAIpC,CAACN,SAAS,CAACH,IAAX,CAAkBlC,EAAE,CAACqB,CAAC,CAAC,MAAD,CAAF,CAApB,CAAkCrB,EAAE,CAACqB,CAAC,CAAC,QAAD,CAAF,CAJA,CAAvC,cAME,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,0DAFZ,CAGE,OAAO,CAAE,kBAAM,CAEbJ,KAAK,CAAC4D,KAAN,CAAe,wBAAf,CAA2C,CACzCN,QAAQ,CAAE,eAD+B,CAEzCC,SAAS,CAAE,IAF8B,CAGzCC,eAAe,CAAE,KAHwB,CAIzCC,YAAY,CAAE,IAJ2B,CAKzCC,YAAY,CAAE,IAL2B,CAMzCC,SAAS,CAAE,gCAN8B,CAA3C,EAQD,CAbH,EAeG5E,EAAE,CAACqB,CAAC,CAAC,SAAD,CAAF,CAfL,CAPA,CARsB,CAA5B,CAiCI,cACF,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,2DAFZ,EAIG,CAACgB,SAAS,CAACH,IAAX,CAAkBlC,EAAE,CAACqB,CAAC,CAAC,MAAD,CAAF,CAApB,CAAkCrB,EAAE,CAACqB,CAAC,CAAC,QAAD,CAAF,CAJvC,CADE,CAnCR,CADF,cA8CE,2BAAK,SAAS,CAAC,OAAf,eACE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,2DAFZ,CAGE,eAAa,OAHf,EAKGrB,EAAE,CAACqB,CAAC,CAAC,OAAD,CAAF,CALL,CADF,CA9CF,CADF,CApDF,CADF,CADD,cAmHC,2BAAK,GAAG,CAAC,WAAT,eACE,2BAAK,SAAS,CAAC,0DAAf,EACGrB,EAAE,CAACqB,CAAC,CAAC,aAAD,CAAF,CADL,CADF,CAIGnB,YAAY,CAAC,CAAD,CAJf,cAKE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,2DAFZ,CAGE,OAAO,CAAE,iBAACsD,CAAD,CAAO,CACdA,CAAC,CAACI,cAAF,GACD,CALH,EAOG,CAACvB,SAAS,CAACH,IAAX,CAAkBlC,EAAE,CAACqB,CAAC,CAAC,MAAD,CAAF,CAApB,CAAkCrB,EAAE,CAACqB,CAAC,CAAC,QAAD,CAAF,CAPvC,CADF,CADF,cAYE,2BAAK,SAAS,CAAC,OAAf,eACE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,2DAFZ,CAGE,eAAa,OAHf,EAKGrB,EAAE,CAACqB,CAAC,CAAC,OAAD,CAAF,CALL,CADF,CAZF,CADF,CALF,CArHJ,CAhBF,CADF,CADF,CANF,cAmLE,4BAAM,EAAE,CAAC,MAAT,CAAgB,qBAAhB,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eAEE,2BAAK,SAAS,CAAC,oCAAf,eACE,oBAAC,aAAD,MADF,CAFF,cAQE,2BAAK,SAAS,CAAC,qCAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,qBAAf,CAAqC,qBAArC,eACE,2BAAK,SAAS,CAAC,iBAAf,EAEGgB,SAAS,CAACD,SAAV,GAAwB,IAAxB,EAAgCb,OAAO,GAAK,IAA5C,CACCpB,YAAY,EADb,cAGC,2BAAK,GAAG,CAAC,WAAT,eAEE,2BAAK,SAAS,WAAK2B,cAAc,EAAI,SAAvB,CAAd,EAFF,cAKE,2BAAK,SAAS,CAAC,6CAAf,eACE,2BAAK,SAAS,CAAC,mCAAf,eACE,0BAAI,SAAS,CAAC,sBAAd,eACE,0BAAI,SAAS,CAAC,qBAAd,eACE,4BAAM,SAAS,CAAC,4CAAhB,EACG,CAACW,cAAc,CAACD,QAAhB,CACGxC,EAAE,CAACqB,CAAC,CAAC,aAAD,CAAF,CADL,CAEGrB,EAAE,CAACqB,CAAC,CAAC,eAAD,CAAF,CAHR,CADF,CADF,CADF,CADF,cAYE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,6BAAf,eAEE,2BAAK,SAAS,CAAC,0BAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,uDAFZ,CAGE,WAAW,CAAErB,EAAE,CAACqB,CAAC,CAAC,QAAD,CAAF,CAAF,CAAkB,IAHjC,CAIE,QAAQ,CAAE+D,YAJZ,EADF,CADF,cASE,8BACE,SAAS,CAAC,iBADZ,CAEE,IAAI,CAAC,QAFP,eAIE,yBACE,SAAS,CAAC,cADZ,CAEE,cAAY,MAFd,EAJF,CATF,CADF,CAFF,cAyBE,2BAAK,SAAS,CAAC,wBAAf,EACGzE,gBAAgB,EAAI,KAApB,CAA4B,CAC3BgC,qBAAqB,EAAI,WAAzB,cAAuC,8BACrC,IAAI,CAAC,QADgC,CAErC,SAAS,CAAC,0DAF2B,CAGrC,cAAY,OAHyB,CAIrC,cAAY,YAJyB,CAKrC,OAAO,CAAE,kBAAM,CACbL,YAAY,gCACPD,SADO,MAEVH,IAAI,CAAE,KAFI,CAGVE,SAAS,CAAE,KAHD,GAAZ,CAKD,CAXoC,EAapCpC,EAAE,CAACqB,CAAC,CAAC,SAAD,CAAF,CAbkC,CAAvC,cAcY,8BACV,IAAI,CAAC,QADK,CAEV,SAAS,CAAC,0DAFA,CAGV,OAAO,CAAE,kBAAM,CAEb;AACAJ,KAAK,CAAC4D,KAAN,0BAAsC,CACpCN,QAAQ,CAAE,eAD0B,CAEpCC,SAAS,CAAE,KAFyB,CAGpCC,eAAe,CAAE,KAHmB,CAIpCC,YAAY,CAAE,IAJsB,CAKpCC,YAAY,CAAE,IALsB,CAMpCC,SAAS,CAAE,gCANyB,CAAtC,EAQD,CAdS,EAgBT5E,EAAE,CAACqB,CAAC,CAAC,SAAD,CAAF,CAhBO,CAfe,CAA5B,CAiCG,cACF,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,0DAFZ,CAGE,cAAY,OAHd,CAIE,cAAY,YAJd,CAKE,OAAO,CAAE,kBAAM,CACbiB,YAAY,gCACPD,SADO,MAEVH,IAAI,CAAE,KAFI,CAGVE,SAAS,CAAE,KAHD,GAAZ,CAKD,CAXH,EAaGpC,EAAE,CAACqB,CAAC,CAAC,SAAD,CAAF,CAbL,CADE,CAlCN,CAzBF,CADF,CAZF,CALF,cAmGE,2BAAK,SAAS,CAAC,kBAAf,eACE,6BAAO,SAAS,CAAC,mDAAjB,eACE,6BAAO,SAAS,CAAC,cAAjB,eACE,2CACE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrB,EAAE,CAACqB,CAAC,CAAC,KAAD,CAAF,CAJL,CADF,cAQE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrB,EAAE,CAACqB,CAAC,CAAC,MAAD,CAAF,CAJL,CARF,cAeE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrB,EAAE,CAACqB,CAAC,CAAC,SAAD,CAAF,CAJL,CAfF,cAqBE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrB,EAAE,CAACqB,CAAC,CAAC,QAAD,CAAF,CAJL,CArBF,cA4BE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrB,EAAE,CAACqB,CAAC,CAAC,QAAD,CAAF,CAJL,CA5BF,CADF,CADF,cAsCE,6BAAO,SAAS,CAAC,cAAjB,EAEG,CAACoB,cAAc,CAACD,QAAhB,CACG,CACAf,UAAU,EAAI,CACZA,UAAU,CAACyB,IAAX,CAAgBqC,MAAhB,GAA2B,CAA3B,cACE,0BAAI,SAAS,CAAC,cAAd,eACE,0BACE,KAAK,CAAC,KADR,CAEE,OAAO,CAAC,GAFV,CAGE,SAAS,CAAC,mCAHZ,EAKGvF,EAAE,CAACqB,CAAC,CAAC,mBAAD,CAAF,CALL,CADF,CADF,CAWEI,UAAU,CAACyB,IAAX,CAAgB+C,GAAhB,CAAoB,SAACf,IAAD,CAAOgB,KAAP,CAAiB,CACnC,mBACE,0BACE,SAAS,CAAC,cADZ,CAEE,GAAG,CAAEA,KAFP,eAIE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,mDAFZ,EAIGA,KAAK,CACJ,CADD,CAEC,CAACzE,UAAU,CAAC0E,YAAX,CACC,CADF,EAEA1E,UAAU,CAAC2E,QARf,CAJF,cAeE,0BAAI,SAAS,CAAC,mDAAd,EACGlB,IAAI,CAACnD,IADR,CAfF,cAmBE,0BAAI,SAAS,CAAC,mDAAd,EACGmD,IAAI,CAACjD,OAAL,EAAgB,GADnB,CAnBF,cAuBE,0BAAI,SAAS,CAAC,mCAAd,EACGiD,IAAI,CAAClD,MAAL,cACC,yBACE,IAAI,eAASkD,IAAI,CAAClD,MAAd,CADN,CAEE,GAAG,CAAC,qBAFN,EAIGkD,IAAI,CAAClD,MAJR,CADD,CAQC,GATJ,CAvBF,cAoCE,0BAAI,SAAS,CAAC,mDAAd,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,8BACE,SAAS,CAAC,sCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,cAAY,UAHd,eAKE,yBAAG,SAAS,CAAC,kBAAb,EALF,CADF,cAQE,2BAAK,SAAS,CAAC,eAAf,eACE,8BACE,SAAS,CAAC,uCADZ,CAEE,OAAO,CAAE,yBACP8C,CAAAA,aAAa,CAACI,IAAI,CAACH,IAAN,CADN,EAFX,CAKE,cAAY,OALd,CAME,cAAY,YANd,eAQE,4BAAM,SAAS,CAAC,QAAhB,eACE,yBAAG,SAAS,CAAC,cAAb,EADF,CARF,CAWG/E,EAAE,CAACqB,CAAC,CAAC,MAAD,CAAF,CAXL,CADF,CAeGV,gBAAgB,EAAI,KAApB,CAA4B,IAA5B,CAAmC,cAClC,8BACE,SAAS,CAAC,uCADZ,CAEE,OAAO,CAAE,kBAAM,CACbkF,wBAAwB,CACtBX,IAAI,CAACH,IADiB,CAAxB,CAGD,CANH,eAQE,4BAAM,SAAS,CAAC,QAAhB,eACE,yBAAG,SAAS,CAAC,aAAb,EADF,CARF,CAWG/E,EAAE,CAACqB,CAAC,CAAC,QAAD,CAAF,CAXL,CADkC,CAftC,CARF,CADF,CApCF,CADF,CAiFD,CAlFD,CAZU,CADd,CADH,CAoGG,CACA,sCACAoB,cAAc,EAAI,CAChBA,cAAc,CAACF,IAAf,CAAoBgD,MAApB,GAA+B,CAA/B,cACE,0BAAI,SAAS,CAAC,cAAd,eACE,0BACE,KAAK,CAAC,KADR,CAEE,OAAO,CAAC,GAFV,CAGE,SAAS,CAAC,mCAHZ,EAKGvF,EAAE,CAACqB,CAAC,CAAC,mBAAD,CAAF,CALL,CADF,CADF,CAWEoB,cAAc,CAACF,IAAf,CAAoB0D,GAApB,CACE,SAACf,IAAD,CAAOgB,KAAP,CAAiB,CACf,mBACE,0BACE,SAAS,CAAC,cADZ,CAEE,GAAG,CAAEA,KAFP,eAIE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,mDAFZ,EAIGA,KAAK,CACJ,CADD,CAEC,CAACzE,UAAU,CAAC0E,YAAX,CACC,CADF,EAEA1E,UAAU,CAAC2E,QARf,CAJF,cAeE,0BAAI,SAAS,CAAC,mDAAd,EACGlB,IAAI,CAACnD,IADR,CAfF,cAmBE,0BAAI,SAAS,CAAC,mDAAd,EACGmD,IAAI,CAACjD,OAAL,EAAgB,GADnB,CAnBF,cAuBE,0BAAI,SAAS,CAAC,mCAAd,EACGiD,IAAI,CAAClD,MAAL,cACC,yBACE,IAAI,eAASkD,IAAI,CAAClD,MAAd,CADN,CAEE,GAAG,CAAC,qBAFN,EAIGkD,IAAI,CAAClD,MAJR,CADD,CAQC,GATJ,CAvBF,cAoCE,0BAAI,SAAS,CAAC,mDAAd,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,8BACE,SAAS,CAAC,sCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,cAAY,UAHd,eAKE,yBAAG,SAAS,CAAC,kBAAb,EALF,CADF,cAQE,2BAAK,SAAS,CAAC,eAAf,eACE,8BACE,SAAS,CAAC,uCADZ,CAEE,OAAO,CAAE,yBACP8C,CAAAA,aAAa,CACXI,IAAI,CAACH,IADM,CADN,EAFX,CAOE,cAAY,OAPd,CAQE,cAAY,YARd,eAUE,4BAAM,SAAS,CAAC,QAAhB,eACE,yBAAG,SAAS,CAAC,cAAb,EADF,CAVF,CAaG/E,EAAE,CAACqB,CAAC,CAAC,MAAD,CAAF,CAbL,CADF,cAiBE,8BACE,SAAS,CAAC,uCADZ,CAEE,OAAO,CAAE,kBAAM,CACbwE,wBAAwB,CACtBX,IAAI,CAACH,IADiB,CAAxB,CAGD,CANH,eAQE,4BAAM,SAAS,CAAC,QAAhB,eACE,yBAAG,SAAS,CAAC,aAAb,EADF,CARF,CAWG/E,EAAE,CAACqB,CAAC,CAAC,QAAD,CAAF,CAXL,CAjBF,CARF,CADF,CApCF,CADF,CAiFD,CAnFH,CAZc,CAFlB,CAtGN,CAtCF,CADF,CAnGF,CALJ,CADF,CADF,CADF,CAwWGgB,SAAS,CAACD,SAAV,GAAwB,IAAxB,EAAgCb,OAAO,GAAK,IAA5C,CACGlB,iBAAiB,EADpB,CAEG,CACA;AACA,CAACoC,cAAc,CAACD,QAAhB,cACE,2BAAK,GAAG,CAAC,WAAT,eACE,2BAAK,SAAS,CAAC,+BAAf,eACE,2BAAK,SAAS,CAAC,wCAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,EAEGpC,UAAU,CAACqB,UAAD,CAAaE,kBAAb,CAFb,CADF,cAKE,2BAAK,SAAS,CAAC,UAAf,eACE,0BAAI,SAAS,CAAC,yDAAd,eACE,0BAAI,SAAS,CAAC,cAAd,eACE,4BAAM,SAAS,CAAC,wBAAhB,EACGrB,WAAW,CAACmB,UAAD,CADd,CADF,CADF,CADF,CALF,CADF,CADF,CADF,eAqBE;AACA,2BAAK,SAAS,CAAC,+BAAf,eACE,2BAAK,SAAS,CAAC,wCAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,eACE,0BAAI,SAAS,CAAC,eAAd,eACE,0BAAI,SAAS,CAAC,kCAAd,eACE,8BACE,SAAS,CAAC,wBADZ,CAEE,OAAO,CAAE,yBACPiB,CAAAA,iBAAiB,gCACZD,cADY,MAEfD,QAAQ,CAAE,KAFK,GADV,EAFX,EASGxC,EAAE,CAACqB,CAAC,CAAC,cAAD,CAAF,CATL,CADF,CADF,CADF,CADF,cAkBE,2BAAK,SAAS,CAAC,UAAf,eACE,0BAAI,SAAS,CAAC,yDAAd,eACE,0BAAI,SAAS,CAAC,cAAd,eACE,4BAAM,SAAS,CAAC,wBAAhB,EACGd,mBAAmB,CAClBkC,cADkB,CAElBb,eAFkB,CADtB,CADF,CADF,CADF,CAlBF,CADF,CAxBF,CA1WN,CARF,CADF,CADF,CAnLF,CADF,CA2mBD,CAl7BD,CAo7BA,cAAeR,CAAAA,UAAf","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  modalLoading,\r\n  tableLoading,\r\n  pagination,\r\n  paginationLoading,\r\n  showingData,\r\n  searchedShowingData,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL, SAAS_APPLICATION, saas_apiUrl, saas_apiParams, saas_form_data } from \"../../../../../BaseUrl\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\nimport { RestaurantContext } from \"../../../../../contexts/Restaurant\";\r\n\r\nconst BranchCrud = () => {\r\n\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let {\r\n    //common\r\n    loading,\r\n    setLoading,\r\n  } = useContext(SettingsContext);\r\n\r\n  let {\r\n    //branch\r\n    branchList,\r\n    setBranchList,\r\n    setPaginatedBranch,\r\n    branchForSearch,\r\n    setBranchforSearch,\r\n\r\n    //pagination\r\n    dataPaginating,\r\n  } = useContext(RestaurantContext);\r\n\r\n  // States hook here\r\n  //new group\r\n  let [newBranch, setNewBranch] = useState({\r\n    name: \"\",\r\n    phn_no: \"\",\r\n    address: \"\",\r\n    edit: false,\r\n    editSlug: null,\r\n    uploading: false,\r\n  });\r\n\r\n  //search result\r\n  let [searchedBranch, setSearchedBranch] = useState({\r\n    list: null,\r\n    searched: false,\r\n  });\r\n\r\n\r\n  // branch limit check\r\n  let [checkBranchLimitState, setCheckBranchLimitState] = useState('');\r\n\r\n  // check branch limit\r\n  const checkBranchLimit = () => {\r\n    // check how many orders are left \r\n    const url = saas_apiUrl + '/api/user-branch-limit-check?' + saas_apiParams;\r\n    axios.get(url).then((res) => {\r\n      setCheckBranchLimitState(res.data);\r\n    }).catch(() => {\r\n      return 'NO data'\r\n    });\r\n  }\r\n\r\n\r\n  //useEffect == componentDidMount\r\n  useEffect(() => {\r\n    // check expiry\r\n    if (SAAS_APPLICATION == 'YES') {\r\n      (async () => {\r\n        const saasBranchToken = setInterval(checkBranchLimit, 2000);\r\n        checkBranchLimit();\r\n\r\n        return () => {\r\n          clearInterval(saasBranchToken);\r\n        }\r\n      })();\r\n\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n  //set name, phn no, address hook\r\n  const handleSetNewBranch = (e) => {\r\n    setNewBranch({ ...newBranch, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //Save New branch\r\n  const handleSaveNewBranch = (e) => {\r\n    e.preventDefault();\r\n    setNewBranch({\r\n      ...newBranch,\r\n      uploading: true,\r\n    });\r\n    const branchUrl = BASE_URL + `/settings/new-branch`;\r\n    let formData = new FormData();\r\n    formData.append(\"name\", newBranch.name);\r\n    formData.append(\"phn_no\", newBranch.phn_no);\r\n    formData.append(\"address\", newBranch.address);\r\n    return axios\r\n      .post(branchUrl, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        if (SAAS_APPLICATION == 'YES') {\r\n          // after send api req decremeny by one\r\n          const url = saas_apiUrl + '/api/user-branch-limit-decrement';// replace with base url (prince.thetestserver.xyz)\r\n          axios.post(url, saas_form_data).then((res) => {\r\n            console.log(res);\r\n          }).catch(() => {\r\n            return 'NO data'\r\n          });\r\n        }\r\n        setNewBranch({\r\n          name: \"\",\r\n          phn_no: \"\",\r\n          address: \"\",\r\n          edit: false,\r\n          editSlug: null,\r\n          uploading: false,\r\n        });\r\n        setBranchList(res.data[0]);\r\n        setBranchforSearch(res.data[1]);\r\n        setSearchedBranch({\r\n          ...searchedBranch,\r\n          list: res.data[1],\r\n        });\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Branch has been added\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        setNewBranch({\r\n          ...newBranch,\r\n          uploading: false,\r\n        });\r\n        toast.error(`${_t(t(\"Please try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //set edit true & values\r\n  const handleSetEdit = (slug) => {\r\n    let branch = branchForSearch.filter((item) => {\r\n      return item.slug === slug;\r\n    });\r\n    setNewBranch({\r\n      ...newBranch,\r\n      name: branch[0].name,\r\n      phn_no: branch[0].phn_no,\r\n      address: branch[0].address,\r\n      editSlug: branch[0].slug,\r\n      edit: true,\r\n    });\r\n  };\r\n\r\n  //update branch\r\n  const handleUpdateBranch = (e) => {\r\n    e.preventDefault();\r\n    setNewBranch({\r\n      ...newBranch,\r\n      uploading: true,\r\n    });\r\n    const branchUrl = BASE_URL + `/settings/update-branch`;\r\n    let formData = new FormData();\r\n    formData.append(\"name\", newBranch.name);\r\n    formData.append(\"phn_no\", newBranch.phn_no);\r\n    formData.append(\"address\", newBranch.address);\r\n    formData.append(\"editSlug\", newBranch.editSlug);\r\n    return axios\r\n      .post(branchUrl, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setNewBranch({\r\n          name: \"\",\r\n          phn_no: \"\",\r\n          address: \"\",\r\n          edit: false,\r\n          editSlug: null,\r\n          uploading: false,\r\n        });\r\n        setBranchList(res.data[0]);\r\n        setBranchforSearch(res.data[1]);\r\n        setSearchedBranch({\r\n          ...searchedBranch,\r\n          list: res.data[1],\r\n        });\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Branch has been updated\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        setNewBranch({\r\n          ...newBranch,\r\n          uploading: false,\r\n        });\r\n        toast.error(`${_t(t(\"Please try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //search branch here\r\n  const handleSearch = (e) => {\r\n    let searchInput = e.target.value.toLowerCase();\r\n    if (searchInput.length === 0) {\r\n      setSearchedBranch({ ...searchedBranch, searched: false });\r\n    } else {\r\n      let searchedList = branchForSearch.filter((item) => {\r\n        let lowerCaseItemName = item.name.toLowerCase();\r\n        let lowerCaseItemPhnNo =\r\n          item.phn_no !== null && item.phn_no.toLowerCase();\r\n        let lowerCaseItemAddress =\r\n          item.address !== null && item.address.toLowerCase();\r\n        return (\r\n          lowerCaseItemName.includes(searchInput) ||\r\n          (lowerCaseItemPhnNo && lowerCaseItemPhnNo.includes(searchInput)) ||\r\n          (lowerCaseItemAddress && lowerCaseItemAddress.includes(searchInput))\r\n        );\r\n      });\r\n      setSearchedBranch({\r\n        ...searchedBranch,\r\n        list: searchedList,\r\n        searched: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  //delete confirmation modal of branch\r\n  const handleDeleteConfirmation = (slug) => {\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className=\"card card-body\">\r\n            <h1>{_t(t(\"Are you sure?\"))}</h1>\r\n            <p className=\"text-center\">{_t(t(\"You want to delete this?\"))}</p>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  handleDeleteBranch(slug);\r\n                  onClose();\r\n                }}\r\n              >\r\n                {_t(t(\"Yes, delete it!\"))}\r\n              </button>\r\n              <button className=\"btn btn-success ml-2 px-3\" onClick={onClose}>\r\n                {_t(t(\"No\"))}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      },\r\n    });\r\n  };\r\n\r\n  //delete branch here\r\n  const handleDeleteBranch = (slug) => {\r\n    setLoading(true);\r\n    const branchUrl = BASE_URL + `/settings/delete-branch/${slug}`;\r\n    return axios\r\n      .get(branchUrl, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        if (res.data === \"user\") {\r\n          setLoading(false);\r\n          toast.error(\r\n            `${_t(t(\"Please disable all the user of this branch first\"))}`,\r\n            {\r\n              position: \"bottom-center\",\r\n              autoClose: 10000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              className: \"text-center toast-notification\",\r\n            }\r\n          );\r\n        } else {\r\n          setBranchList(res.data[0]);\r\n          setBranchforSearch(res.data[1]);\r\n          setSearchedBranch({\r\n            ...searchedBranch,\r\n            list: res.data[1],\r\n          });\r\n          setLoading(false);\r\n          toast.success(`${_t(t(\"Branch has been deleted successfully\"))}`, {\r\n            position: \"bottom-center\",\r\n            autoClose: 10000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            className: \"text-center toast-notification\",\r\n          });\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        toast.error(`${_t(t(\"Please try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Branches\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* Add modal */}\r\n      <div className=\"modal fade\" id=\"addBranch\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header align-items-center\">\r\n              <div className=\"fk-sm-card__content\">\r\n                <h5 className=\"text-capitalize fk-sm-card__title\">\r\n                  {!newBranch.edit\r\n                    ? _t(t(\"Add new branch\"))\r\n                    : _t(t(\"Update branch\"))}\r\n                </h5>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              {/* show form or show saving loading */}\r\n              {newBranch.uploading === false ? (\r\n                <div key=\"fragment-branch-1\">\r\n                  <form\r\n                    onSubmit={\r\n                      !newBranch.edit ? handleSaveNewBranch : handleUpdateBranch\r\n                    }\r\n                  >\r\n                    <div>\r\n                      <label htmlFor=\"name\" className=\"form-label\">\r\n                        {_t(t(\"Name\"))}{\" \"}\r\n                        <small className=\"text-primary\">*</small>\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"name\"\r\n                        name=\"name\"\r\n                        placeholder=\"e.g. Uttara Branch\"\r\n                        value={newBranch.name || \"\"}\r\n                        required\r\n                        onChange={handleSetNewBranch}\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"mt-3\">\r\n                      <label htmlFor=\"phn_no\" className=\"form-label\">\r\n                        {_t(t(\"Phone number\"))}\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"phn_no\"\r\n                        name=\"phn_no\"\r\n                        placeholder=\"e.g. 01xxx xxx xxx\"\r\n                        value={newBranch.phn_no || \"\"}\r\n                        onChange={handleSetNewBranch}\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"mt-3\">\r\n                      <label htmlFor=\"address\" className=\"form-label\">\r\n                        {_t(t(\"Address\"))}\r\n                      </label>\r\n                      <textarea\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"address\"\r\n                        name=\"address\"\r\n                        placeholder=\"Type branch address\"\r\n                        value={newBranch.address || \"\"}\r\n                        onChange={handleSetNewBranch}\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"mt-4\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-6\">\r\n                          {\r\n                            SAAS_APPLICATION == \"YES\" ? [\r\n                              newBranch.edit ? [\r\n                                <button\r\n                                  type=\"submit\"\r\n                                  className=\"btn btn-success w-100 xsm-text text-uppercase t-width-max\"\r\n                                >\r\n                                  Update\r\n                                </button>\r\n                              ] : [\r\n                                checkBranchLimitState == 'HAS-LIMIT' ? <button\r\n                                  type=\"submit\"\r\n                                  className=\"btn btn-success w-100 xsm-text text-uppercase t-width-max\"\r\n                                >\r\n                                  {!newBranch.edit ? _t(t(\"Save\")) : _t(t(\"Update\"))}\r\n                                </button> :\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\"\r\n                                    onClick={() => {\r\n\r\n                                      toast.error(`${'Your limit has expired'}`, {\r\n                                        position: \"bottom-center\",\r\n                                        autoClose: 5000,\r\n                                        hideProgressBar: false,\r\n                                        closeOnClick: true,\r\n                                        pauseOnHover: true,\r\n                                        className: \"text-center toast-notification\",\r\n                                      });\r\n                                    }}\r\n                                  >\r\n                                    {_t(t(\"disable\"))}\r\n                                  </button>\r\n                              ]\r\n                            ] : [\r\n                              <button\r\n                                type=\"submit\"\r\n                                className=\"btn btn-success w-100 xsm-text text-uppercase t-width-max\"\r\n                              >\r\n                                {!newBranch.edit ? _t(t(\"Save\")) : _t(t(\"Update\"))}\r\n                              </button>\r\n                            ]\r\n                          }\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-primary w-100 xsm-text text-uppercase t-width-max\"\r\n                            data-dismiss=\"modal\"\r\n                          >\r\n                            {_t(t(\"Close\"))}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              ) : (\r\n                <div key=\"fragment2\">\r\n                  <div className=\"text-center text-primary font-weight-bold text-uppercase\">\r\n                    {_t(t(\"Please wait\"))}\r\n                  </div>\r\n                  {modalLoading(3)}\r\n                  <div className=\"mt-4\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-6\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-success w-100 xsm-text text-uppercase t-width-max\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                          }}\r\n                        >\r\n                          {!newBranch.edit ? _t(t(\"Save\")) : _t(t(\"Update\"))}\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"col-6\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-primary w-100 xsm-text text-uppercase t-width-max\"\r\n                          data-dismiss=\"modal\"\r\n                        >\r\n                          {_t(t(\"Close\"))}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Add modal Ends*/}\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div className=\"fk-scroll--pos-menu\" data-simplebar>\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* Loading effect */}\r\n                    {newBranch.uploading === true || loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"fragment3\">\r\n                        {/* next page data spin loading */}\r\n                        <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                        {/* spin loading ends */}\r\n\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                  {!searchedBranch.searched\r\n                                    ? _t(t(\"Branch List\"))\r\n                                    : _t(t(\"Search Result\"))}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\">\r\n                              {/* Search group */}\r\n                              <div className=\"col-md-9 t-mb-15 mb-md-0\">\r\n                                <div className=\"input-group\">\r\n                                  <div className=\"form-file\">\r\n                                    <input\r\n                                      type=\"text\"\r\n                                      className=\"form-control border-0 form-control--light-1 rounded-0\"\r\n                                      placeholder={_t(t(\"Search\")) + \"..\"}\r\n                                      onChange={handleSearch}\r\n                                    />\r\n                                  </div>\r\n                                  <button\r\n                                    className=\"btn btn-primary\"\r\n                                    type=\"button\"\r\n                                  >\r\n                                    <i\r\n                                      className=\"fa fa-search\"\r\n                                      aria-hidden=\"true\"\r\n                                    ></i>\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Add group modal trigger button */}\r\n                              <div className=\"col-md-3 text-md-right\">\r\n                                {SAAS_APPLICATION == 'YES' ? [\r\n                                  checkBranchLimitState == 'HAS-LIMIT' ? <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\"\r\n                                    data-toggle=\"modal\"\r\n                                    data-target=\"#addBranch\"\r\n                                    onClick={() => {\r\n                                      setNewBranch({\r\n                                        ...newBranch,\r\n                                        edit: false,\r\n                                        uploading: false,\r\n                                      });\r\n                                    }}\r\n                                  >\r\n                                    {_t(t(\"add new\"))}\r\n                                  </button> : <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\"\r\n                                    onClick={() => {\r\n\r\n                                      // toast.error(`${_t(t(\"Please upgrad your plan\"))}`, {\r\n                                      toast.error(`Your limit has expired`, {\r\n                                        position: \"bottom-center\",\r\n                                        autoClose: 10000,\r\n                                        hideProgressBar: false,\r\n                                        closeOnClick: true,\r\n                                        pauseOnHover: true,\r\n                                        className: \"text-center toast-notification\",\r\n                                      });\r\n                                    }}\r\n                                  >\r\n                                    {_t(t(\"add new\"))}\r\n                                  </button>\r\n                                ] : [\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\"\r\n                                    data-toggle=\"modal\"\r\n                                    data-target=\"#addBranch\"\r\n                                    onClick={() => {\r\n                                      setNewBranch({\r\n                                        ...newBranch,\r\n                                        edit: false,\r\n                                        uploading: false,\r\n                                      });\r\n                                    }}\r\n                                  >\r\n                                    {_t(t(\"add new\"))}\r\n                                  </button>\r\n                                ]}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {/* Table */}\r\n                        <div className=\"table-responsive\">\r\n                          <table className=\"table table-bordered table-hover min-table-height\">\r\n                            <thead className=\"align-middle\">\r\n                              <tr>\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"S/L\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Name\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Address\"))}\r\n                                </th>\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Phn no\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Action\"))}\r\n                                </th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody className=\"align-middle\">\r\n                              {/* loop here, logic === !search && haveData && haveDataLegnth > 0*/}\r\n                              {!searchedBranch.searched\r\n                                ? [\r\n                                  branchList && [\r\n                                    branchList.data.length === 0 ? (\r\n                                      <tr className=\"align-middle\">\r\n                                        <td\r\n                                          scope=\"row\"\r\n                                          colSpan=\"6\"\r\n                                          className=\"xsm-text align-middle text-center\"\r\n                                        >\r\n                                          {_t(t(\"No data available\"))}\r\n                                        </td>\r\n                                      </tr>\r\n                                    ) : (\r\n                                      branchList.data.map((item, index) => {\r\n                                        return (\r\n                                          <tr\r\n                                            className=\"align-middle\"\r\n                                            key={index}\r\n                                          >\r\n                                            <th\r\n                                              scope=\"row\"\r\n                                              className=\"xsm-text text-capitalize align-middle text-center\"\r\n                                            >\r\n                                              {index +\r\n                                                1 +\r\n                                                (branchList.current_page -\r\n                                                  1) *\r\n                                                branchList.per_page}\r\n                                            </th>\r\n\r\n                                            <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                              {item.name}\r\n                                            </td>\r\n\r\n                                            <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                              {item.address || \"-\"}\r\n                                            </td>\r\n\r\n                                            <td className=\"xsm-text align-middle text-center\">\r\n                                              {item.phn_no ? (\r\n                                                <a\r\n                                                  href={`tel:${item.phn_no}`}\r\n                                                  rel=\"noopener noreferrer\"\r\n                                                >\r\n                                                  {item.phn_no}\r\n                                                </a>\r\n                                              ) : (\r\n                                                \"-\"\r\n                                              )}\r\n                                            </td>\r\n\r\n                                            <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                              <div className=\"dropdown\">\r\n                                                <button\r\n                                                  className=\"btn t-bg-clear t-text-dark--light-40\"\r\n                                                  type=\"button\"\r\n                                                  data-toggle=\"dropdown\"\r\n                                                >\r\n                                                  <i className=\"fa fa-ellipsis-h\"></i>\r\n                                                </button>\r\n                                                <div className=\"dropdown-menu\">\r\n                                                  <button\r\n                                                    className=\"dropdown-item sm-text text-capitalize\"\r\n                                                    onClick={() =>\r\n                                                      handleSetEdit(item.slug)\r\n                                                    }\r\n                                                    data-toggle=\"modal\"\r\n                                                    data-target=\"#addBranch\"\r\n                                                  >\r\n                                                    <span className=\"t-mr-8\">\r\n                                                      <i className=\"fa fa-pencil\"></i>\r\n                                                    </span>\r\n                                                    {_t(t(\"Edit\"))}\r\n                                                  </button>\r\n\r\n                                                  {SAAS_APPLICATION == \"YES\" ? null : [\r\n                                                    <button\r\n                                                      className=\"dropdown-item sm-text text-capitalize\"\r\n                                                      onClick={() => {\r\n                                                        handleDeleteConfirmation(\r\n                                                          item.slug\r\n                                                        );\r\n                                                      }}\r\n                                                    >\r\n                                                      <span className=\"t-mr-8\">\r\n                                                        <i className=\"fa fa-trash\"></i>\r\n                                                      </span>\r\n                                                      {_t(t(\"Delete\"))}\r\n                                                    </button>\r\n                                                  ]}\r\n                                                </div>\r\n                                              </div>\r\n                                            </td>\r\n                                          </tr>\r\n                                        );\r\n                                      })\r\n                                    ),\r\n                                  ],\r\n                                ]\r\n                                : [\r\n                                  /* searched data, logic === haveData*/\r\n                                  searchedBranch && [\r\n                                    searchedBranch.list.length === 0 ? (\r\n                                      <tr className=\"align-middle\">\r\n                                        <td\r\n                                          scope=\"row\"\r\n                                          colSpan=\"6\"\r\n                                          className=\"xsm-text align-middle text-center\"\r\n                                        >\r\n                                          {_t(t(\"No data available\"))}\r\n                                        </td>\r\n                                      </tr>\r\n                                    ) : (\r\n                                      searchedBranch.list.map(\r\n                                        (item, index) => {\r\n                                          return (\r\n                                            <tr\r\n                                              className=\"align-middle\"\r\n                                              key={index}\r\n                                            >\r\n                                              <th\r\n                                                scope=\"row\"\r\n                                                className=\"xsm-text text-capitalize align-middle text-center\"\r\n                                              >\r\n                                                {index +\r\n                                                  1 +\r\n                                                  (branchList.current_page -\r\n                                                    1) *\r\n                                                  branchList.per_page}\r\n                                              </th>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                {item.name}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                {item.address || \"-\"}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {item.phn_no ? (\r\n                                                  <a\r\n                                                    href={`tel:${item.phn_no}`}\r\n                                                    rel=\"noopener noreferrer\"\r\n                                                  >\r\n                                                    {item.phn_no}\r\n                                                  </a>\r\n                                                ) : (\r\n                                                  \"-\"\r\n                                                )}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <div className=\"dropdown\">\r\n                                                  <button\r\n                                                    className=\"btn t-bg-clear t-text-dark--light-40\"\r\n                                                    type=\"button\"\r\n                                                    data-toggle=\"dropdown\"\r\n                                                  >\r\n                                                    <i className=\"fa fa-ellipsis-h\"></i>\r\n                                                  </button>\r\n                                                  <div className=\"dropdown-menu\">\r\n                                                    <button\r\n                                                      className=\"dropdown-item sm-text text-capitalize\"\r\n                                                      onClick={() =>\r\n                                                        handleSetEdit(\r\n                                                          item.slug\r\n                                                        )\r\n                                                      }\r\n                                                      data-toggle=\"modal\"\r\n                                                      data-target=\"#addBranch\"\r\n                                                    >\r\n                                                      <span className=\"t-mr-8\">\r\n                                                        <i className=\"fa fa-pencil\"></i>\r\n                                                      </span>\r\n                                                      {_t(t(\"Edit\"))}\r\n                                                    </button>\r\n\r\n                                                    <button\r\n                                                      className=\"dropdown-item sm-text text-capitalize\"\r\n                                                      onClick={() => {\r\n                                                        handleDeleteConfirmation(\r\n                                                          item.slug\r\n                                                        );\r\n                                                      }}\r\n                                                    >\r\n                                                      <span className=\"t-mr-8\">\r\n                                                        <i className=\"fa fa-trash\"></i>\r\n                                                      </span>\r\n                                                      {_t(t(\"Delete\"))}\r\n                                                    </button>\r\n                                                  </div>\r\n                                                </div>\r\n                                              </td>\r\n                                            </tr>\r\n                                          );\r\n                                        }\r\n                                      )\r\n                                    ),\r\n                                  ],\r\n                                ]}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* pagination loading effect */}\r\n              {newBranch.uploading === true || loading === true\r\n                ? paginationLoading()\r\n                : [\r\n                  // logic === !searched\r\n                  !searchedBranch.searched ? (\r\n                    <div key=\"fragment4\">\r\n                      <div className=\"t-bg-white mt-1 t-pt-5 t-pb-5\">\r\n                        <div className=\"row align-items-center t-pl-15 t-pr-15\">\r\n                          <div className=\"col-md-7 t-mb-15 mb-md-0\">\r\n                            {/* pagination function */}\r\n                            {pagination(branchList, setPaginatedBranch)}\r\n                          </div>\r\n                          <div className=\"col-md-5\">\r\n                            <ul className=\"t-list d-flex justify-content-md-end align-items-center\">\r\n                              <li className=\"t-list__item\">\r\n                                <span className=\"d-inline-block sm-text\">\r\n                                  {showingData(branchList)}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    // if searched\r\n                    <div className=\"t-bg-white mt-1 t-pt-5 t-pb-5\">\r\n                      <div className=\"row align-items-center t-pl-15 t-pr-15\">\r\n                        <div className=\"col-md-7 t-mb-15 mb-md-0\">\r\n                          <ul className=\"t-list d-flex\">\r\n                            <li className=\"t-list__item no-pagination-style\">\r\n                              <button\r\n                                className=\"btn btn-primary btn-sm\"\r\n                                onClick={() =>\r\n                                  setSearchedBranch({\r\n                                    ...searchedBranch,\r\n                                    searched: false,\r\n                                  })\r\n                                }\r\n                              >\r\n                                {_t(t(\"Clear Search\"))}\r\n                              </button>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                        <div className=\"col-md-5\">\r\n                          <ul className=\"t-list d-flex justify-content-md-end align-items-center\">\r\n                            <li className=\"t-list__item\">\r\n                              <span className=\"d-inline-block sm-text\">\r\n                                {searchedShowingData(\r\n                                  searchedBranch,\r\n                                  branchForSearch\r\n                                )}\r\n                              </span>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ),\r\n                ]}\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BranchCrud;\r\n"]},"metadata":{},"sourceType":"module"}