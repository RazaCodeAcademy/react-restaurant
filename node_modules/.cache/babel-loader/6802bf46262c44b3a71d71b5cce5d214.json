{"ast":null,"code":"import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{NavLink}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../BaseUrl\";//functions\nimport{_t,getCookie}from\"../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import Skeleton from\"react-loading-skeleton\";import Moment from\"react-moment\";import Select from\"react-select\";import makeAnimated from\"react-select/animated\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{confirmAlert}from\"react-confirm-alert\";//importing context consumer here\nimport{RestaurantContext}from\"../../../../contexts/Restaurant\";import{FoodContext}from\"../../../../contexts/Food\";var Kitchen=function Kitchen(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useContext=useContext(RestaurantContext),getKitchenNewOrders=_useContext.getKitchenNewOrders,kithcenNewOrders=_useContext.kithcenNewOrders,setKithcenNewOrders=_useContext.setKithcenNewOrders,loading=_useContext.loading,setLoading=_useContext.setLoading;var _useContext2=useContext(FoodContext),foodGroupForSearch=_useContext2.foodGroupForSearch;//state hooks\nvar _useState=useState({isFiltered:false,filterKey:\"\",groups:null}),_useState2=_slicedToArray(_useState,2),filterOrder=_useState2[0],setFilterOrder=_useState2[1];//search result\nvar _useState3=useState({list:null,searched:false}),_useState4=_slicedToArray(_useState3,2),searchedOrder=_useState4[0],setSearchedOrder=_useState4[1];useEffect(function(){//get all orders when coming to kithcen\ngetKitchenNewOrders();//add \"All\" option to group filter\nvar tempFoodGroups=[];foodGroupForSearch&&foodGroupForSearch.map(function(item){if(item.name!==\"All\"){tempFoodGroups.push(item);}});//new option added to food group\ntempFoodGroups.unshift({name:\"All\"});setFilterOrder(_objectSpread(_objectSpread({},filterOrder),{},{groups:tempFoodGroups}));},[foodGroupForSearch]);//filter ordered items\nvar handleFilter=function handleFilter(foodGrp){setFilterOrder(_objectSpread(_objectSpread({},filterOrder),{},{isFiltered:foodGrp.name==\"All\"?false:true,filterKey:foodGrp.name}));};//search orders here\nvar handleSearch=function handleSearch(e){var searchInput=e.target.value.toLowerCase();if(searchInput.length===0){setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{searched:false}));}else{var searchedList=kithcenNewOrders&&kithcenNewOrders.filter(function(item){//token\nvar lowerCaseItemToken=JSON.stringify(item.token.id);return lowerCaseItemToken.includes(searchInput);});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:searchedList,searched:true}));}};//accept or reject\nvar handleAcceptOrReject=function handleAcceptOrReject(id){//front end accept-reject view update\nvar newState=kithcenNewOrders.map(function(orderItem){return orderItem.id===id?_objectSpread(_objectSpread({},orderItem),{},{is_accepted:parseInt(orderItem.is_accepted)===0?1:0}):orderItem;});setKithcenNewOrders(newState);//front end accept-reject view update for searched\nif(searchedOrder.searched){var newStateSearched=searchedOrder.list.map(function(orderItemSearched){return orderItemSearched.id===id?_objectSpread(_objectSpread({},orderItemSearched),{},{is_accepted:parseInt(orderItemSearched.is_accepted)===0?1:0}):orderItemSearched;});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:newStateSearched}));}//set on server\nvar url=BASE_URL+\"/settings/accept-new-order\";var formData={id:id};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(){}).catch(function(){//undo if any error happened\nnewState=newState.map(function(orderItem){return orderItem.id===id?_objectSpread(_objectSpread({},orderItem),{},{is_accepted:parseInt(orderItem.is_accepted)===0?1:0}):orderItem;});setKithcenNewOrders(newState);//undo if any error happened for searched\nif(searchedOrder.searched){var _newStateSearched=searchedOrder.list.map(function(orderItemSearched){return orderItemSearched.id===id?_objectSpread(_objectSpread({},orderItemSearched),{},{is_accepted:parseInt(orderItemSearched.is_accepted)===0?1:0}):orderItemSearched;});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:_newStateSearched}));}toast.error(\"\".concat(_t(t(\"Please refresh and try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//delete confirmation modal of waiter\nvar handleReadyConfirmation=function handleReadyConfirmation(id){confirmAlert({customUI:function customUI(_ref){var onClose=_ref.onClose;return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"h1\",null,_t(t(\"Are you sure?\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},_t(t(\"All items are cooked?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){handleReady(id);onClose();}},_t(t(\"YES, COOKED!\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success ml-2 px-3\",onClick:onClose},_t(t(\"NO\")))));}});};//make the order group ready here\nvar handleReady=function handleReady(id){setLoading(true);var url=BASE_URL+\"/settings/mark-all-items-ready\";var formData={id:id};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(){//remove ready item from order list\nvar newState=kithcenNewOrders.filter(function(orderItem){return orderItem.id!==id;});setKithcenNewOrders(newState);//remove ready item from search list\nif(searchedOrder.searched){var newSearchState=searchedOrder.list.filter(function(orderItemSearched){return orderItemSearched.id!==id;});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:newSearchState}));}setLoading(false);}).catch(function(){setLoading(false);toast.error(\"\".concat(_t(t(\"Please refresh and try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//make the order group ready here\nvar handleEachItemReady=function handleEachItemReady(orderGroupId,itemId){//to redo the action\nvar oldState=kithcenNewOrders;var oldSearchedState=searchedOrder.list;//new state\nvar orderGroup=kithcenNewOrders.find(function(orderItem){return orderItem.id===orderGroupId;});//updating the item's cooking status\nvar newItems=orderGroup.orderedItems.map(function(eachItem){return eachItem.id===itemId?_objectSpread(_objectSpread({},eachItem),{},{is_cooking:parseInt(eachItem.is_cooking)===0?1:0}):eachItem;});//set updated order list with item's status change\nvar newState=kithcenNewOrders.map(function(orderItem){return orderItem.id===orderGroupId?_objectSpread(_objectSpread({},orderItem),{},{is_accepted:1,orderedItems:newItems}):orderItem;});setKithcenNewOrders(newState);//searched list update\nif(searchedOrder.searched){//new searched state\nvar _orderGroup=searchedOrder.list.find(function(orderItem){return orderItem.id===orderGroupId;});var newItemsSearched=_orderGroup.orderedItems.map(function(eachItem){return eachItem.id===itemId?_objectSpread(_objectSpread({},eachItem),{},{is_cooking:parseInt(eachItem.is_cooking)===0?1:0}):eachItem;});var newStateSearched=searchedOrder.list.map(function(orderItem){return orderItem.id===orderGroupId?_objectSpread(_objectSpread({},orderItem),{},{is_accepted:1,orderedItems:newItemsSearched}):orderItem;});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:newStateSearched}));}//set server's item status\nvar url=BASE_URL+\"/settings/mark-order-item-ready\";var formData={orderGroupId:orderGroupId,id:itemId};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(){}).catch(function(){//undo if any error occured\nsetKithcenNewOrders(oldState);setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:oldSearchedState}));toast.error(\"\".concat(_t(t(\"Please refresh and try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Kitchen\")))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--index t-mt-15 t-mb-15\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white t-pt-10 t-pb-10 t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(loading&&\"loading\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-uppercase\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mr-2\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/img/cooking.png\",alt:\"cooking\",className:\"img-fluid\",style:{height:\"40px\",width:\"40px\"}})),/*#__PURE__*/React.createElement(\"span\",{className:\"mr-1\"},_t(t(\"kitchen\"))),\" \",_t(t(\"dashboard\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/kitchen/online\",onClick:function onClick(){getKitchenNewOrders();setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{searched:false}));},className:\"btn btn-secondary btn-block sm-text text-uppercase mb-2 mb-md-0 text-truncate\"},_t(t(\"Online Orders\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){getKitchenNewOrders();setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{searched:false}));},className:\"btn btn-primary btn-block sm-text text-uppercase mb-2 mb-md-0 text-truncate\"},_t(t(\"Refresh\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(Select,{options:filterOrder.groups&&filterOrder.groups,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text mb-2 mb-md-0 \",onChange:handleFilter,maxMenuHeight:\"200px\",placeholder:_t(t(\"Filter by group\"))+\"..\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0 form-control--light-1 rounded-0\",placeholder:_t(t(\"Search by token\"))+\"..\",onChange:handleSearch})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-search\",\"aria-hidden\":\"true\"})))))),!searchedOrder.searched?/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters g-4 mt-1\"},kithcenNewOrders?[kithcenNewOrders.length>0?kithcenNewOrders.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-xl-4\",\"data-category\":index+1},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token t-bg-white p-3 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token__footer text-right\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success xsm-text text-uppercase btn-lg mr-2\",onClick:function onClick(){return handleReadyConfirmation(item.id);}},_t(t(\"Order ready\"))),parseInt(item.is_accepted)===0?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary xsm-text text-uppercase btn-lg\",onClick:function onClick(){return handleAcceptOrReject(item.id);}},_t(t(\"Accept order\"))):/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase btn-lg\",onClick:function onClick(){return handleAcceptOrReject(item.id);}},_t(t(\"Make order pending\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token__body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__head d-flex justify-content-between px-3\"},/*#__PURE__*/React.createElement(\"span\",null,_t(t(\"order token\")),\": #\",item.token.id),/*#__PURE__*/React.createElement(\"span\",null,_t(t(\"ordered at\")),\":\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},item.token.time))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"S/L\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"food\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"Additional Info\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"QTY\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__body\"},item.orderedItems.map(function(thisItem,indexThisItem){if(filterOrder.isFiltered){if(thisItem.food_group===filterOrder.filterKey){return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\", \";}else{return propertyItem.property;}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center d-flex py-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox mx-checkbox--empty m-auto\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",checked:parseInt(thisItem.is_cooking)===1,onChange:function onChange(){handleEachItemReady(item.id,thisItem.id);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"})))));}}else{return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\", \";}else{return propertyItem.property;}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center d-flex py-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox mx-checkbox--empty m-auto\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",checked:parseInt(thisItem.is_cooking)===1,onChange:function onChange(){handleEachItemReady(item.id,thisItem.id);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"})))));}}))))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 offset-2\",\"data-category\":\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token t-bg-white p-5 text-center text-uppercase text-primary no-order\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/img/no-order.jpg\",alt:\"no order found\",className:\"img-fluid h-100\"})))]:/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\",\"data-category\":\"1\"},/*#__PURE__*/React.createElement(Skeleton,{className:\"fk-order-token t-bg-white p-3 border border-2\",style:{minHeight:\"560px\"}}))):/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters g-4 mt-1\"},searchedOrder?[searchedOrder.list.length>0?searchedOrder.list.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-xl-4\",\"data-category\":index+1},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token t-bg-white p-3 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token__footer text-right\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success xsm-text text-uppercase btn-lg mr-2\",onClick:function onClick(){return handleReadyConfirmation(item.id);}},_t(t(\"Order ready\"))),parseInt(item.is_accepted)===0?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary xsm-text text-uppercase btn-lg\",onClick:function onClick(){return handleAcceptOrReject(item.id);}},_t(t(\"Accept order\"))):/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase btn-lg\",onClick:function onClick(){return handleAcceptOrReject(item.id);}},_t(t(\"Make order pending\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token__body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__head d-flex justify-content-between px-3\"},/*#__PURE__*/React.createElement(\"span\",null,_t(t(\"order token\")),\": #\",item.token.id),/*#__PURE__*/React.createElement(\"span\",null,_t(t(\"ordered at\")),\":\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},item.token.time))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"S/L\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"food\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"Additional Info\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"QTY\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center py-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__body\"},item.orderedItems.map(function(thisItem,indexThisItem){if(filterOrder.isFiltered){if(thisItem.food_group===filterOrder.filterKey){return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\", \";}else{return propertyItem.property;}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center d-flex py-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox mx-checkbox--empty m-auto\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",checked:parseInt(thisItem.is_cooking)===1,onChange:function onChange(){handleEachItemReady(item.id,thisItem.id);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"})))));}}else{return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-3 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\", \";}else{return propertyItem.property;}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex py-2\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center d-flex py-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox mx-checkbox--empty m-auto\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",checked:parseInt(thisItem.is_cooking)===1,onChange:function onChange(){handleEachItemReady(item.id,thisItem.id);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"})))));}}))))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 offset-2\",\"data-category\":\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-order-token t-bg-white p-5 text-center text-uppercase text-primary no-order\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/img/no-order.jpg\",alt:\"no order found\",className:\"img-fluid h-100\"})))]:/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\",\"data-category\":\"1\"},/*#__PURE__*/React.createElement(Skeleton,{className:\"fk-order-token t-bg-white p-3 border border-2\",style:{minHeight:\"560px\"}})))))));};export default Kitchen;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/kitchen/Kitchen.js"],"names":["React","useEffect","useState","useContext","NavLink","axios","BASE_URL","_t","getCookie","useTranslation","Helmet","Skeleton","Moment","Select","makeAnimated","toast","confirmAlert","RestaurantContext","FoodContext","Kitchen","t","getKitchenNewOrders","kithcenNewOrders","setKithcenNewOrders","loading","setLoading","foodGroupForSearch","isFiltered","filterKey","groups","filterOrder","setFilterOrder","list","searched","searchedOrder","setSearchedOrder","tempFoodGroups","map","item","name","push","unshift","handleFilter","foodGrp","handleSearch","e","searchInput","target","value","toLowerCase","length","searchedList","filter","lowerCaseItemToken","JSON","stringify","token","id","includes","handleAcceptOrReject","newState","orderItem","is_accepted","parseInt","newStateSearched","orderItemSearched","url","formData","post","headers","Authorization","then","catch","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","handleReadyConfirmation","customUI","onClose","handleReady","newSearchState","handleEachItemReady","orderGroupId","itemId","oldState","oldSearchedState","orderGroup","find","newItems","orderedItems","eachItem","is_cooking","newItemsSearched","height","width","option","index","time","thisItem","indexThisItem","food_group","food_item","variation","properties","parse","propertyItem","thisIndex","property","quantity","minHeight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../BaseUrl\";\r\n\r\n//functions\r\nimport { _t, getCookie } from \"../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport Moment from \"react-moment\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\n\r\n//importing context consumer here\r\nimport { RestaurantContext } from \"../../../../contexts/Restaurant\";\r\nimport { FoodContext } from \"../../../../contexts/Food\";\r\n\r\nconst Kitchen = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const {\r\n    //kitchen dashboard\r\n    getKitchenNewOrders,\r\n    kithcenNewOrders,\r\n    setKithcenNewOrders,\r\n    loading,\r\n    setLoading,\r\n  } = useContext(RestaurantContext);\r\n\r\n  const {\r\n    //food group\r\n    foodGroupForSearch,\r\n  } = useContext(FoodContext);\r\n\r\n  //state hooks\r\n  const [filterOrder, setFilterOrder] = useState({\r\n    isFiltered: false,\r\n    filterKey: \"\",\r\n    groups: null,\r\n  });\r\n\r\n  //search result\r\n  const [searchedOrder, setSearchedOrder] = useState({\r\n    list: null,\r\n    searched: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    //get all orders when coming to kithcen\r\n    getKitchenNewOrders();\r\n\r\n    //add \"All\" option to group filter\r\n    let tempFoodGroups = [];\r\n    foodGroupForSearch &&\r\n      foodGroupForSearch.map((item) => {\r\n        if (item.name !== \"All\") {\r\n          tempFoodGroups.push(item);\r\n        }\r\n      });\r\n    //new option added to food group\r\n    tempFoodGroups.unshift({ name: \"All\" });\r\n    setFilterOrder({\r\n      ...filterOrder,\r\n      groups: tempFoodGroups,\r\n    });\r\n  }, [foodGroupForSearch]);\r\n\r\n  //filter ordered items\r\n  const handleFilter = (foodGrp) => {\r\n    setFilterOrder({\r\n      ...filterOrder,\r\n      isFiltered: foodGrp.name == \"All\" ? false : true,\r\n      filterKey: foodGrp.name,\r\n    });\r\n  };\r\n\r\n  //search orders here\r\n  const handleSearch = (e) => {\r\n    let searchInput = e.target.value.toLowerCase();\r\n    if (searchInput.length === 0) {\r\n      setSearchedOrder({ ...searchedOrder, searched: false });\r\n    } else {\r\n      let searchedList =\r\n        kithcenNewOrders &&\r\n        kithcenNewOrders.filter((item) => {\r\n          //token\r\n          let lowerCaseItemToken = JSON.stringify(item.token.id);\r\n\r\n          return lowerCaseItemToken.includes(searchInput);\r\n        });\r\n      setSearchedOrder({\r\n        ...searchedOrder,\r\n        list: searchedList,\r\n        searched: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  //accept or reject\r\n  const handleAcceptOrReject = (id) => {\r\n    //front end accept-reject view update\r\n    let newState = kithcenNewOrders.map((orderItem) =>\r\n      orderItem.id === id\r\n        ? {\r\n            ...orderItem,\r\n            is_accepted: parseInt(orderItem.is_accepted) === 0 ? 1 : 0,\r\n          }\r\n        : orderItem\r\n    );\r\n    setKithcenNewOrders(newState);\r\n\r\n    //front end accept-reject view update for searched\r\n    if (searchedOrder.searched) {\r\n      let newStateSearched = searchedOrder.list.map((orderItemSearched) =>\r\n        orderItemSearched.id === id\r\n          ? {\r\n              ...orderItemSearched,\r\n              is_accepted:\r\n                parseInt(orderItemSearched.is_accepted) === 0 ? 1 : 0,\r\n            }\r\n          : orderItemSearched\r\n      );\r\n      setSearchedOrder({\r\n        ...searchedOrder,\r\n        list: newStateSearched,\r\n      });\r\n    }\r\n\r\n    //set on server\r\n    const url = BASE_URL + \"/settings/accept-new-order\";\r\n    let formData = {\r\n      id,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then(() => {})\r\n      .catch(() => {\r\n        //undo if any error happened\r\n        newState = newState.map((orderItem) =>\r\n          orderItem.id === id\r\n            ? {\r\n                ...orderItem,\r\n                is_accepted: parseInt(orderItem.is_accepted) === 0 ? 1 : 0,\r\n              }\r\n            : orderItem\r\n        );\r\n        setKithcenNewOrders(newState);\r\n        //undo if any error happened for searched\r\n        if (searchedOrder.searched) {\r\n          let newStateSearched = searchedOrder.list.map((orderItemSearched) =>\r\n            orderItemSearched.id === id\r\n              ? {\r\n                  ...orderItemSearched,\r\n                  is_accepted:\r\n                    parseInt(orderItemSearched.is_accepted) === 0 ? 1 : 0,\r\n                }\r\n              : orderItemSearched\r\n          );\r\n          setSearchedOrder({\r\n            ...searchedOrder,\r\n            list: newStateSearched,\r\n          });\r\n        }\r\n        toast.error(`${_t(t(\"Please refresh and try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //delete confirmation modal of waiter\r\n  const handleReadyConfirmation = (id) => {\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className=\"card card-body\">\r\n            <h1>{_t(t(\"Are you sure?\"))}</h1>\r\n            <p className=\"text-center\">{_t(t(\"All items are cooked?\"))}</p>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  handleReady(id);\r\n                  onClose();\r\n                }}\r\n              >\r\n                {_t(t(\"YES, COOKED!\"))}\r\n              </button>\r\n              <button className=\"btn btn-success ml-2 px-3\" onClick={onClose}>\r\n                {_t(t(\"NO\"))}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      },\r\n    });\r\n  };\r\n\r\n  //make the order group ready here\r\n  const handleReady = (id) => {\r\n    setLoading(true);\r\n    const url = BASE_URL + \"/settings/mark-all-items-ready\";\r\n    let formData = {\r\n      id,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then(() => {\r\n        //remove ready item from order list\r\n        let newState = kithcenNewOrders.filter((orderItem) => {\r\n          return orderItem.id !== id;\r\n        });\r\n        setKithcenNewOrders(newState);\r\n\r\n        //remove ready item from search list\r\n        if (searchedOrder.searched) {\r\n          let newSearchState = searchedOrder.list.filter(\r\n            (orderItemSearched) => {\r\n              return orderItemSearched.id !== id;\r\n            }\r\n          );\r\n          setSearchedOrder({\r\n            ...searchedOrder,\r\n            list: newSearchState,\r\n          });\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        toast.error(`${_t(t(\"Please refresh and try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //make the order group ready here\r\n  const handleEachItemReady = (orderGroupId, itemId) => {\r\n    //to redo the action\r\n    let oldState = kithcenNewOrders;\r\n    let oldSearchedState = searchedOrder.list;\r\n\r\n    //new state\r\n    let orderGroup = kithcenNewOrders.find((orderItem) => {\r\n      return orderItem.id === orderGroupId;\r\n    });\r\n\r\n    //updating the item's cooking status\r\n    let newItems = orderGroup.orderedItems.map((eachItem) =>\r\n      eachItem.id === itemId\r\n        ? {\r\n            ...eachItem,\r\n            is_cooking: parseInt(eachItem.is_cooking) === 0 ? 1 : 0,\r\n          }\r\n        : eachItem\r\n    );\r\n\r\n    //set updated order list with item's status change\r\n    let newState = kithcenNewOrders.map((orderItem) =>\r\n      orderItem.id === orderGroupId\r\n        ? { ...orderItem, is_accepted: 1, orderedItems: newItems }\r\n        : orderItem\r\n    );\r\n    setKithcenNewOrders(newState);\r\n\r\n    //searched list update\r\n    if (searchedOrder.searched) {\r\n      //new searched state\r\n      let orderGroup = searchedOrder.list.find((orderItem) => {\r\n        return orderItem.id === orderGroupId;\r\n      });\r\n\r\n      let newItemsSearched = orderGroup.orderedItems.map((eachItem) =>\r\n        eachItem.id === itemId\r\n          ? {\r\n              ...eachItem,\r\n              is_cooking: parseInt(eachItem.is_cooking) === 0 ? 1 : 0,\r\n            }\r\n          : eachItem\r\n      );\r\n\r\n      let newStateSearched = searchedOrder.list.map((orderItem) =>\r\n        orderItem.id === orderGroupId\r\n          ? { ...orderItem, is_accepted: 1, orderedItems: newItemsSearched }\r\n          : orderItem\r\n      );\r\n      setSearchedOrder({\r\n        ...searchedOrder,\r\n        list: newStateSearched,\r\n      });\r\n    }\r\n\r\n    //set server's item status\r\n    const url = BASE_URL + \"/settings/mark-order-item-ready\";\r\n    let formData = {\r\n      orderGroupId: orderGroupId,\r\n      id: itemId,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then(() => {})\r\n      .catch(() => {\r\n        //undo if any error occured\r\n        setKithcenNewOrders(oldState);\r\n        setSearchedOrder({\r\n          ...searchedOrder,\r\n          list: oldSearchedState,\r\n        });\r\n        toast.error(`${_t(t(\"Please refresh and try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Kitchen\"))}</title>\r\n      </Helmet>\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"fk-scroll--index t-mt-15 t-mb-15\" data-simplebar>\r\n          <div className=\"container-fluid\">\r\n            <div className=\"t-bg-white t-pt-10 t-pb-10 t-pl-15 t-pr-15\">\r\n              {/* next page data spin loading */}\r\n              <div className={`${loading && \"loading\"}`}></div>\r\n              {/* spin loading ends */}\r\n              <div className=\"row gx-2 align-items-center\">\r\n                <div className=\"col-md-3 t-mb-15 mb-md-0\">\r\n                  <ul className=\"t-list fk-breadcrumb\">\r\n                    <li className=\"fk-breadcrumb__list\">\r\n                      <span className=\"t-link fk-breadcrumb__link text-uppercase\">\r\n                        <span className=\"mr-2\">\r\n                          <img\r\n                            src=\"/assets/img/cooking.png\"\r\n                            alt=\"cooking\"\r\n                            className=\"img-fluid\"\r\n                            style={{ height: \"40px\", width: \"40px\" }}\r\n                          />\r\n                        </span>\r\n                        <span className=\"mr-1\">{_t(t(\"kitchen\"))}</span>{\" \"}\r\n                        {_t(t(\"dashboard\"))}\r\n                      </span>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <NavLink\r\n                    to=\"/dashboard/kitchen/online\"\r\n                    onClick={() => {\r\n                      getKitchenNewOrders();\r\n                      setSearchedOrder({\r\n                        ...searchedOrder,\r\n                        searched: false,\r\n                      });\r\n                    }}\r\n                    className=\"btn btn-secondary btn-block sm-text text-uppercase mb-2 mb-md-0 text-truncate\"\r\n                  >\r\n                    {_t(t(\"Online Orders\"))}\r\n                  </NavLink>\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      getKitchenNewOrders();\r\n                      setSearchedOrder({\r\n                        ...searchedOrder,\r\n                        searched: false,\r\n                      });\r\n                    }}\r\n                    className=\"btn btn-primary btn-block sm-text text-uppercase mb-2 mb-md-0 text-truncate\"\r\n                  >\r\n                    {_t(t(\"Refresh\"))}\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <Select\r\n                    options={filterOrder.groups && filterOrder.groups}\r\n                    components={makeAnimated()}\r\n                    getOptionLabel={(option) => option.name}\r\n                    getOptionValue={(option) => option.name}\r\n                    classNamePrefix=\"select\"\r\n                    className=\"xsm-text mb-2 mb-md-0 \"\r\n                    onChange={handleFilter}\r\n                    maxMenuHeight=\"200px\"\r\n                    placeholder={_t(t(\"Filter by group\")) + \"..\"}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"col-md-3\">\r\n                  <div className=\"input-group\">\r\n                    <div className=\"form-file\">\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control border-0 form-control--light-1 rounded-0\"\r\n                        placeholder={_t(t(\"Search by token\")) + \"..\"}\r\n                        onChange={handleSearch}\r\n                      />\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" type=\"button\">\r\n                      <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {!searchedOrder.searched ? (\r\n              <div className=\"row no-gutters g-4 mt-1\">\r\n                {kithcenNewOrders ? (\r\n                  [\r\n                    kithcenNewOrders.length > 0 ? (\r\n                      kithcenNewOrders.map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            className=\"col-md-6 col-xl-4\"\r\n                            data-category={index + 1}\r\n                          >\r\n                            <div className=\"fk-order-token t-bg-white p-3 h-100\">\r\n                              <div className=\"fk-order-token__footer text-right\">\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className=\"btn btn-success xsm-text text-uppercase btn-lg mr-2\"\r\n                                  onClick={() =>\r\n                                    handleReadyConfirmation(item.id)\r\n                                  }\r\n                                >\r\n                                  {_t(t(\"Order ready\"))}\r\n                                </button>\r\n                                {parseInt(item.is_accepted) === 0 ? (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary xsm-text text-uppercase btn-lg\"\r\n                                    onClick={() =>\r\n                                      handleAcceptOrReject(item.id)\r\n                                    }\r\n                                  >\r\n                                    {_t(t(\"Accept order\"))}\r\n                                  </button>\r\n                                ) : (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary xsm-text text-uppercase btn-lg\"\r\n                                    onClick={() =>\r\n                                      handleAcceptOrReject(item.id)\r\n                                    }\r\n                                  >\r\n                                    {_t(t(\"Make order pending\"))}\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                              <div className=\"fk-order-token__body\">\r\n                                <div className=\"fk-addons-table\">\r\n                                  <div className=\"fk-addons-table__head d-flex justify-content-between px-3\">\r\n                                    <span>\r\n                                      {_t(t(\"order token\"))}: #{item.token.id}\r\n                                    </span>\r\n                                    <span>\r\n                                      {_t(t(\"ordered at\"))}:{\" \"}\r\n                                      <Moment format=\"LT\">\r\n                                        {item.token.time}\r\n                                      </Moment>\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"fk-addons-table__info\">\r\n                                    <div className=\"row g-0\">\r\n                                      <div className=\"col-2 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"S/L\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-3 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"food\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-4 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"Additional Info\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-2 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"QTY\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-1 text-center py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          <i className=\"fa fa-check\"></i>\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"fk-addons-table__body\">\r\n                                    {item.orderedItems.map(\r\n                                      (thisItem, indexThisItem) => {\r\n                                        if (filterOrder.isFiltered) {\r\n                                          if (\r\n                                            thisItem.food_group ===\r\n                                            filterOrder.filterKey\r\n                                          ) {\r\n                                            return (\r\n                                              <div class=\"fk-addons-table__body-row\">\r\n                                                <div class=\"row g-0\">\r\n                                                  <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {indexThisItem + 1}\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div class=\"col-3 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {thisItem.food_item} (\r\n                                                      {thisItem.food_group})\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div class=\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\">\r\n                                                    {thisItem.variation !==\r\n                                                      null && (\r\n                                                      <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                        <span class=\"font-weight-bold mr-1\">\r\n                                                          {_t(t(\"variation\"))}:\r\n                                                        </span>\r\n                                                        {thisItem.variation}\r\n                                                      </span>\r\n                                                    )}\r\n\r\n                                                    {thisItem.properties !==\r\n                                                      null && (\r\n                                                      <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                        <span class=\"font-weight-bold mr-1\">\r\n                                                          {_t(t(\"properties\"))}:\r\n                                                        </span>\r\n                                                        {JSON.parse(\r\n                                                          thisItem.properties\r\n                                                        ).map(\r\n                                                          (\r\n                                                            propertyItem,\r\n                                                            thisIndex\r\n                                                          ) => {\r\n                                                            if (\r\n                                                              thisIndex !==\r\n                                                              JSON.parse(\r\n                                                                thisItem.properties\r\n                                                              ).length -\r\n                                                                1\r\n                                                            ) {\r\n                                                              return (\r\n                                                                propertyItem.property +\r\n                                                                \", \"\r\n                                                              );\r\n                                                            } else {\r\n                                                              return propertyItem.property;\r\n                                                            }\r\n                                                          }\r\n                                                        )}\r\n                                                      </span>\r\n                                                    )}\r\n                                                  </div>\r\n                                                  <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {thisItem.quantity}\r\n                                                    </span>\r\n                                                  </div>\r\n\r\n                                                  <div className=\"col-1 text-center d-flex py-2\">\r\n                                                    <label className=\"mx-checkbox mx-checkbox--empty m-auto\">\r\n                                                      <input\r\n                                                        type=\"checkbox\"\r\n                                                        className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                                        checked={\r\n                                                          parseInt(\r\n                                                            thisItem.is_cooking\r\n                                                          ) === 1\r\n                                                        }\r\n                                                        onChange={() => {\r\n                                                          handleEachItemReady(\r\n                                                            item.id,\r\n                                                            thisItem.id\r\n                                                          );\r\n                                                        }}\r\n                                                      />\r\n                                                      <span className=\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"></span>\r\n                                                    </label>\r\n                                                  </div>\r\n                                                </div>\r\n                                              </div>\r\n                                            );\r\n                                          }\r\n                                        } else {\r\n                                          return (\r\n                                            <div class=\"fk-addons-table__body-row\">\r\n                                              <div class=\"row g-0\">\r\n                                                <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {indexThisItem + 1}\r\n                                                  </span>\r\n                                                </div>\r\n                                                <div class=\"col-3 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {thisItem.food_item} (\r\n                                                    {thisItem.food_group})\r\n                                                  </span>\r\n                                                </div>\r\n                                                <div class=\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\">\r\n                                                  {thisItem.variation !==\r\n                                                    null && (\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                      <span class=\"font-weight-bold mr-1\">\r\n                                                        {_t(t(\"variation\"))}:\r\n                                                      </span>\r\n                                                      {thisItem.variation}\r\n                                                    </span>\r\n                                                  )}\r\n\r\n                                                  {thisItem.properties !==\r\n                                                    null && (\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                      <span class=\"font-weight-bold mr-1\">\r\n                                                        {_t(t(\"properties\"))}:\r\n                                                      </span>\r\n                                                      {JSON.parse(\r\n                                                        thisItem.properties\r\n                                                      ).map(\r\n                                                        (\r\n                                                          propertyItem,\r\n                                                          thisIndex\r\n                                                        ) => {\r\n                                                          if (\r\n                                                            thisIndex !==\r\n                                                            JSON.parse(\r\n                                                              thisItem.properties\r\n                                                            ).length -\r\n                                                              1\r\n                                                          ) {\r\n                                                            return (\r\n                                                              propertyItem.property +\r\n                                                              \", \"\r\n                                                            );\r\n                                                          } else {\r\n                                                            return propertyItem.property;\r\n                                                          }\r\n                                                        }\r\n                                                      )}\r\n                                                    </span>\r\n                                                  )}\r\n                                                </div>\r\n                                                <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {thisItem.quantity}\r\n                                                  </span>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-1 text-center d-flex py-2\">\r\n                                                  <label className=\"mx-checkbox mx-checkbox--empty m-auto\">\r\n                                                    <input\r\n                                                      type=\"checkbox\"\r\n                                                      className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                                      checked={\r\n                                                        parseInt(\r\n                                                          thisItem.is_cooking\r\n                                                        ) === 1\r\n                                                      }\r\n                                                      onChange={() => {\r\n                                                        handleEachItemReady(\r\n                                                          item.id,\r\n                                                          thisItem.id\r\n                                                        );\r\n                                                      }}\r\n                                                    />\r\n                                                    <span className=\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"></span>\r\n                                                  </label>\r\n                                                </div>\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        }\r\n                                      }\r\n                                    )}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div className=\"col-8 offset-2\" data-category=\"1\">\r\n                        <div className=\"fk-order-token t-bg-white p-5 text-center text-uppercase text-primary no-order\">\r\n                          {/* No order in the kitchen */}\r\n                          <img\r\n                            src=\"/assets/img/no-order.jpg\"\r\n                            alt=\"no order found\"\r\n                            className=\"img-fluid h-100\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ),\r\n                  ]\r\n                ) : (\r\n                  <div className=\"col-12\" data-category=\"1\">\r\n                    <Skeleton\r\n                      className=\"fk-order-token t-bg-white p-3 border border-2\"\r\n                      style={{ minHeight: \"560px\" }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"row no-gutters g-4 mt-1\">\r\n                {searchedOrder ? (\r\n                  [\r\n                    searchedOrder.list.length > 0 ? (\r\n                      searchedOrder.list.map((item, index) => {\r\n                        return (\r\n                          <div\r\n                            className=\"col-md-6 col-xl-4\"\r\n                            data-category={index + 1}\r\n                          >\r\n                            <div className=\"fk-order-token t-bg-white p-3 h-100\">\r\n                              <div className=\"fk-order-token__footer text-right\">\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className=\"btn btn-success xsm-text text-uppercase btn-lg mr-2\"\r\n                                  onClick={() =>\r\n                                    handleReadyConfirmation(item.id)\r\n                                  }\r\n                                >\r\n                                  {_t(t(\"Order ready\"))}\r\n                                </button>\r\n                                {parseInt(item.is_accepted) === 0 ? (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary xsm-text text-uppercase btn-lg\"\r\n                                    onClick={() =>\r\n                                      handleAcceptOrReject(item.id)\r\n                                    }\r\n                                  >\r\n                                    {_t(t(\"Accept order\"))}\r\n                                  </button>\r\n                                ) : (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary xsm-text text-uppercase btn-lg\"\r\n                                    onClick={() =>\r\n                                      handleAcceptOrReject(item.id)\r\n                                    }\r\n                                  >\r\n                                    {_t(t(\"Make order pending\"))}\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                              <div className=\"fk-order-token__body\">\r\n                                <div className=\"fk-addons-table\">\r\n                                  <div className=\"fk-addons-table__head d-flex justify-content-between px-3\">\r\n                                    <span>\r\n                                      {_t(t(\"order token\"))}: #{item.token.id}\r\n                                    </span>\r\n                                    <span>\r\n                                      {_t(t(\"ordered at\"))}:{\" \"}\r\n                                      <Moment format=\"LT\">\r\n                                        {item.token.time}\r\n                                      </Moment>\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"fk-addons-table__info\">\r\n                                    <div className=\"row g-0\">\r\n                                      <div className=\"col-2 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"S/L\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-3 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"food\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-4 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"Additional Info\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-2 text-center border-right py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          {_t(t(\"QTY\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-1 text-center py-2\">\r\n                                        <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                          <i className=\"fa fa-check\"></i>\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"fk-addons-table__body\">\r\n                                    {item.orderedItems.map(\r\n                                      (thisItem, indexThisItem) => {\r\n                                        if (filterOrder.isFiltered) {\r\n                                          if (\r\n                                            thisItem.food_group ===\r\n                                            filterOrder.filterKey\r\n                                          ) {\r\n                                            return (\r\n                                              <div class=\"fk-addons-table__body-row\">\r\n                                                <div class=\"row g-0\">\r\n                                                  <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {indexThisItem + 1}\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div class=\"col-3 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {thisItem.food_item} (\r\n                                                      {thisItem.food_group})\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div class=\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\">\r\n                                                    {thisItem.variation !==\r\n                                                      null && (\r\n                                                      <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                        <span class=\"font-weight-bold mr-1\">\r\n                                                          {_t(t(\"variation\"))}:\r\n                                                        </span>\r\n                                                        {thisItem.variation}\r\n                                                      </span>\r\n                                                    )}\r\n\r\n                                                    {thisItem.properties !==\r\n                                                      null && (\r\n                                                      <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                        <span class=\"font-weight-bold mr-1\">\r\n                                                          {_t(t(\"properties\"))}:\r\n                                                        </span>\r\n                                                        {JSON.parse(\r\n                                                          thisItem.properties\r\n                                                        ).map(\r\n                                                          (\r\n                                                            propertyItem,\r\n                                                            thisIndex\r\n                                                          ) => {\r\n                                                            if (\r\n                                                              thisIndex !==\r\n                                                              JSON.parse(\r\n                                                                thisItem.properties\r\n                                                              ).length -\r\n                                                                1\r\n                                                            ) {\r\n                                                              return (\r\n                                                                propertyItem.property +\r\n                                                                \", \"\r\n                                                              );\r\n                                                            } else {\r\n                                                              return propertyItem.property;\r\n                                                            }\r\n                                                          }\r\n                                                        )}\r\n                                                      </span>\r\n                                                    )}\r\n                                                  </div>\r\n                                                  <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                      {thisItem.quantity}\r\n                                                    </span>\r\n                                                  </div>\r\n\r\n                                                  <div className=\"col-1 text-center d-flex py-2\">\r\n                                                    <label className=\"mx-checkbox mx-checkbox--empty m-auto\">\r\n                                                      <input\r\n                                                        type=\"checkbox\"\r\n                                                        className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                                        checked={\r\n                                                          parseInt(\r\n                                                            thisItem.is_cooking\r\n                                                          ) === 1\r\n                                                        }\r\n                                                        onChange={() => {\r\n                                                          handleEachItemReady(\r\n                                                            item.id,\r\n                                                            thisItem.id\r\n                                                          );\r\n                                                        }}\r\n                                                      />\r\n                                                      <span className=\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"></span>\r\n                                                    </label>\r\n                                                  </div>\r\n                                                </div>\r\n                                              </div>\r\n                                            );\r\n                                          }\r\n                                        } else {\r\n                                          return (\r\n                                            <div class=\"fk-addons-table__body-row\">\r\n                                              <div class=\"row g-0\">\r\n                                                <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {indexThisItem + 1}\r\n                                                  </span>\r\n                                                </div>\r\n                                                <div class=\"col-3 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {thisItem.food_item} (\r\n                                                    {thisItem.food_group})\r\n                                                  </span>\r\n                                                </div>\r\n                                                <div class=\"col-4 text-center border-right t-pl-10 t-pr-10 py-2\">\r\n                                                  {thisItem.variation !==\r\n                                                    null && (\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                      <span class=\"font-weight-bold mr-1\">\r\n                                                        {_t(t(\"variation\"))}:\r\n                                                      </span>\r\n                                                      {thisItem.variation}\r\n                                                    </span>\r\n                                                  )}\r\n\r\n                                                  {thisItem.properties !==\r\n                                                    null && (\r\n                                                    <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                      <span class=\"font-weight-bold mr-1\">\r\n                                                        {_t(t(\"properties\"))}:\r\n                                                      </span>\r\n                                                      {JSON.parse(\r\n                                                        thisItem.properties\r\n                                                      ).map(\r\n                                                        (\r\n                                                          propertyItem,\r\n                                                          thisIndex\r\n                                                        ) => {\r\n                                                          if (\r\n                                                            thisIndex !==\r\n                                                            JSON.parse(\r\n                                                              thisItem.properties\r\n                                                            ).length -\r\n                                                              1\r\n                                                          ) {\r\n                                                            return (\r\n                                                              propertyItem.property +\r\n                                                              \", \"\r\n                                                            );\r\n                                                          } else {\r\n                                                            return propertyItem.property;\r\n                                                          }\r\n                                                        }\r\n                                                      )}\r\n                                                    </span>\r\n                                                  )}\r\n                                                </div>\r\n                                                <div class=\"col-2 text-center border-right d-flex py-2\">\r\n                                                  <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                                    {thisItem.quantity}\r\n                                                  </span>\r\n                                                </div>\r\n\r\n                                                <div className=\"col-1 text-center d-flex py-2\">\r\n                                                  <label className=\"mx-checkbox mx-checkbox--empty m-auto\">\r\n                                                    <input\r\n                                                      type=\"checkbox\"\r\n                                                      className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                                      checked={\r\n                                                        parseInt(\r\n                                                          thisItem.is_cooking\r\n                                                        ) === 1\r\n                                                      }\r\n                                                      onChange={() => {\r\n                                                        handleEachItemReady(\r\n                                                          item.id,\r\n                                                          thisItem.id\r\n                                                        );\r\n                                                      }}\r\n                                                    />\r\n                                                    <span className=\"mx-checkbox__text text-capitalize t-text-heading fk-addons-table__body-text\"></span>\r\n                                                  </label>\r\n                                                </div>\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        }\r\n                                      }\r\n                                    )}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <div className=\"col-8 offset-2\" data-category=\"1\">\r\n                        <div className=\"fk-order-token t-bg-white p-5 text-center text-uppercase text-primary no-order\">\r\n                          {/* No order in the kitchen */}\r\n                          <img\r\n                            src=\"/assets/img/no-order.jpg\"\r\n                            alt=\"no order found\"\r\n                            className=\"img-fluid h-100\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ),\r\n                  ]\r\n                ) : (\r\n                  <div className=\"col-12\" data-category=\"1\">\r\n                    <Skeleton\r\n                      className=\"fk-order-token t-bg-white p-3 border border-2\"\r\n                      style={{ minHeight: \"560px\" }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Kitchen;\r\n"]},"metadata":{},"sourceType":"module"}