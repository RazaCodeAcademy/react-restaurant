{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{NavLink,useHistory,useParams}from\"react-router-dom\";//jQuery initialization\nimport $ from\"jquery\";//functions\nimport{_t,getCookie,getSystemSettings}from\"../../functions/Functions\";import{useTranslation}from\"react-i18next\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../BaseUrl\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";//context consumer\nimport{SettingsContext}from\"../../contexts/Settings\";var NotFound=function NotFound(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();var _useParams=useParams(),token=_useParams.token;//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading,generalSettings=_useContext.generalSettings;//state hooks here\nvar _useState=useState({token:token,email:null,password:\"\",password_confirmation:\"\"}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];useEffect(function(){handleJquery();},[]);//jQuery\nvar handleJquery=function handleJquery(){//obj Image Animation\nvar hoverLayer=$(\"body\");var objImgOne=$(\".fk-global-img__obj\");//Animation Init\nhoverLayer.mousemove(function(e){var valueX=e.pageX*-1/60;var valueY=e.pageY*-1/80;if(objImgOne.length){objImgOne.css({transform:\"translate3d(\"+valueX+\"px,\"+valueY+\"px, 0)\"});}});};//redirect if logged in\nvar checkAuth=function checkAuth(){getCookie()!==undefined&&history.replace(\"/dashboard\");};//set credentials here on input change\nvar handleCredentials=function handleCredentials(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));};//submit credentials to server to send token to email\nvar handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);var url=BASE_URL+\"/auth/setNewPassword\";return axios.post(url,credentials).then(function(res){if(res.data===\"noUser\"){toast.error(\"\".concat(_t(t(\"Sorry, email does not match or the link has been expired\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}if(res.data===\"ok\"){toast.success(\"\".concat(_t(t(\"Please login to continue\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});history.push(\"/login\");}setLoading(false);}).catch(function(error){setLoading(false);if(error.response.data.errors.password){error.response.data.errors.password.forEach(function(item){if(item===\"The password confirmation does not match.\"){toast.error(\"\".concat(_t(t(\"Password confirmation does not match\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}if(item===\"The password must be at least 6 characters.\"){toast.error(\"\".concat(_t(t(\"The password must be at least 6 characters\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}});}});};var style={logo:{backgroundColor:\"none\",// generalSettings &&\n// getSystemSettings(generalSettings, \"type_background\"),\nbackgroundImage:generalSettings&&\"url(\".concat(getSystemSettings(generalSettings,\"type_logo\"),\")\")}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"404\")))),/*#__PURE__*/React.createElement(\"main\",{class:\"fk-page-404\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-page-404__img mt-auto\"},/*#__PURE__*/React.createElement(\"div\",{class:\"container\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/img/404.png\",class:\"img-fluid\"}))))),/*#__PURE__*/React.createElement(\"div\",{class:\"fk-page-404__return-home t-mt-30 mb-auto\"},/*#__PURE__*/React.createElement(\"div\",{class:\"container\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 text-center\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/\",class:\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-primary xsm-text text-uppercase text-center\"},\"go to homepage\")))))));};export default NotFound;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/common/NotFound.js"],"names":["React","useEffect","useState","useContext","NavLink","useHistory","useParams","$","_t","getCookie","getSystemSettings","useTranslation","axios","BASE_URL","Helmet","toast","SettingsContext","NotFound","t","history","token","loading","setLoading","generalSettings","email","password","password_confirmation","credentials","setCredentials","handleJquery","hoverLayer","objImgOne","mousemove","e","valueX","pageX","valueY","pageY","length","css","transform","checkAuth","undefined","replace","handleCredentials","target","name","value","handleSubmit","preventDefault","url","post","then","res","data","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","success","push","catch","response","errors","forEach","item","style","logo","backgroundColor","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport { NavLink, useHistory, useParams } from \"react-router-dom\";\r\n\r\n//jQuery initialization\r\nimport $ from \"jquery\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  getSystemSettings,\r\n} from \"../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../BaseUrl\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../contexts/Settings\";\r\n\r\nconst NotFound = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const { token } = useParams();\r\n\r\n  //getting context values here\r\n  let { loading, setLoading, generalSettings } = useContext(SettingsContext);\r\n\r\n  //state hooks here\r\n  const [credentials, setCredentials] = useState({\r\n    token: token,\r\n    email: null,\r\n    password: \"\",\r\n    password_confirmation: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    handleJquery();\r\n  }, []);\r\n\r\n  //jQuery\r\n  const handleJquery = () => {\r\n    //obj Image Animation\r\n    var hoverLayer = $(\"body\");\r\n    var objImgOne = $(\".fk-global-img__obj\");\r\n\r\n    //Animation Init\r\n    hoverLayer.mousemove(function (e) {\r\n      var valueX = (e.pageX * -1) / 60;\r\n      var valueY = (e.pageY * -1) / 80;\r\n      if (objImgOne.length) {\r\n        objImgOne.css({\r\n          transform: \"translate3d(\" + valueX + \"px,\" + valueY + \"px, 0)\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  //redirect if logged in\r\n  const checkAuth = () => {\r\n    getCookie() !== undefined && history.replace(\"/dashboard\");\r\n  };\r\n\r\n  //set credentials here on input change\r\n  const handleCredentials = (e) => {\r\n    setCredentials({\r\n      ...credentials,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  //submit credentials to server to send token to email\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const url = BASE_URL + \"/auth/setNewPassword\";\r\n    return axios\r\n      .post(url, credentials)\r\n      .then((res) => {\r\n        if (res.data === \"noUser\") {\r\n          toast.error(\r\n            `${_t(\r\n              t(\"Sorry, email does not match or the link has been expired\")\r\n            )}`,\r\n            {\r\n              position: \"bottom-center\",\r\n              autoClose: 10000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              className: \"text-center toast-notification\",\r\n            }\r\n          );\r\n        }\r\n        if (res.data === \"ok\") {\r\n          toast.success(`${_t(t(\"Please login to continue\"))}`, {\r\n            position: \"bottom-center\",\r\n            autoClose: 10000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            className: \"text-center toast-notification\",\r\n          });\r\n          history.push(\"/login\");\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        if (error.response.data.errors.password) {\r\n          error.response.data.errors.password.forEach((item) => {\r\n            if (item === \"The password confirmation does not match.\") {\r\n              toast.error(`${_t(t(\"Password confirmation does not match\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            }\r\n            if (item === \"The password must be at least 6 characters.\") {\r\n              toast.error(\r\n                `${_t(t(\"The password must be at least 6 characters\"))}`,\r\n                {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                }\r\n              );\r\n            }\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  const style = {\r\n    logo: {\r\n      backgroundColor: \"none\",\r\n      // generalSettings &&\r\n      // getSystemSettings(generalSettings, \"type_background\"),\r\n      backgroundImage:\r\n        generalSettings &&\r\n        `url(${getSystemSettings(generalSettings, \"type_logo\")})`,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"404\"))}</title>\r\n      </Helmet>\r\n      <main class=\"fk-page-404\">\r\n        <div class=\"fk-page-404__img mt-auto\">\r\n          <div class=\"container\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 text-center\">\r\n                <img src=\"/assets/img/404.png\" class=\"img-fluid\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"fk-page-404__return-home t-mt-30 mb-auto\">\r\n          <div class=\"container\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 text-center\">\r\n                <NavLink\r\n                  to=\"/\"\r\n                  class=\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-primary xsm-text text-uppercase text-center\"\r\n                >\r\n                  go to homepage\r\n                </NavLink>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n"]},"metadata":{},"sourceType":"module"}