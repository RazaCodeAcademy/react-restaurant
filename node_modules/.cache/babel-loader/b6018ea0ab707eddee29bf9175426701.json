{"ast":null,"code":"import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState}from\"react\";import{useHistory}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../../BaseUrl\";//functions\nimport{_t,getCookie,tableLoading}from\"../../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Switch from\"react-switch\";//pages & includes\nimport ManageSidebar from\"../ManageSidebar\";//context consumer\nimport{SettingsContext}from\"../../../../../contexts/Settings\";var ShowManageStock=function ShowManageStock(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading,dataPaginating=_useContext.dataPaginating;// States hook here\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];// on change send req\nvar handleChange=function handleChange(newChecked){setChecked(newChecked);};var handleSubmit=function handleSubmit(e){e.preventDefault();var url=BASE_URL+\"/settings/show-manage-stock-settings\";var formData=new FormData();formData.append('checked',checked);return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){toast.success(\"\".concat(_t(t(\"menu has changed successfully\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};// update\nvar updateCheckValue=function updateCheckValue(){var url=BASE_URL+\"/settings/show-manage-stock-menu-info\";axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){if(res.data.length==0||res.data[0].value==1){setChecked(true);}else{setChecked(false);}});};// useEffect == componentDidMount()\nuseEffect(function(){updateCheckValue();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Manage Stock Menu\")))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(ManageSidebar,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--pos-menu table-bottom-info-hide\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),loading===true?tableLoading():/*#__PURE__*/React.createElement(\"div\",{key:\"smtp-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center t-pt-15 t-pb-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-5 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-capitalize\"},_t(t(\"Show Manage Stock\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3 align-items-center\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row card p-2 mx-3 sm-text my-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover min-table-height\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Menu Name\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"show-menu\"))))),/*#__PURE__*/React.createElement(\"tbody\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},\"Manage stock\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:\"d-flex justify-content-around\"},/*#__PURE__*/React.createElement(Switch,{onChange:handleChange,checked:checked,className:\"react-switch\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\"},\"Update\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-4\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Key points to note :\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger mt-4\"},\"Disabling the manage stock will allow you to get \",/*#__PURE__*/React.createElement(\"strong\",{className:\"text-uppercase\"},\"unlimited quantity\"),\" of order from POS and Landing page and hide the \",/*#__PURE__*/React.createElement(\"strong\",{className:\"text-uppercase\"},\"MANAGE STOCK\"),\" menu from sidebar. Refresh the page after enabling manage stock if needed\"))))))))))))));};export default ShowManageStock;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/settings/ShowManageStock.js"],"names":["React","useEffect","useContext","useState","useHistory","axios","BASE_URL","_t","getCookie","tableLoading","useTranslation","Helmet","toast","Switch","ManageSidebar","SettingsContext","ShowManageStock","t","history","loading","setLoading","dataPaginating","checked","setChecked","handleChange","newChecked","handleSubmit","e","preventDefault","url","formData","FormData","append","post","headers","Authorization","then","res","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","updateCheckValue","get","data","length","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport Switch from \"react-switch\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\n\r\nconst ShowManageStock = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n\r\n  //getting context values here\r\n  let {\r\n    loading,\r\n    setLoading,\r\n    dataPaginating,\r\n  } = useContext(SettingsContext);\r\n\r\n  // States hook here\r\n  const [checked, setChecked] = useState(true);\r\n  // on change send req\r\n  const handleChange = (newChecked) => {\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const url = BASE_URL + `/settings/show-manage-stock-settings`;\r\n    let formData = new FormData();\r\n    formData.append('checked', checked);\r\n\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        toast.success(`${_t(t(\"menu has changed successfully\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n  }\r\n\r\n  // update\r\n  const updateCheckValue = () => {\r\n    const url = BASE_URL + `/settings/show-manage-stock-menu-info`;\r\n    axios.get(url, {\r\n      headers: { Authorization: `Bearer ${getCookie()}` },\r\n    }).then((res) => {\r\n\r\n      if (res.data.length == 0 || res.data[0].value == 1) {\r\n        setChecked(true);\r\n      } else {\r\n        setChecked(false);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // useEffect == componentDidMount()\r\n  useEffect(() => {\r\n    updateCheckValue();\r\n\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Manage Stock Menu\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                  {_t(t(\"Show Manage Stock\"))}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\"></div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Form starts here */}\r\n                        <div\r\n                          className=\"row card p-2 mx-3 sm-text my-2\"\r\n\r\n                        >\r\n                          <div className=\"col-12\">\r\n\r\n                            <div className=\"table-responsive\">\r\n                              <table className=\"table table-bordered table-hover min-table-height\">\r\n                                <thead className=\"align-middle\">\r\n                                  <tr>\r\n                                    <th\r\n                                      scope=\"col\"\r\n                                      className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                    >\r\n                                      {_t(t(\"Menu Name\"))}\r\n                                    </th>\r\n\r\n                                    <th\r\n                                      scope=\"col\"\r\n                                      className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                    >\r\n                                      {_t(t(\"show-menu\"))}\r\n                                    </th>\r\n                                  </tr>\r\n                                </thead>\r\n                                <tbody className=\"align-middle\">\r\n                                  <tr>\r\n                                    <th scope=\"col\"\r\n                                      className=\"sm-text text-capitalize align-middle text-center border-1 border\">Manage stock</th>\r\n                                    <th scope=\"col\"\r\n                                      className=\"sm-text text-capitalize align-middle text-center border-1 border\">\r\n                                      <div>\r\n                                        <form onSubmit={handleSubmit} className=\"d-flex justify-content-around\">\r\n                                          <Switch\r\n                                            onChange={handleChange}\r\n                                            checked={checked}\r\n                                            className=\"react-switch\"\r\n                                          />\r\n                                          <button className=\"btn btn-danger\">Update</button>\r\n                                        </form>\r\n                                      </div>\r\n                                    </th>\r\n                                  </tr>\r\n                                </tbody>\r\n                              </table>\r\n                              <div className=\"mt-4\">\r\n                                <h5>Key points to note :</h5>\r\n                                <p className=\"text-danger mt-4\">Disabling the manage stock will allow you to get <strong className=\"text-uppercase\">unlimited quantity</strong> of order from POS and Landing page and hide the <strong className=\"text-uppercase\">MANAGE STOCK</strong> menu from sidebar. Refresh the page after enabling manage stock if needed</p>\r\n                              </div>\r\n                            </div>\r\n\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShowManageStock;\r\n"]},"metadata":{},"sourceType":"module"}