{"ast":null,"code":"var _jsxFileName = \"/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/food/FoodItemCrud.js\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\"; //axios and base url\n\nimport axios from \"axios\";\nimport { BASE_URL, SAAS_APPLICATION, saas_apiUrl, saas_apiParams, saas_form_data } from \"../../../../../BaseUrl\"; //functions\n\nimport { _t, getCookie, tableLoading } from \"../../../../../functions/Functions\";\nimport { useTranslation } from \"react-i18next\"; //3rd party packages\n\nimport { Helmet } from \"react-helmet\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Select from \"react-select\";\nimport makeAnimated from \"react-select/animated\"; //pages & includes\n\nimport ManageSidebar from \"../ManageSidebar\"; //context consumer\n\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\nimport { FoodContext } from \"../../../../../contexts/Food\";\nimport Expired from \"../../../../../saasHelper/Expired\";\nimport SaasApiFailure from \"../../../../../saasHelper/saasApiFailure\";\n\nconst FoodItemCrud = () => {\n  const {\n    t\n  } = useTranslation();\n  const history = useHistory(); //getting context values here\n\n  let {\n    loading,\n    setLoading,\n    dataPaginating\n  } = useContext(SettingsContext);\n  let [apiFailed, setApiFailed] = useState(false);\n  let {\n    setFoodForSearch,\n    foodGroupForSearch,\n    propertyGroupForSearch,\n    variationForSearch\n  } = useContext(FoodContext); // States hook here\n  //new item\n\n  let [newItem, setNewItem] = useState({\n    itemGroup: null,\n    name: \"\",\n    price: \"\",\n    image: null,\n    hasProperty: false,\n    properties: null,\n    hasVariation: false,\n    isSpecial: false,\n    variations: null\n  });\n  let [priceForVariations, setPriceForVariations] = useState(null); // saas integration\n\n  let [hasSaasLimit, setHasSaasLimit] = useState(true); // const SaasContext = React.createContext();\n\n  const decrementSaasItem = () => {\n    // after send api req decremeny by one\n    const url = saas_apiUrl + '/api/user-item-limit-decrement'; // replace with base url (prince.thetestserver.xyz)\n\n    axios.post(url, saas_form_data).then(res => {\n      console.log(res);\n    }).catch(() => {\n      return 'NO data';\n    });\n  }; // saas integration\n\n\n  useEffect(() => {\n    if (SAAS_APPLICATION == 'YES') {\n      // check  saas limit item\n      const checkHaslimit = () => {\n        const url = saas_apiUrl + '/api/user-item-limit-check?' + saas_apiParams; // replace with base url (prince.thetestserver.xyz)\n\n        axios.get(url).then(res => {\n          {\n            res.data == 'HAS-LIMIT' ? setHasSaasLimit(true) : setHasSaasLimit(false);\n          } // console.log('this is from state value : ', hasSaasLimit);\n        }).catch(() => {\n          setApiFailed(true);\n        });\n      };\n\n      const saastoken = setInterval(checkHaslimit, 1000);\n      checkHaslimit();\n      return () => {\n        //  cleanup the interval when this effect is loaded.\n        clearInterval(saastoken);\n      };\n    }\n  }, []); //on change input field\n\n  const handleChange = e => {\n    setNewItem({ ...newItem,\n      [e.target.name]: e.target.value\n    });\n  }; //set image hook\n\n\n  const handleItemImage = e => {\n    setNewItem({ ...newItem,\n      [e.target.name]: e.target.files[0]\n    });\n  }; //set properties hook\n\n\n  const handleSetPropertes = properties => {\n    setNewItem({ ...newItem,\n      properties\n    });\n  }; //set variations hook\n\n\n  const handleSetVariations = variations => {\n    setNewItem({ ...newItem,\n      variations\n    });\n  }; //set each variation price\n\n\n  const handleVariationPrice = e => {\n    setPriceForVariations({ ...priceForVariations,\n      [e.target.name]: e.target.value\n    });\n  }; //handle Set item group hook\n\n\n  const handleSetItemGroup = itemGroup => {\n    setNewItem({ ...newItem,\n      itemGroup\n    });\n  }; //has Property\n\n\n  const handlePropertyCheckboxChange = e => {\n    if (newItem.hasProperty === true) {\n      setNewItem({ ...newItem,\n        properties: null,\n        hasProperty: !newItem.hasProperty\n      });\n    } else {\n      setNewItem({ ...newItem,\n        hasProperty: !newItem.hasProperty\n      });\n    }\n  }; //has variations\n\n\n  const handleVariationCheckboxChange = e => {\n    if (newItem.hasVariation === true) {\n      setNewItem({ ...newItem,\n        variations: null,\n        hasVariation: !newItem.hasVariation\n      });\n    } else {\n      setNewItem({ ...newItem,\n        hasVariation: !newItem.hasVariation\n      });\n    }\n  }; //is special\n\n\n  const handleSpecialCheckboxChange = e => {\n    setNewItem({ ...newItem,\n      isSpecial: !newItem.isSpecial\n    });\n  }; //post req of food item add\n\n\n  const foodItemAxios = () => {\n    setLoading(true);\n\n    if (SAAS_APPLICATION == 'YES') {\n      decrementSaasItem();\n    }\n\n    let formData = new FormData();\n    formData.append(\"food_group_id\", newItem.itemGroup.id);\n    formData.append(\"name\", newItem.name);\n    formData.append(\"hasProperty\", newItem.hasProperty === true ? 1 : 0);\n\n    if (newItem.hasProperty === true) {\n      formData.append(\"hasProperty\", 1);\n      let tempArray = [];\n      newItem.properties.map(pItem => {\n        tempArray.push(pItem.id);\n      });\n      formData.append(\"properties\", tempArray);\n    }\n\n    formData.append(\"hasVariation\", newItem.hasVariation === true ? 1 : 0);\n    formData.append(\"isSpecial\", newItem.isSpecial === true ? 1 : 0);\n\n    if (newItem.hasVariation === false) {\n      formData.append(\"price\", newItem.price);\n    } else {\n      //converting variations and prices to array\n      let slugArray = [];\n      newItem.variations.map(newVarItem => {\n        slugArray.push(newVarItem.slug);\n      });\n      slugArray.map(slugItem => {\n        formData.append(\"slugOfVariations[]\", slugItem);\n      });\n      let tempData = Object.entries(priceForVariations);\n      tempData.map(item => {\n        formData.append(\"variations[]\", item);\n      });\n    }\n\n    formData.append(\"image\", newItem.image);\n    const url = BASE_URL + \"/settings/new-food-item\";\n    return axios.post(url, formData, {\n      headers: {\n        Authorization: `Bearer ${getCookie()}`\n      }\n    }).then(res => {\n      setFoodForSearch(res.data[1]);\n      setNewItem({\n        itemGroup: null,\n        name: \"\",\n        price: \"\",\n        image: null,\n        hasProperty: false,\n        properties: null,\n        hasVariation: false,\n        isSpecial: false,\n        variations: null\n      });\n      setLoading(false);\n      toast.success(`${_t(t(\"Food item has been added\"))}`, {\n        position: \"bottom-center\",\n        autoClose: 10000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        className: \"text-center toast-notification\"\n      });\n    }).catch(error => {\n      setLoading(false);\n\n      if (error.response.data.errors.image) {\n        error.response.data.errors.image.forEach(item => {\n          if (item === \"Please select a valid image file\") {\n            toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\n              position: \"bottom-center\",\n              autoClose: 10000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              className: \"text-center toast-notification\"\n            });\n          }\n\n          if (item === \"Please select a file less than 5MB\") {\n            toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\n              position: \"bottom-center\",\n              autoClose: 10000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              className: \"text-center toast-notification\"\n            });\n          }\n        });\n      }\n    });\n  }; //send to server\n\n\n  const handleSubmit = e => {\n    e.preventDefault(); //check item group selected\n\n    if (newItem.itemGroup !== null) {\n      //check property is selected or not if property checkbox is checked\n      if (newItem.hasProperty === true && newItem.properties === null) {\n        toast.error(`${_t(t(\"Please select properties\"))}`, {\n          position: \"bottom-center\",\n          autoClose: 10000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          className: \"text-center toast-notification\"\n        });\n      } else {\n        //if property checkbox is not selected\n        if (newItem.hasProperty === false) {\n          //check variation is selected or not if variation checkbox is checked\n          if (newItem.hasVariation === true && newItem.variations === null) {\n            toast.error(`${_t(t(\"Please select variations\"))}`, {\n              position: \"bottom-center\",\n              autoClose: 10000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              className: \"text-center toast-notification\"\n            });\n          } else {\n            //if variation checkbox is not selected\n            if (newItem.hasVariation === false) {\n              foodItemAxios();\n            } else {\n              //if variation checkbox is selected, options selected, but deleted all selected options at once\n              if (newItem.variations.length > 0) {\n                foodItemAxios();\n              } else {\n                toast.error(`${_t(t(\"Please select variations\"))}`, {\n                  position: \"bottom-center\",\n                  autoClose: 10000,\n                  hideProgressBar: false,\n                  closeOnClick: true,\n                  pauseOnHover: true,\n                  className: \"text-center toast-notification\"\n                });\n              }\n            }\n          }\n        } else {\n          //if property checkbox is selected, options selected, but deleted all selected options at once\n          if (newItem.properties.length > 0) {\n            if (newItem.hasVariation === true && newItem.variations === null) {\n              toast.error(`${_t(t(\"Please select variations\"))}`, {\n                position: \"bottom-center\",\n                autoClose: 10000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                className: \"text-center toast-notification\"\n              });\n            } else {\n              //if variation checkbox is not selected\n              if (newItem.hasVariation === false) {\n                foodItemAxios();\n              } else {\n                //if variation checkbox is selected, options selected, but deleted all selected options at once\n                if (newItem.variations.length > 0) {\n                  foodItemAxios();\n                } else {\n                  toast.error(`${_t(t(\"Please select variations\"))}`, {\n                    position: \"bottom-center\",\n                    autoClose: 10000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    className: \"text-center toast-notification\"\n                  });\n                }\n              }\n            }\n          } else {\n            toast.error(`${_t(t(\"Please select properties\"))}`, {\n              position: \"bottom-center\",\n              autoClose: 10000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              className: \"text-center toast-notification\"\n            });\n          }\n        }\n      }\n    } else {\n      //if item group not selected\n      toast.error(`${_t(t(\"Please select a Food Group for this item\"))}`, {\n        position: \"bottom-center\",\n        autoClose: 10000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        className: \"text-center toast-notification\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }\n  }, _t(t(\"Add New Item\")))), /*#__PURE__*/React.createElement(\"main\", {\n    id: \"main\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row t-mt-10 gx-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ManageSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fk-scroll--pos-menu table-bottom-info-hide\",\n    \"data-simplebar\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"t-pl-15 t-pr-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${dataPaginating && \"loading\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 21\n    }\n  }), loading === true ? tableLoading() : apiFailed ? [/*#__PURE__*/React.createElement(SaasApiFailure, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 25\n    }\n  })] : [hasSaasLimit ? [\n  /*#__PURE__*/\n  // start here\n  React.createElement(\"div\", {\n    key: \"smtp-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-2 align-items-center t-pt-15 t-pb-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-5 t-mb-15 mb-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"t-list fk-breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"fk-breadcrumb__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"t-link fk-breadcrumb__link text-capitalize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 37\n    }\n  }, _t(t(\"Add new item\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-lg-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row gx-3 align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"row card p-2 mx-3 mb-5 sm-text\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 31\n    }\n  }, foodGroupForSearch && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"itemGroup\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 39\n    }\n  }, _t(t(\"Food group\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 41\n    }\n  }, \"*\"))), /*#__PURE__*/React.createElement(Select, {\n    options: foodGroupForSearch,\n    components: makeAnimated(),\n    getOptionLabel: option => option.name,\n    getOptionValue: option => option.name,\n    classNamePrefix: \"select\",\n    onChange: handleSetItemGroup,\n    maxMenuHeight: \"200px\",\n    placeholder: _t(t(\"Please select a food group\")) + \"..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 37\n    }\n  }, _t(t(\"Name\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 39\n    }\n  }, \"*\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"name\",\n    name: \"name\",\n    onChange: handleChange,\n    value: newItem.name,\n    placeholder: \"e.g. Spicy chicken burger\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    id: \"propertyCheck\",\n    checked: newItem.hasProperty,\n    onChange: handlePropertyCheckboxChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-check-label pointer-cursor\",\n    htmlFor: \"propertyCheck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 35\n    }\n  }, _t(t(\"Has properties?\")))), propertyGroupForSearch && [newItem.hasProperty && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2 ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 41\n    }\n  }, _t(t(\"Add properties\")))), /*#__PURE__*/React.createElement(Select, {\n    options: propertyGroupForSearch,\n    components: makeAnimated(),\n    getOptionLabel: option => option.name,\n    getOptionValue: option => option.name,\n    className: \"basic-multi-select\",\n    classNamePrefix: \"select\",\n    isMulti: true,\n    maxMenuHeight: \"200px\",\n    onChange: handleSetPropertes,\n    placeholder: _t(t(\"Please select property groups\")) + \"..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 39\n    }\n  }))], /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    id: \"variationCheck\",\n    checked: newItem.hasVariation,\n    onChange: handleVariationCheckboxChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-check-label pointer-cursor\",\n    htmlFor: \"variationCheck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 35\n    }\n  }, _t(t(\"Has variations?\")))), newItem.hasVariation && variationForSearch && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2 ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 39\n    }\n  }, _t(t(\"Add variations\")))), /*#__PURE__*/React.createElement(Select, {\n    options: variationForSearch,\n    components: makeAnimated(),\n    getOptionLabel: option => option.name,\n    getOptionValue: option => option.name,\n    className: \"basic-multi-select\",\n    classNamePrefix: \"select\",\n    isMulti: true,\n    maxMenuHeight: \"200px\",\n    onChange: handleSetVariations,\n    placeholder: _t(t(\"Please select variations\")) + \"..\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 37\n    }\n  })), newItem.variations !== null && [newItem.variations.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card ml-4 mt-3 p-3 custom-bg-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header t-bg-epsilon text-white rounded-sm text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 39\n    }\n  }, _t(t(\"Please enter price for each variation\"))), newItem.variations.map(variationItem => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mt-4\",\n      key: variationItem.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: variationItem.slug,\n      className: \"control-label sm-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 47\n      }\n    }, _t(t(\"Total price of\")), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-primary text-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 49\n      }\n    }, variationItem.name), \" \", _t(t(\"variation\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 49\n      }\n    }, \"*\", \" \"), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 49\n      }\n    }, \"(\", _t(t(\"Enter price in USD\")), \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      step: \"0.01\",\n      min: \"0\",\n      className: \"form-control\",\n      id: variationItem.slug,\n      name: variationItem.slug,\n      onChange: handleVariationPrice,\n      placeholder: \"e.g. Type price of this item in 'US dollar'\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 47\n      }\n    })));\n  }))], !newItem.hasVariation && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"price\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 39\n    }\n  }, _t(t(\"Price\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 41\n    }\n  }, \"* \"), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 41\n    }\n  }, \"(\", _t(t(\"Enter price in USD\")), \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"price\",\n    type: \"number\",\n    step: \"0.01\",\n    min: \"0\",\n    className: \"form-control\",\n    name: \"price\",\n    value: newItem.price,\n    onChange: handleChange,\n    placeholder: \"e.g. Type price of this item in 'US dollar'\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 39\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    id: \"specialCheck\",\n    checked: newItem.isSpecial,\n    onChange: handleSpecialCheckboxChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-check-label pointer-cursor\",\n    htmlFor: \"specialCheck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 35\n    }\n  }, _t(t(\"Is Special?\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 37\n    }\n  }, _t(t(\"Image\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 39\n    }\n  }, \"*\"), \" \", /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 39\n    }\n  }, \"(\", _t(t(\"300 x 300 Preferable\")), \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"form-control sm-text\",\n    id: \"image\",\n    name: \"image\",\n    onChange: handleItemImage,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-5 pb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary px-5\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 37\n    }\n  }, _t(t(\"Save\")))))))) // end here\n  ] : [/*#__PURE__*/React.createElement(Expired, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 27\n    }\n  })]]))))))));\n};\n\nexport default FoodItemCrud;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/food/FoodItemCrud.js"],"names":["React","useEffect","useContext","useState","useHistory","axios","BASE_URL","SAAS_APPLICATION","saas_apiUrl","saas_apiParams","saas_form_data","_t","getCookie","tableLoading","useTranslation","Helmet","toast","Select","makeAnimated","ManageSidebar","SettingsContext","FoodContext","Expired","SaasApiFailure","FoodItemCrud","t","history","loading","setLoading","dataPaginating","apiFailed","setApiFailed","setFoodForSearch","foodGroupForSearch","propertyGroupForSearch","variationForSearch","newItem","setNewItem","itemGroup","name","price","image","hasProperty","properties","hasVariation","isSpecial","variations","priceForVariations","setPriceForVariations","hasSaasLimit","setHasSaasLimit","decrementSaasItem","url","post","then","res","console","log","catch","checkHaslimit","get","data","saastoken","setInterval","clearInterval","handleChange","e","target","value","handleItemImage","files","handleSetPropertes","handleSetVariations","handleVariationPrice","handleSetItemGroup","handlePropertyCheckboxChange","handleVariationCheckboxChange","handleSpecialCheckboxChange","foodItemAxios","formData","FormData","append","id","tempArray","map","pItem","push","slugArray","newVarItem","slug","slugItem","tempData","Object","entries","item","headers","Authorization","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","error","response","errors","forEach","handleSubmit","preventDefault","length","option","variationItem"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,gBAAnB,EAAqCC,WAArC,EAAkDC,cAAlD,EAAkEC,cAAlE,QAAwF,wBAAxF,C,CAEA;;AACA,SACEC,EADF,EAEEC,SAFF,EAGEC,YAHF,QAIO,oCAJP;AAKA,SAASC,cAAT,QAA+B,eAA/B,C,CAEA;;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,YAAP,MAAyB,uBAAzB,C,CAEA;;AACA,OAAOC,aAAP,MAA0B,kBAA1B,C,CAEA;;AACA,SAASC,eAAT,QAAgC,kCAAhC;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,OAAOC,cAAP,MAA2B,0CAA3B;;AAGA,MAAMC,YAAY,GAAG,MAAM;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAQX,cAAc,EAA5B;AACA,QAAMY,OAAO,GAAGtB,UAAU,EAA1B,CAFyB,CAGzB;;AACA,MAAI;AAAEuB,IAAAA,OAAF;AAAWC,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,MAA0C3B,UAAU,CAACkB,eAAD,CAAxD;AACA,MAAI,CAACU,SAAD,EAAYC,YAAZ,IAA4B5B,QAAQ,CAAC,KAAD,CAAxC;AAEA,MAAI;AACF6B,IAAAA,gBADE;AAEFC,IAAAA,kBAFE;AAGFC,IAAAA,sBAHE;AAIFC,IAAAA;AAJE,MAKAjC,UAAU,CAACmB,WAAD,CALd,CAPyB,CAczB;AACA;;AACA,MAAI,CAACe,OAAD,EAAUC,UAAV,IAAwBlC,QAAQ,CAAC;AACnCmC,IAAAA,SAAS,EAAE,IADwB;AAEnCC,IAAAA,IAAI,EAAE,EAF6B;AAGnCC,IAAAA,KAAK,EAAE,EAH4B;AAInCC,IAAAA,KAAK,EAAE,IAJ4B;AAKnCC,IAAAA,WAAW,EAAE,KALsB;AAMnCC,IAAAA,UAAU,EAAE,IANuB;AAOnCC,IAAAA,YAAY,EAAE,KAPqB;AAQnCC,IAAAA,SAAS,EAAE,KARwB;AASnCC,IAAAA,UAAU,EAAE;AATuB,GAAD,CAApC;AAYA,MAAI,CAACC,kBAAD,EAAqBC,qBAArB,IAA8C7C,QAAQ,CAAC,IAAD,CAA1D,CA5ByB,CA8BzB;;AACA,MAAI,CAAC8C,YAAD,EAAeC,eAAf,IAAkC/C,QAAQ,CAAC,IAAD,CAA9C,CA/ByB,CAgCzB;;AAEA,QAAMgD,iBAAiB,GAAG,MAAM;AAC9B;AACA,UAAMC,GAAG,GAAG5C,WAAW,GAAG,gCAA1B,CAF8B,CAE6B;;AAC3DH,IAAAA,KAAK,CAACgD,IAAN,CAAWD,GAAX,EAAgB1C,cAAhB,EAAgC4C,IAAhC,CAAsCC,GAAD,IAAS;AAC5CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAFD,EAEGG,KAFH,CAES,MAAM;AACb,aAAO,SAAP;AACD,KAJD;AAKD,GARD,CAlCyB,CA4CzB;;;AACAzD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,gBAAgB,IAAI,KAAxB,EAA+B;AAC7B;AACA,YAAMoD,aAAa,GAAG,MAAM;AAC1B,cAAMP,GAAG,GAAG5C,WAAW,GAAG,6BAAd,GAA8CC,cAA1D,CAD0B,CAC+C;;AACzEJ,QAAAA,KAAK,CAACuD,GAAN,CAAUR,GAAV,EAAeE,IAAf,CAAqBC,GAAD,IAAS;AAC3B;AAAEA,YAAAA,GAAG,CAACM,IAAJ,IAAY,WAAZ,GAA0BX,eAAe,CAAC,IAAD,CAAzC,GAAkDA,eAAe,CAAC,KAAD,CAAjE;AAA0E,WADjD,CAE3B;AACD,SAHD,EAGGQ,KAHH,CAGS,MAAM;AACb3B,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,SALD;AAMD,OARD;;AAUA,YAAM+B,SAAS,GAAGC,WAAW,CAACJ,aAAD,EAAgB,IAAhB,CAA7B;AACAA,MAAAA,aAAa;AACb,aAAO,MAAM;AACX;AACAK,QAAAA,aAAa,CAACF,SAAD,CAAb;AACD,OAHD;AAID;AACF,GApBQ,EAoBN,EApBM,CAAT,CA7CyB,CAmEzB;;AACA,QAAMG,YAAY,GAAIC,CAAD,IAAO;AAC1B7B,IAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAc,OAAC8B,CAAC,CAACC,MAAF,CAAS5B,IAAV,GAAiB2B,CAAC,CAACC,MAAF,CAASC;AAAxC,KAAD,CAAV;AACD,GAFD,CApEyB,CAwEzB;;;AACA,QAAMC,eAAe,GAAIH,CAAD,IAAO;AAC7B7B,IAAAA,UAAU,CAAC,EACT,GAAGD,OADM;AAET,OAAC8B,CAAC,CAACC,MAAF,CAAS5B,IAAV,GAAiB2B,CAAC,CAACC,MAAF,CAASG,KAAT,CAAe,CAAf;AAFR,KAAD,CAAV;AAID,GALD,CAzEyB,CAgFzB;;;AACA,QAAMC,kBAAkB,GAAI5B,UAAD,IAAgB;AACzCN,IAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAcO,MAAAA;AAAd,KAAD,CAAV;AACD,GAFD,CAjFyB,CAqFzB;;;AACA,QAAM6B,mBAAmB,GAAI1B,UAAD,IAAgB;AAC1CT,IAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAcU,MAAAA;AAAd,KAAD,CAAV;AACD,GAFD,CAtFyB,CA0FzB;;;AACA,QAAM2B,oBAAoB,GAAIP,CAAD,IAAO;AAClClB,IAAAA,qBAAqB,CAAC,EACpB,GAAGD,kBADiB;AAEpB,OAACmB,CAAC,CAACC,MAAF,CAAS5B,IAAV,GAAiB2B,CAAC,CAACC,MAAF,CAASC;AAFN,KAAD,CAArB;AAID,GALD,CA3FyB,CAkGzB;;;AACA,QAAMM,kBAAkB,GAAIpC,SAAD,IAAe;AACxCD,IAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAcE,MAAAA;AAAd,KAAD,CAAV;AACD,GAFD,CAnGyB,CAuGzB;;;AACA,QAAMqC,4BAA4B,GAAIT,CAAD,IAAO;AAC1C,QAAI9B,OAAO,CAACM,WAAR,KAAwB,IAA5B,EAAkC;AAChCL,MAAAA,UAAU,CAAC,EACT,GAAGD,OADM;AAETO,QAAAA,UAAU,EAAE,IAFH;AAGTD,QAAAA,WAAW,EAAE,CAACN,OAAO,CAACM;AAHb,OAAD,CAAV;AAKD,KAND,MAMO;AACLL,MAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAcM,QAAAA,WAAW,EAAE,CAACN,OAAO,CAACM;AAApC,OAAD,CAAV;AACD;AACF,GAVD,CAxGyB,CAoHzB;;;AACA,QAAMkC,6BAA6B,GAAIV,CAAD,IAAO;AAC3C,QAAI9B,OAAO,CAACQ,YAAR,KAAyB,IAA7B,EAAmC;AACjCP,MAAAA,UAAU,CAAC,EACT,GAAGD,OADM;AAETU,QAAAA,UAAU,EAAE,IAFH;AAGTF,QAAAA,YAAY,EAAE,CAACR,OAAO,CAACQ;AAHd,OAAD,CAAV;AAKD,KAND,MAMO;AACLP,MAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAcQ,QAAAA,YAAY,EAAE,CAACR,OAAO,CAACQ;AAArC,OAAD,CAAV;AACD;AACF,GAVD,CArHyB,CAiIzB;;;AACA,QAAMiC,2BAA2B,GAAIX,CAAD,IAAO;AACzC7B,IAAAA,UAAU,CAAC,EACT,GAAGD,OADM;AAETS,MAAAA,SAAS,EAAE,CAACT,OAAO,CAACS;AAFX,KAAD,CAAV;AAID,GALD,CAlIyB,CAyIzB;;;AACA,QAAMiC,aAAa,GAAG,MAAM;AAC1BlD,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAIrB,gBAAgB,IAAI,KAAxB,EAA+B;AAC7B4C,MAAAA,iBAAiB;AAClB;;AAED,QAAI4B,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC7C,OAAO,CAACE,SAAR,CAAkB4C,EAAnD;AACAH,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwB7C,OAAO,CAACG,IAAhC;AACAwC,IAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+B7C,OAAO,CAACM,WAAR,KAAwB,IAAxB,GAA+B,CAA/B,GAAmC,CAAlE;;AACA,QAAIN,OAAO,CAACM,WAAR,KAAwB,IAA5B,EAAkC;AAChCqC,MAAAA,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+B,CAA/B;AACA,UAAIE,SAAS,GAAG,EAAhB;AACA/C,MAAAA,OAAO,CAACO,UAAR,CAAmByC,GAAnB,CAAwBC,KAAD,IAAW;AAChCF,QAAAA,SAAS,CAACG,IAAV,CAAeD,KAAK,CAACH,EAArB;AACD,OAFD;AAGAH,MAAAA,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BE,SAA9B;AACD;;AAEDJ,IAAAA,QAAQ,CAACE,MAAT,CAAgB,cAAhB,EAAgC7C,OAAO,CAACQ,YAAR,KAAyB,IAAzB,GAAgC,CAAhC,GAAoC,CAApE;AACAmC,IAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6B7C,OAAO,CAACS,SAAR,KAAsB,IAAtB,GAA6B,CAA7B,GAAiC,CAA9D;;AACA,QAAIT,OAAO,CAACQ,YAAR,KAAyB,KAA7B,EAAoC;AAClCmC,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB7C,OAAO,CAACI,KAAjC;AACD,KAFD,MAEO;AACL;AACA,UAAI+C,SAAS,GAAG,EAAhB;AACAnD,MAAAA,OAAO,CAACU,UAAR,CAAmBsC,GAAnB,CAAwBI,UAAD,IAAgB;AACrCD,QAAAA,SAAS,CAACD,IAAV,CAAeE,UAAU,CAACC,IAA1B;AACD,OAFD;AAGAF,MAAAA,SAAS,CAACH,GAAV,CAAeM,QAAD,IAAc;AAC1BX,QAAAA,QAAQ,CAACE,MAAT,CAAgB,oBAAhB,EAAsCS,QAAtC;AACD,OAFD;AAIA,UAAIC,QAAQ,GAAGC,MAAM,CAACC,OAAP,CAAe9C,kBAAf,CAAf;AACA4C,MAAAA,QAAQ,CAACP,GAAT,CAAcU,IAAD,IAAU;AACrBf,QAAAA,QAAQ,CAACE,MAAT,CAAgB,cAAhB,EAAgCa,IAAhC;AACD,OAFD;AAGD;;AAEDf,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB7C,OAAO,CAACK,KAAjC;AACA,UAAMW,GAAG,GAAG9C,QAAQ,GAAG,yBAAvB;AACA,WAAOD,KAAK,CACTgD,IADI,CACCD,GADD,EACM2B,QADN,EACgB;AACnBgB,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASpF,SAAS,EAAG;AAAvC;AADU,KADhB,EAIJ0C,IAJI,CAIEC,GAAD,IAAS;AACbvB,MAAAA,gBAAgB,CAACuB,GAAG,CAACM,IAAJ,CAAS,CAAT,CAAD,CAAhB;AACAxB,MAAAA,UAAU,CAAC;AACTC,QAAAA,SAAS,EAAE,IADF;AAETC,QAAAA,IAAI,EAAE,EAFG;AAGTC,QAAAA,KAAK,EAAE,EAHE;AAITC,QAAAA,KAAK,EAAE,IAJE;AAKTC,QAAAA,WAAW,EAAE,KALJ;AAMTC,QAAAA,UAAU,EAAE,IANH;AAOTC,QAAAA,YAAY,EAAE,KAPL;AAQTC,QAAAA,SAAS,EAAE,KARF;AASTC,QAAAA,UAAU,EAAE;AATH,OAAD,CAAV;AAWAlB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAZ,MAAAA,KAAK,CAACiF,OAAN,CAAe,GAAEtF,EAAE,CAACc,CAAC,CAAC,0BAAD,CAAF,CAAgC,EAAnD,EAAsD;AACpDyE,QAAAA,QAAQ,EAAE,eAD0C;AAEpDC,QAAAA,SAAS,EAAE,KAFyC;AAGpDC,QAAAA,eAAe,EAAE,KAHmC;AAIpDC,QAAAA,YAAY,EAAE,IAJsC;AAKpDC,QAAAA,YAAY,EAAE,IALsC;AAMpDC,QAAAA,SAAS,EAAE;AANyC,OAAtD;AAQD,KA1BI,EA2BJ7C,KA3BI,CA2BG8C,KAAD,IAAW;AAChB5E,MAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,UAAI4E,KAAK,CAACC,QAAN,CAAe5C,IAAf,CAAoB6C,MAApB,CAA2BjE,KAA/B,EAAsC;AACpC+D,QAAAA,KAAK,CAACC,QAAN,CAAe5C,IAAf,CAAoB6C,MAApB,CAA2BjE,KAA3B,CAAiCkE,OAAjC,CAA0Cb,IAAD,IAAU;AACjD,cAAIA,IAAI,KAAK,kCAAb,EAAiD;AAC/C9E,YAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,kCAAD,CAAF,CAAwC,EAAzD,EAA4D;AAC1DyE,cAAAA,QAAQ,EAAE,eADgD;AAE1DC,cAAAA,SAAS,EAAE,KAF+C;AAG1DC,cAAAA,eAAe,EAAE,KAHyC;AAI1DC,cAAAA,YAAY,EAAE,IAJ4C;AAK1DC,cAAAA,YAAY,EAAE,IAL4C;AAM1DC,cAAAA,SAAS,EAAE;AAN+C,aAA5D;AAQD;;AACD,cAAIT,IAAI,KAAK,oCAAb,EAAmD;AACjD9E,YAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,oCAAD,CAAF,CAA0C,EAA3D,EAA8D;AAC5DyE,cAAAA,QAAQ,EAAE,eADkD;AAE5DC,cAAAA,SAAS,EAAE,KAFiD;AAG5DC,cAAAA,eAAe,EAAE,KAH2C;AAI5DC,cAAAA,YAAY,EAAE,IAJ8C;AAK5DC,cAAAA,YAAY,EAAE,IAL8C;AAM5DC,cAAAA,SAAS,EAAE;AANiD,aAA9D;AAQD;AACF,SArBD;AAsBD;AACF,KArDI,CAAP;AAsDD,GA/FD,CA1IyB,CA2OzB;;;AACA,QAAMK,YAAY,GAAI1C,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAAC2C,cAAF,GAD0B,CAG1B;;AACA,QAAIzE,OAAO,CAACE,SAAR,KAAsB,IAA1B,EAAgC;AAC9B;AACA,UAAIF,OAAO,CAACM,WAAR,KAAwB,IAAxB,IAAgCN,OAAO,CAACO,UAAR,KAAuB,IAA3D,EAAiE;AAC/D3B,QAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,0BAAD,CAAF,CAAgC,EAAjD,EAAoD;AAClDyE,UAAAA,QAAQ,EAAE,eADwC;AAElDC,UAAAA,SAAS,EAAE,KAFuC;AAGlDC,UAAAA,eAAe,EAAE,KAHiC;AAIlDC,UAAAA,YAAY,EAAE,IAJoC;AAKlDC,UAAAA,YAAY,EAAE,IALoC;AAMlDC,UAAAA,SAAS,EAAE;AANuC,SAApD;AAQD,OATD,MASO;AACL;AACA,YAAInE,OAAO,CAACM,WAAR,KAAwB,KAA5B,EAAmC;AACjC;AACA,cAAIN,OAAO,CAACQ,YAAR,KAAyB,IAAzB,IAAiCR,OAAO,CAACU,UAAR,KAAuB,IAA5D,EAAkE;AAChE9B,YAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,0BAAD,CAAF,CAAgC,EAAjD,EAAoD;AAClDyE,cAAAA,QAAQ,EAAE,eADwC;AAElDC,cAAAA,SAAS,EAAE,KAFuC;AAGlDC,cAAAA,eAAe,EAAE,KAHiC;AAIlDC,cAAAA,YAAY,EAAE,IAJoC;AAKlDC,cAAAA,YAAY,EAAE,IALoC;AAMlDC,cAAAA,SAAS,EAAE;AANuC,aAApD;AAQD,WATD,MASO;AACL;AACA,gBAAInE,OAAO,CAACQ,YAAR,KAAyB,KAA7B,EAAoC;AAClCkC,cAAAA,aAAa;AACd,aAFD,MAEO;AACL;AACA,kBAAI1C,OAAO,CAACU,UAAR,CAAmBgE,MAAnB,GAA4B,CAAhC,EAAmC;AACjChC,gBAAAA,aAAa;AACd,eAFD,MAEO;AACL9D,gBAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,0BAAD,CAAF,CAAgC,EAAjD,EAAoD;AAClDyE,kBAAAA,QAAQ,EAAE,eADwC;AAElDC,kBAAAA,SAAS,EAAE,KAFuC;AAGlDC,kBAAAA,eAAe,EAAE,KAHiC;AAIlDC,kBAAAA,YAAY,EAAE,IAJoC;AAKlDC,kBAAAA,YAAY,EAAE,IALoC;AAMlDC,kBAAAA,SAAS,EAAE;AANuC,iBAApD;AAQD;AACF;AACF;AACF,SA/BD,MA+BO;AACL;AACA,cAAInE,OAAO,CAACO,UAAR,CAAmBmE,MAAnB,GAA4B,CAAhC,EAAmC;AACjC,gBAAI1E,OAAO,CAACQ,YAAR,KAAyB,IAAzB,IAAiCR,OAAO,CAACU,UAAR,KAAuB,IAA5D,EAAkE;AAChE9B,cAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,0BAAD,CAAF,CAAgC,EAAjD,EAAoD;AAClDyE,gBAAAA,QAAQ,EAAE,eADwC;AAElDC,gBAAAA,SAAS,EAAE,KAFuC;AAGlDC,gBAAAA,eAAe,EAAE,KAHiC;AAIlDC,gBAAAA,YAAY,EAAE,IAJoC;AAKlDC,gBAAAA,YAAY,EAAE,IALoC;AAMlDC,gBAAAA,SAAS,EAAE;AANuC,eAApD;AAQD,aATD,MASO;AACL;AACA,kBAAInE,OAAO,CAACQ,YAAR,KAAyB,KAA7B,EAAoC;AAClCkC,gBAAAA,aAAa;AACd,eAFD,MAEO;AACL;AACA,oBAAI1C,OAAO,CAACU,UAAR,CAAmBgE,MAAnB,GAA4B,CAAhC,EAAmC;AACjChC,kBAAAA,aAAa;AACd,iBAFD,MAEO;AACL9D,kBAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,0BAAD,CAAF,CAAgC,EAAjD,EAAoD;AAClDyE,oBAAAA,QAAQ,EAAE,eADwC;AAElDC,oBAAAA,SAAS,EAAE,KAFuC;AAGlDC,oBAAAA,eAAe,EAAE,KAHiC;AAIlDC,oBAAAA,YAAY,EAAE,IAJoC;AAKlDC,oBAAAA,YAAY,EAAE,IALoC;AAMlDC,oBAAAA,SAAS,EAAE;AANuC,mBAApD;AAQD;AACF;AACF;AACF,WA9BD,MA8BO;AACLvF,YAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,0BAAD,CAAF,CAAgC,EAAjD,EAAoD;AAClDyE,cAAAA,QAAQ,EAAE,eADwC;AAElDC,cAAAA,SAAS,EAAE,KAFuC;AAGlDC,cAAAA,eAAe,EAAE,KAHiC;AAIlDC,cAAAA,YAAY,EAAE,IAJoC;AAKlDC,cAAAA,YAAY,EAAE,IALoC;AAMlDC,cAAAA,SAAS,EAAE;AANuC,aAApD;AAQD;AACF;AACF;AACF,KAxFD,MAwFO;AACL;AACAvF,MAAAA,KAAK,CAACwF,KAAN,CAAa,GAAE7F,EAAE,CAACc,CAAC,CAAC,0CAAD,CAAF,CAAgD,EAAjE,EAAoE;AAClEyE,QAAAA,QAAQ,EAAE,eADwD;AAElEC,QAAAA,SAAS,EAAE,KAFuD;AAGlEC,QAAAA,eAAe,EAAE,KAHiD;AAIlEC,QAAAA,YAAY,EAAE,IAJoD;AAKlEC,QAAAA,YAAY,EAAE,IALoD;AAMlEC,QAAAA,SAAS,EAAE;AANuD,OAApE;AAQD;AAEF,GAxGD;;AA0GA,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQ5F,EAAE,CAACc,CAAC,CAAC,cAAD,CAAF,CAAV,CADF,CADF,eAME;AAAM,IAAA,EAAE,EAAC,MAAT;AAAgB,0BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,eAQE;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,4CADZ;AAEE,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAG,GAAEI,cAAc,IAAI,SAAU,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAMGF,OAAO,KAAK,IAAZ,GACCd,YAAY,EADb,GAEIiB,SAAS,GACZ,cACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADY,GAGR,CACFmB,YAAY,GAAG;AAAA;AACb;AACA;AAAK,IAAA,GAAG,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,6CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,4CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtC,EAAE,CAACc,CAAC,CAAC,cAAD,CAAF,CADL,CADF,CADF,CADF,CADF,eAUE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVF,CADF,eAiBE;AACE,IAAA,SAAS,EAAC,gCADZ;AAEE,IAAA,QAAQ,EAAEmF,YAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3E,kBAAkB,iBACjB;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,OAAO,EAAC,WADV;AAEE,IAAA,SAAS,EAAC,eAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGtB,EAAE,CAACc,CAAC,CAAC,YAAD,CAAF,CAJL,eAKE;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SALF,CADF,CADF,eAUE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAEQ,kBADX;AAEE,IAAA,UAAU,EAAEf,YAAY,EAF1B;AAGE,IAAA,cAAc,EAAG6F,MAAD,IAAYA,MAAM,CAACxE,IAHrC;AAIE,IAAA,cAAc,EAAGwE,MAAD,IAAYA,MAAM,CAACxE,IAJrC;AAKE,IAAA,eAAe,EAAC,QALlB;AAME,IAAA,QAAQ,EAAEmC,kBANZ;AAOE,IAAA,aAAa,EAAC,OAPhB;AAQE,IAAA,WAAW,EACT/D,EAAE,CAACc,CAAC,CAAC,4BAAD,CAAF,CAAF,GAAsC,IAT1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CAFJ,eA2BE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAsB,IAAA,SAAS,EAAC,eAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGd,EAAE,CAACc,CAAC,CAAC,MAAD,CAAF,CADL,eAEE;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,CADF,CADF,eAOE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,SAAS,EAAC,cAFZ;AAGE,IAAA,EAAE,EAAC,MAHL;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,QAAQ,EAAEwC,YALZ;AAME,IAAA,KAAK,EAAE7B,OAAO,CAACG,IANjB;AAOE,IAAA,WAAW,EAAC,2BAPd;AAQE,IAAA,QAAQ,MARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,CA3BF,eAgDE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,SAAS,EAAC,kBAFZ;AAGE,IAAA,EAAE,EAAC,eAHL;AAIE,IAAA,OAAO,EAAEH,OAAO,CAACM,WAJnB;AAKE,IAAA,QAAQ,EAAEiC,4BALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AACE,IAAA,SAAS,EAAC,iCADZ;AAEE,IAAA,OAAO,EAAC,eAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGhE,EAAE,CAACc,CAAC,CAAC,iBAAD,CAAF,CAJL,CARF,CAhDF,EA+DGS,sBAAsB,IAAI,CACzBE,OAAO,CAACM,WAAR,iBACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/B,EAAE,CAACc,CAAC,CAAC,gBAAD,CAAF,CADL,CADF,CADF,eAME,oBAAC,MAAD;AACE,IAAA,OAAO,EAAES,sBADX;AAEE,IAAA,UAAU,EAAEhB,YAAY,EAF1B;AAGE,IAAA,cAAc,EAAG6F,MAAD,IAAYA,MAAM,CAACxE,IAHrC;AAIE,IAAA,cAAc,EAAGwE,MAAD,IAAYA,MAAM,CAACxE,IAJrC;AAKE,IAAA,SAAS,EAAC,oBALZ;AAME,IAAA,eAAe,EAAC,QANlB;AAOE,IAAA,OAAO,MAPT;AAQE,IAAA,aAAa,EAAC,OARhB;AASE,IAAA,QAAQ,EAAEgC,kBATZ;AAUE,IAAA,WAAW,EACT5D,EAAE,CAACc,CAAC,CAAC,+BAAD,CAAF,CAAF,GACA,IAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAFuB,CA/D7B,eA0FE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,SAAS,EAAC,kBAFZ;AAGE,IAAA,EAAE,EAAC,gBAHL;AAIE,IAAA,OAAO,EAAEW,OAAO,CAACQ,YAJnB;AAKE,IAAA,QAAQ,EAAEgC,6BALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AACE,IAAA,SAAS,EAAC,iCADZ;AAEE,IAAA,OAAO,EAAC,gBAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGjE,EAAE,CAACc,CAAC,CAAC,iBAAD,CAAF,CAJL,CARF,CA1FF,EA0GGW,OAAO,CAACQ,YAAR,IAAwBT,kBAAxB,iBACC;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxB,EAAE,CAACc,CAAC,CAAC,gBAAD,CAAF,CADL,CADF,CADF,eAME,oBAAC,MAAD;AACE,IAAA,OAAO,EAAEU,kBADX;AAEE,IAAA,UAAU,EAAEjB,YAAY,EAF1B;AAGE,IAAA,cAAc,EAAG6F,MAAD,IAAYA,MAAM,CAACxE,IAHrC;AAIE,IAAA,cAAc,EAAGwE,MAAD,IAAYA,MAAM,CAACxE,IAJrC;AAKE,IAAA,SAAS,EAAC,oBALZ;AAME,IAAA,eAAe,EAAC,QANlB;AAOE,IAAA,OAAO,MAPT;AAQE,IAAA,aAAa,EAAC,OARhB;AASE,IAAA,QAAQ,EAAEiC,mBATZ;AAUE,IAAA,WAAW,EACT7D,EAAE,CAACc,CAAC,CAAC,0BAAD,CAAF,CAAF,GAAoC,IAXxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CA3GJ,EAiIGW,OAAO,CAACU,UAAR,KAAuB,IAAvB,IAA+B,CAC9BV,OAAO,CAACU,UAAR,CAAmBgE,MAAnB,GAA4B,CAA5B,iBACE;AAAK,IAAA,SAAS,EAAC,wCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,4DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnG,EAAE,CACDc,CAAC,CAAC,uCAAD,CADA,CADL,CADF,EAMGW,OAAO,CAACU,UAAR,CAAmBsC,GAAnB,CAAwB4B,aAAD,IAAmB;AACzC,wBACE;AACE,MAAA,SAAS,EAAC,iBADZ;AAEE,MAAA,GAAG,EAAEA,aAAa,CAAC9B,EAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,OAAO,EAAE8B,aAAa,CAACvB,IADzB;AAEE,MAAA,SAAS,EAAC,uBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG9E,EAAE,CAACc,CAAC,CAAC,gBAAD,CAAF,CAJL,EAI4B,GAJ5B,eAKE;AAAM,MAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGuF,aAAa,CAACzE,IADjB,CALF,EAOU,GAPV,EAQG5B,EAAE,CAACc,CAAC,CAAC,WAAD,CAAF,CARL,eASE;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YACI,GADJ,CATF,eAYE;AAAO,MAAA,SAAS,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YACId,EAAE,CAACc,CAAC,CAAC,oBAAD,CAAF,CADN,MAZF,CADF,CAJF,eAsBE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,GAAG,EAAC,GAHN;AAIE,MAAA,SAAS,EAAC,cAJZ;AAKE,MAAA,EAAE,EAAEuF,aAAa,CAACvB,IALpB;AAME,MAAA,IAAI,EAAEuB,aAAa,CAACvB,IANtB;AAOE,MAAA,QAAQ,EAAEhB,oBAPZ;AAQE,MAAA,WAAW,EAAC,6CARd;AASE,MAAA,QAAQ,MATV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAtBF,CADF;AAsCD,GAvCA,CANH,CAF4B,CAjIlC,EAqLG,CAACrC,OAAO,CAACQ,YAAT,iBACC;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,SAAS,EAAC,eAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGjC,EAAE,CAACc,CAAC,CAAC,OAAD,CAAF,CAJL,eAKE;AAAM,IAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALF,eAME;AAAO,IAAA,SAAS,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACId,EAAE,CAACc,CAAC,CAAC,oBAAD,CAAF,CADN,MANF,CADF,CADF,eAaE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,GAAG,EAAC,GAJN;AAKE,IAAA,SAAS,EAAC,cALZ;AAME,IAAA,IAAI,EAAC,OANP;AAOE,IAAA,KAAK,EAAEW,OAAO,CAACI,KAPjB;AAQE,IAAA,QAAQ,EAAEyB,YARZ;AASE,IAAA,WAAW,EAAC,6CATd;AAUE,IAAA,QAAQ,MAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAbF,CAtLJ,eAoNE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,SAAS,EAAC,kBAFZ;AAGE,IAAA,EAAE,EAAC,cAHL;AAIE,IAAA,OAAO,EAAE7B,OAAO,CAACS,SAJnB;AAKE,IAAA,QAAQ,EAAEgC,2BALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AACE,IAAA,SAAS,EAAC,iCADZ;AAEE,IAAA,OAAO,EAAC,cAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGlE,EAAE,CAACc,CAAC,CAAC,aAAD,CAAF,CAJL,CARF,CApNF,eAmOE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,SAAS,EAAC,eAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGd,EAAE,CAACc,CAAC,CAAC,OAAD,CAAF,CAJL,eAKE;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SALF,EAKyC,GALzC,eAME;AAAO,IAAA,SAAS,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACId,EAAE,CAACc,CAAC,CAAC,sBAAD,CAAF,CADN,MANF,CADF,CADF,eAaE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,SAAS,EAAC,sBAFZ;AAGE,IAAA,EAAE,EAAC,OAHL;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,QAAQ,EAAE4C,eALZ;AAME,IAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAbF,CAnOF,eA4PE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,sBADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG1D,EAAE,CAACc,CAAC,CAAC,MAAD,CAAF,CAJL,CADF,CADF,CA5PF,CAJF,CAjBF,CAFa,CAgSb;AAhSa,GAAH,GAiSR,cACF,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,CAlSF,CAXR,CAJF,CADF,CADF,CARF,CADF,CADF,CANF,CADF;AAoVD,CA1qBD;;AA4qBA,eAAeD,YAAf","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL, SAAS_APPLICATION, saas_apiUrl, saas_apiParams, saas_form_data } from \"../../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\nimport { FoodContext } from \"../../../../../contexts/Food\";\r\nimport Expired from \"../../../../../saasHelper/Expired\";\r\nimport SaasApiFailure from \"../../../../../saasHelper/saasApiFailure\";\r\n\r\n\r\nconst FoodItemCrud = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let { loading, setLoading, dataPaginating } = useContext(SettingsContext);\r\n  let [apiFailed, setApiFailed] = useState(false);\r\n\r\n  let {\r\n    setFoodForSearch,\r\n    foodGroupForSearch,\r\n    propertyGroupForSearch,\r\n    variationForSearch,\r\n  } = useContext(FoodContext);\r\n\r\n  // States hook here\r\n  //new item\r\n  let [newItem, setNewItem] = useState({\r\n    itemGroup: null,\r\n    name: \"\",\r\n    price: \"\",\r\n    image: null,\r\n    hasProperty: false,\r\n    properties: null,\r\n    hasVariation: false,\r\n    isSpecial: false,\r\n    variations: null,\r\n  });\r\n\r\n  let [priceForVariations, setPriceForVariations] = useState(null);\r\n\r\n  // saas integration\r\n  let [hasSaasLimit, setHasSaasLimit] = useState(true);\r\n  // const SaasContext = React.createContext();\r\n\r\n  const decrementSaasItem = () => {\r\n    // after send api req decremeny by one\r\n    const url = saas_apiUrl + '/api/user-item-limit-decrement';// replace with base url (prince.thetestserver.xyz)\r\n    axios.post(url, saas_form_data).then((res) => {\r\n      console.log(res);\r\n    }).catch(() => {\r\n      return 'NO data'\r\n    });\r\n  }\r\n\r\n  // saas integration\r\n  useEffect(() => {\r\n    if (SAAS_APPLICATION == 'YES') {\r\n      // check  saas limit item\r\n      const checkHaslimit = () => {\r\n        const url = saas_apiUrl + '/api/user-item-limit-check?' + saas_apiParams;// replace with base url (prince.thetestserver.xyz)\r\n        axios.get(url).then((res) => {\r\n          { res.data == 'HAS-LIMIT' ? setHasSaasLimit(true) : setHasSaasLimit(false) }\r\n          // console.log('this is from state value : ', hasSaasLimit);\r\n        }).catch(() => {\r\n          setApiFailed(true);\r\n        });\r\n      }\r\n\r\n      const saastoken = setInterval(checkHaslimit, 1000);\r\n      checkHaslimit();\r\n      return () => {\r\n        //  cleanup the interval when this effect is loaded.\r\n        clearInterval(saastoken);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  //on change input field\r\n  const handleChange = (e) => {\r\n    setNewItem({ ...newItem, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //set image hook\r\n  const handleItemImage = (e) => {\r\n    setNewItem({\r\n      ...newItem,\r\n      [e.target.name]: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  //set properties hook\r\n  const handleSetPropertes = (properties) => {\r\n    setNewItem({ ...newItem, properties });\r\n  };\r\n\r\n  //set variations hook\r\n  const handleSetVariations = (variations) => {\r\n    setNewItem({ ...newItem, variations });\r\n  };\r\n\r\n  //set each variation price\r\n  const handleVariationPrice = (e) => {\r\n    setPriceForVariations({\r\n      ...priceForVariations,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  //handle Set item group hook\r\n  const handleSetItemGroup = (itemGroup) => {\r\n    setNewItem({ ...newItem, itemGroup });\r\n  };\r\n\r\n  //has Property\r\n  const handlePropertyCheckboxChange = (e) => {\r\n    if (newItem.hasProperty === true) {\r\n      setNewItem({\r\n        ...newItem,\r\n        properties: null,\r\n        hasProperty: !newItem.hasProperty,\r\n      });\r\n    } else {\r\n      setNewItem({ ...newItem, hasProperty: !newItem.hasProperty });\r\n    }\r\n  };\r\n\r\n  //has variations\r\n  const handleVariationCheckboxChange = (e) => {\r\n    if (newItem.hasVariation === true) {\r\n      setNewItem({\r\n        ...newItem,\r\n        variations: null,\r\n        hasVariation: !newItem.hasVariation,\r\n      });\r\n    } else {\r\n      setNewItem({ ...newItem, hasVariation: !newItem.hasVariation });\r\n    }\r\n  };\r\n\r\n  //is special\r\n  const handleSpecialCheckboxChange = (e) => {\r\n    setNewItem({\r\n      ...newItem,\r\n      isSpecial: !newItem.isSpecial,\r\n    });\r\n  };\r\n\r\n  //post req of food item add\r\n  const foodItemAxios = () => {\r\n    setLoading(true);\r\n    if (SAAS_APPLICATION == 'YES') {\r\n      decrementSaasItem();\r\n    }\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"food_group_id\", newItem.itemGroup.id);\r\n    formData.append(\"name\", newItem.name);\r\n    formData.append(\"hasProperty\", newItem.hasProperty === true ? 1 : 0);\r\n    if (newItem.hasProperty === true) {\r\n      formData.append(\"hasProperty\", 1);\r\n      let tempArray = [];\r\n      newItem.properties.map((pItem) => {\r\n        tempArray.push(pItem.id);\r\n      });\r\n      formData.append(\"properties\", tempArray);\r\n    }\r\n\r\n    formData.append(\"hasVariation\", newItem.hasVariation === true ? 1 : 0);\r\n    formData.append(\"isSpecial\", newItem.isSpecial === true ? 1 : 0);\r\n    if (newItem.hasVariation === false) {\r\n      formData.append(\"price\", newItem.price);\r\n    } else {\r\n      //converting variations and prices to array\r\n      let slugArray = [];\r\n      newItem.variations.map((newVarItem) => {\r\n        slugArray.push(newVarItem.slug);\r\n      });\r\n      slugArray.map((slugItem) => {\r\n        formData.append(\"slugOfVariations[]\", slugItem);\r\n      });\r\n\r\n      let tempData = Object.entries(priceForVariations);\r\n      tempData.map((item) => {\r\n        formData.append(\"variations[]\", item);\r\n      });\r\n    }\r\n\r\n    formData.append(\"image\", newItem.image);\r\n    const url = BASE_URL + \"/settings/new-food-item\";\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setFoodForSearch(res.data[1]);\r\n        setNewItem({\r\n          itemGroup: null,\r\n          name: \"\",\r\n          price: \"\",\r\n          image: null,\r\n          hasProperty: false,\r\n          properties: null,\r\n          hasVariation: false,\r\n          isSpecial: false,\r\n          variations: null,\r\n        });\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Food item has been added\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        if (error.response.data.errors.image) {\r\n          error.response.data.errors.image.forEach((item) => {\r\n            if (item === \"Please select a valid image file\") {\r\n              toast.error(`${_t(t(\"Please select a valid image file\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            }\r\n            if (item === \"Please select a file less than 5MB\") {\r\n              toast.error(`${_t(t(\"Please select a file less than 5MB\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  //send to server\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    //check item group selected\r\n    if (newItem.itemGroup !== null) {\r\n      //check property is selected or not if property checkbox is checked\r\n      if (newItem.hasProperty === true && newItem.properties === null) {\r\n        toast.error(`${_t(t(\"Please select properties\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      } else {\r\n        //if property checkbox is not selected\r\n        if (newItem.hasProperty === false) {\r\n          //check variation is selected or not if variation checkbox is checked\r\n          if (newItem.hasVariation === true && newItem.variations === null) {\r\n            toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n              position: \"bottom-center\",\r\n              autoClose: 10000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              className: \"text-center toast-notification\",\r\n            });\r\n          } else {\r\n            //if variation checkbox is not selected\r\n            if (newItem.hasVariation === false) {\r\n              foodItemAxios();\r\n            } else {\r\n              //if variation checkbox is selected, options selected, but deleted all selected options at once\r\n              if (newItem.variations.length > 0) {\r\n                foodItemAxios();\r\n              } else {\r\n                toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                  position: \"bottom-center\",\r\n                  autoClose: 10000,\r\n                  hideProgressBar: false,\r\n                  closeOnClick: true,\r\n                  pauseOnHover: true,\r\n                  className: \"text-center toast-notification\",\r\n                });\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          //if property checkbox is selected, options selected, but deleted all selected options at once\r\n          if (newItem.properties.length > 0) {\r\n            if (newItem.hasVariation === true && newItem.variations === null) {\r\n              toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                position: \"bottom-center\",\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              });\r\n            } else {\r\n              //if variation checkbox is not selected\r\n              if (newItem.hasVariation === false) {\r\n                foodItemAxios();\r\n              } else {\r\n                //if variation checkbox is selected, options selected, but deleted all selected options at once\r\n                if (newItem.variations.length > 0) {\r\n                  foodItemAxios();\r\n                } else {\r\n                  toast.error(`${_t(t(\"Please select variations\"))}`, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 10000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    className: \"text-center toast-notification\",\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            toast.error(`${_t(t(\"Please select properties\"))}`, {\r\n              position: \"bottom-center\",\r\n              autoClose: 10000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              className: \"text-center toast-notification\",\r\n            });\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      //if item group not selected\r\n      toast.error(`${_t(t(\"Please select a Food Group for this item\"))}`, {\r\n        position: \"bottom-center\",\r\n        autoClose: 10000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        className: \"text-center toast-notification\",\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Add New Item\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (apiFailed ?\r\n                      [\r\n                        <SaasApiFailure />\r\n                      ] : [\r\n                        hasSaasLimit ? [\r\n                          // start here\r\n                          <div key=\"smtp-form\">\r\n                            <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                              <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                                <ul className=\"t-list fk-breadcrumb\">\r\n                                  <li className=\"fk-breadcrumb__list\">\r\n                                    <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                      {_t(t(\"Add new item\"))}\r\n                                    </span>\r\n                                  </li>\r\n                                </ul>\r\n                              </div>\r\n                              <div className=\"col-md-6 col-lg-7\">\r\n                                <div className=\"row gx-3 align-items-center\"></div>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Form starts here */}\r\n                            <form\r\n                              className=\"row card p-2 mx-3 mb-5 sm-text\"\r\n                              onSubmit={handleSubmit}\r\n                            >\r\n                              <div className=\"col-12\">\r\n                                {foodGroupForSearch && (\r\n                                  <div className=\"form-group mt-2\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label\r\n                                        htmlFor=\"itemGroup\"\r\n                                        className=\"control-label\"\r\n                                      >\r\n                                        {_t(t(\"Food group\"))}\r\n                                        <span className=\"text-danger\">*</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <Select\r\n                                      options={foodGroupForSearch}\r\n                                      components={makeAnimated()}\r\n                                      getOptionLabel={(option) => option.name}\r\n                                      getOptionValue={(option) => option.name}\r\n                                      classNamePrefix=\"select\"\r\n                                      onChange={handleSetItemGroup}\r\n                                      maxMenuHeight=\"200px\"\r\n                                      placeholder={\r\n                                        _t(t(\"Please select a food group\")) + \"..\"\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                )}\r\n\r\n                                <div className=\"form-group mt-3\">\r\n                                  <div className=\"mb-2\">\r\n                                    <label htmlFor=\"name\" className=\"control-label\">\r\n                                      {_t(t(\"Name\"))}\r\n                                      <span className=\"text-danger\">*</span>\r\n                                    </label>\r\n                                  </div>\r\n                                  <div className=\"mb-2\">\r\n                                    <input\r\n                                      type=\"text\"\r\n                                      className=\"form-control\"\r\n                                      id=\"name\"\r\n                                      name=\"name\"\r\n                                      onChange={handleChange}\r\n                                      value={newItem.name}\r\n                                      placeholder=\"e.g. Spicy chicken burger\"\r\n                                      required\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-check mt-4\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    className=\"form-check-input\"\r\n                                    id=\"propertyCheck\"\r\n                                    checked={newItem.hasProperty}\r\n                                    onChange={handlePropertyCheckboxChange}\r\n                                  />\r\n                                  <label\r\n                                    className=\"form-check-label pointer-cursor\"\r\n                                    htmlFor=\"propertyCheck\"\r\n                                  >\r\n                                    {_t(t(\"Has properties?\"))}\r\n                                  </label>\r\n                                </div>\r\n                                {propertyGroupForSearch && [\r\n                                  newItem.hasProperty && (\r\n                                    <div className=\"form-group mt-2 ml-4\">\r\n                                      <div className=\"mb-2\">\r\n                                        <label className=\"control-label\">\r\n                                          {_t(t(\"Add properties\"))}\r\n                                        </label>\r\n                                      </div>\r\n                                      <Select\r\n                                        options={propertyGroupForSearch}\r\n                                        components={makeAnimated()}\r\n                                        getOptionLabel={(option) => option.name}\r\n                                        getOptionValue={(option) => option.name}\r\n                                        className=\"basic-multi-select\"\r\n                                        classNamePrefix=\"select\"\r\n                                        isMulti\r\n                                        maxMenuHeight=\"200px\"\r\n                                        onChange={handleSetPropertes}\r\n                                        placeholder={\r\n                                          _t(t(\"Please select property groups\")) +\r\n                                          \"..\"\r\n                                        }\r\n                                      />\r\n                                    </div>\r\n                                  ),\r\n                                ]}\r\n\r\n                                <div className=\"form-check mt-4\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    className=\"form-check-input\"\r\n                                    id=\"variationCheck\"\r\n                                    checked={newItem.hasVariation}\r\n                                    onChange={handleVariationCheckboxChange}\r\n                                  />\r\n                                  <label\r\n                                    className=\"form-check-label pointer-cursor\"\r\n                                    htmlFor=\"variationCheck\"\r\n                                  >\r\n                                    {_t(t(\"Has variations?\"))}\r\n                                  </label>\r\n                                </div>\r\n\r\n                                {newItem.hasVariation && variationForSearch && (\r\n                                  <div className=\"form-group mt-2 ml-4\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        {_t(t(\"Add variations\"))}\r\n                                      </label>\r\n                                    </div>\r\n                                    <Select\r\n                                      options={variationForSearch}\r\n                                      components={makeAnimated()}\r\n                                      getOptionLabel={(option) => option.name}\r\n                                      getOptionValue={(option) => option.name}\r\n                                      className=\"basic-multi-select\"\r\n                                      classNamePrefix=\"select\"\r\n                                      isMulti\r\n                                      maxMenuHeight=\"200px\"\r\n                                      onChange={handleSetVariations}\r\n                                      placeholder={\r\n                                        _t(t(\"Please select variations\")) + \"..\"\r\n                                      }\r\n                                    />\r\n                                  </div>\r\n                                )}\r\n                                {newItem.variations !== null && [\r\n                                  newItem.variations.length > 0 && (\r\n                                    <div className=\"card ml-4 mt-3 p-3 custom-bg-secondary\">\r\n                                      <div className=\"card-header t-bg-epsilon text-white rounded-sm text-center\">\r\n                                        {_t(\r\n                                          t(\"Please enter price for each variation\")\r\n                                        )}\r\n                                      </div>\r\n                                      {newItem.variations.map((variationItem) => {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"form-group mt-4\"\r\n                                            key={variationItem.id}\r\n                                          >\r\n                                            <div className=\"mb-2\">\r\n                                              <label\r\n                                                htmlFor={variationItem.slug}\r\n                                                className=\"control-label sm-text\"\r\n                                              >\r\n                                                {_t(t(\"Total price of\"))}{\" \"}\r\n                                                <span className=\"text-primary text-bold\">\r\n                                                  {variationItem.name}\r\n                                                </span>{\" \"}\r\n                                                {_t(t(\"variation\"))}\r\n                                                <span className=\"text-primary\">\r\n                                                  *{\" \"}\r\n                                                </span>\r\n                                                <small className=\"text-secondary\">\r\n                                                  ({_t(t(\"Enter price in USD\"))})\r\n                                                </small>\r\n                                              </label>\r\n                                            </div>\r\n                                            <div className=\"mb-2\">\r\n                                              <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                min=\"0\"\r\n                                                className=\"form-control\"\r\n                                                id={variationItem.slug}\r\n                                                name={variationItem.slug}\r\n                                                onChange={handleVariationPrice}\r\n                                                placeholder=\"e.g. Type price of this item in 'US dollar'\"\r\n                                                required\r\n                                              />\r\n                                            </div>\r\n                                          </div>\r\n                                        );\r\n                                      })}\r\n                                    </div>\r\n                                  ),\r\n                                ]}\r\n\r\n                                {!newItem.hasVariation && (\r\n                                  <div className=\"form-group mt-4\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label\r\n                                        htmlFor=\"price\"\r\n                                        className=\"control-label\"\r\n                                      >\r\n                                        {_t(t(\"Price\"))}\r\n                                        <span className=\"text-primary\">* </span>\r\n                                        <small className=\"text-secondary\">\r\n                                          ({_t(t(\"Enter price in USD\"))})\r\n                                        </small>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <input\r\n                                        id=\"price\"\r\n                                        type=\"number\"\r\n                                        step=\"0.01\"\r\n                                        min=\"0\"\r\n                                        className=\"form-control\"\r\n                                        name=\"price\"\r\n                                        value={newItem.price}\r\n                                        onChange={handleChange}\r\n                                        placeholder=\"e.g. Type price of this item in 'US dollar'\"\r\n                                        required\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n\r\n                                <div className=\"form-check mt-4\">\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    className=\"form-check-input\"\r\n                                    id=\"specialCheck\"\r\n                                    checked={newItem.isSpecial}\r\n                                    onChange={handleSpecialCheckboxChange}\r\n                                  />\r\n                                  <label\r\n                                    className=\"form-check-label pointer-cursor\"\r\n                                    htmlFor=\"specialCheck\"\r\n                                  >\r\n                                    {_t(t(\"Is Special?\"))}\r\n                                  </label>\r\n                                </div>\r\n                                <div className=\"form-group mt-4\">\r\n                                  <div className=\"mb-2\">\r\n                                    <label\r\n                                      htmlFor=\"image\"\r\n                                      className=\"control-label\"\r\n                                    >\r\n                                      {_t(t(\"Image\"))}\r\n                                      <span className=\"text-danger\">*</span>{\" \"}\r\n                                      <small className=\"text-secondary\">\r\n                                        ({_t(t(\"300 x 300 Preferable\"))})\r\n                                      </small>\r\n                                    </label>\r\n                                  </div>\r\n                                  <div className=\"mb-2\">\r\n                                    <input\r\n                                      type=\"file\"\r\n                                      className=\"form-control sm-text\"\r\n                                      id=\"image\"\r\n                                      name=\"image\"\r\n                                      onChange={handleItemImage}\r\n                                      required\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group mt-5 pb-2\">\r\n                                  <div className=\"col-lg-12\">\r\n                                    <button\r\n                                      className=\"btn btn-primary px-5\"\r\n                                      type=\"submit\"\r\n                                    >\r\n                                      {_t(t(\"Save\"))}\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </form>\r\n                          </div>\r\n                          // end here\r\n                        ] : [\r\n                          <Expired />\r\n                        ]\r\n                      ]\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FoodItemCrud;\r\n"]},"metadata":{},"sourceType":"module"}