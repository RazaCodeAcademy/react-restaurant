{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useContext}from\"react\";import{useHistory}from\"react-router-dom\";//functions\nimport{_t,getCookie,tableLoading}from\"../../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";//pages & includes\nimport ManageSidebar from\"../ManageSidebar\";//context consumer\nimport{SettingsContext}from\"../../../../../contexts/Settings\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../../BaseUrl\";var Smtp=function Smtp(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading,dataPaginating=_useContext.dataPaginating,smtp=_useContext.smtp,getSmtp=_useContext.getSmtp,setSmtp=_useContext.setSmtp;//useEffect == componentDidMount()\nuseEffect(function(){},[]);//on change input field\nvar handleChange=function handleChange(e){setSmtp(_objectSpread(_objectSpread({},smtp),{},_defineProperty({},e.target.name,e.target.value)));};//send to server\nvar handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);var url=BASE_URL+\"/settings/set-smtp\";var formData={MAIL_MAILER:smtp.MAIL_MAILER,MAIL_HOST:smtp.MAIL_HOST,MAIL_PORT:smtp.MAIL_PORT,MAIL_USERNAME:smtp.MAIL_USERNAME,MAIL_PASSWORD:smtp.MAIL_PASSWORD,MAIL_ENCRYPTION:smtp.MAIL_ENCRYPTION,MAIL_FROM_ADDRESS:smtp.MAIL_FROM_ADDRESS,MAIL_FROM_NAME:smtp.MAIL_FROM_NAME};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setSmtp(_objectSpread(_objectSpread({},smtp),{},{MAIL_MAILER:res.data[0].MAIL_MAILER,MAIL_HOST:res.data[0].MAIL_HOST,MAIL_PORT:res.data[0].MAIL_PORT,MAIL_USERNAME:res.data[0].MAIL_USERNAME,MAIL_PASSWORD:res.data[0].MAIL_PASSWORD,MAIL_ENCRYPTION:res.data[0].MAIL_ENCRYPTION,MAIL_FROM_ADDRESS:res.data[0].MAIL_FROM_ADDRESS,MAIL_FROM_NAME:res.data[0].MAIL_FROM_NAME}));getSmtp();toast.success(\"\".concat(_t(t(\"SMTP settings has been updated\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});setLoading(false);}).catch(function(error){toast.error(\"\".concat(_t(t(\"Something unexpected happened, Please try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});setLoading(false);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Update Smtp\")))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(ManageSidebar,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--pos-menu table-bottom-info-hide\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),loading===true?tableLoading():/*#__PURE__*/React.createElement(\"div\",{key:\"smtp-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center pt-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-lg-3 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-capitalize\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-header border-bottom-0\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"panel-title text-center\"},_t(t(\"Update Smtp\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted text-center\"},_t(t(\"Please be carefull when you are configuring SMTP, For incorrect configuration you may get error in few features\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-horizontal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"panel-body\"},/*#__PURE__*/React.createElement(\"form\",{className:\"row\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6 order-2 order-sm-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Mail mailer\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\" *\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"select\",{name:\"MAIL_MAILER\",className:\"form-control rounded-sm pl-2 mb-2\",onChange:handleChange,value:smtp.MAIL_MAILER,required:true},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},_t(t(\"Please select an option\"))),/*#__PURE__*/React.createElement(\"option\",{value:\"sendmail\"},\"Sendmail\"),/*#__PURE__*/React.createElement(\"option\",{value:\"smtp\"},\"Smtp\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Mail host\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\" *\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"MAIL_HOST\",onChange:handleChange,value:smtp.MAIL_HOST,placeholder:\"localhost\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Mail port\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\" *\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"MAIL_PORT\",onChange:handleChange,placeholder:\"e.g. 587\",value:smtp.MAIL_PORT,required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Mail username\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\" *\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"MAIL_USERNAME\",onChange:handleChange,value:smtp.MAIL_USERNAME,placeholder:\"Enter your email username\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Mail password\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\" *\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"MAIL_PASSWORD\",onChange:handleChange,value:smtp.MAIL_PASSWORD,placeholder:\"Email password\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Mail encryption\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\" *\"))),/*#__PURE__*/React.createElement(\"select\",{name:\"MAIL_ENCRYPTION\",className:\"form-control rounded-sm pl-2 mb-2\",onChange:handleChange,value:smtp.MAIL_ENCRYPTION,required:true},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},_t(t(\"Please select an option\"))),/*#__PURE__*/React.createElement(\"option\",{value:\"ssl\"},\"ssl\"),/*#__PURE__*/React.createElement(\"option\",{value:\"tls\"},\"tls\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Mail from address\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\" *\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"MAIL_FROM_ADDRESS\",onChange:handleChange,value:smtp.MAIL_FROM_ADDRESS,placeholder:\"Mail from address\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Mail from name\",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\" *\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"MAIL_FROM_NAME\",onChange:handleChange,value:smtp.MAIL_FROM_NAME,placeholder:\"Mail from name\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary px-5\",type:\"submit\"},_t(t(\"Save\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6 order-1 order-sm-2 mb-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-2\"},_t(t(\"For Non-SSL\"))),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-dark\"},_t(t(\"Select 'sendmail' for Mail Mailer if you face any issue after configuring 'smtp' as Mail Mailer\"))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-dark\"},_t(t(\"Set Mail Host according to your server Mail Client Manual Settings\"))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-dark\"},_t(t(\"Set Mail port as '587'\"))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-dark\"},_t(t(\"Set Mail Encryption as 'ssl' if you face issue with 'tls'\")))),/*#__PURE__*/React.createElement(\"p\",{className:\"mt-3 mb-2\"},_t(t(\"For SSL\"))),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group mar-no\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-dark\"},_t(t(\"Select 'sendmail' for Mail Mailer if you face any issue after configuring 'smtp' as Mail Mailer\"))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-dark\"},_t(t(\"Set Mail Host according to your server Mail Client Manual Settings\"))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-dark\"},_t(t(\"Set Mail port as '465'\"))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item text-dark\"},_t(t(\"Set Mail Encryption as 'ssl'\"))))))))))))))))));};export default Smtp;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/settings/Smtp.js"],"names":["React","useEffect","useContext","useHistory","_t","getCookie","tableLoading","useTranslation","Helmet","toast","ManageSidebar","SettingsContext","axios","BASE_URL","Smtp","t","history","loading","setLoading","dataPaginating","smtp","getSmtp","setSmtp","handleChange","e","target","name","value","handleSubmit","preventDefault","url","formData","MAIL_MAILER","MAIL_HOST","MAIL_PORT","MAIL_USERNAME","MAIL_PASSWORD","MAIL_ENCRYPTION","MAIL_FROM_ADDRESS","MAIL_FROM_NAME","post","headers","Authorization","then","res","data","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","catch","error"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../../BaseUrl\";\r\n\r\nconst Smtp = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  //getting context values here\r\n  let {\r\n    loading,\r\n    setLoading,\r\n    dataPaginating,\r\n    smtp,\r\n    getSmtp,\r\n    setSmtp,\r\n  } = useContext(SettingsContext);\r\n\r\n  //useEffect == componentDidMount()\r\n  useEffect(() => {}, []);\r\n\r\n  //on change input field\r\n  const handleChange = (e) => {\r\n    setSmtp({ ...smtp, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //send to server\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const url = BASE_URL + `/settings/set-smtp`;\r\n    const formData = {\r\n      MAIL_MAILER: smtp.MAIL_MAILER,\r\n      MAIL_HOST: smtp.MAIL_HOST,\r\n      MAIL_PORT: smtp.MAIL_PORT,\r\n      MAIL_USERNAME: smtp.MAIL_USERNAME,\r\n      MAIL_PASSWORD: smtp.MAIL_PASSWORD,\r\n      MAIL_ENCRYPTION: smtp.MAIL_ENCRYPTION,\r\n      MAIL_FROM_ADDRESS: smtp.MAIL_FROM_ADDRESS,\r\n      MAIL_FROM_NAME: smtp.MAIL_FROM_NAME,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setSmtp({\r\n          ...smtp,\r\n          MAIL_MAILER: res.data[0].MAIL_MAILER,\r\n          MAIL_HOST: res.data[0].MAIL_HOST,\r\n          MAIL_PORT: res.data[0].MAIL_PORT,\r\n          MAIL_USERNAME: res.data[0].MAIL_USERNAME,\r\n          MAIL_PASSWORD: res.data[0].MAIL_PASSWORD,\r\n          MAIL_ENCRYPTION: res.data[0].MAIL_ENCRYPTION,\r\n          MAIL_FROM_ADDRESS: res.data[0].MAIL_FROM_ADDRESS,\r\n          MAIL_FROM_NAME: res.data[0].MAIL_FROM_NAME,\r\n        });\r\n        getSmtp();\r\n        toast.success(`${_t(t(\"SMTP settings has been updated\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        toast.error(\r\n          `${_t(t(\"Something unexpected happened, Please try again\"))}`,\r\n          {\r\n            position: \"bottom-center\",\r\n            autoClose: 10000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            className: \"text-center toast-notification\",\r\n          }\r\n        );\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Update Smtp\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center pt-0\">\r\n                          <div className=\"col-md-4 col-lg-3 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\"></span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"card-header border-bottom-0\">\r\n                          <h3 className=\"panel-title text-center\">\r\n                            {_t(t(\"Update Smtp\"))}\r\n                          </h3>\r\n\r\n                          <p className=\"text-muted text-center\">\r\n                            {_t(\r\n                              t(\r\n                                \"Please be carefull when you are configuring SMTP, For incorrect configuration you may get error in few features\"\r\n                              )\r\n                            )}\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                          <div className=\"form-horizontal\">\r\n                            <div className=\"panel-body\">\r\n                              <form className=\"row\" onSubmit={handleSubmit}>\r\n                                <div className=\"col-12 col-md-6 order-2 order-sm-1\">\r\n                                  <div className=\"form-group\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        Mail mailer\r\n                                        <span className=\"text-danger\"> *</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <select\r\n                                        name=\"MAIL_MAILER\"\r\n                                        className=\"form-control rounded-sm pl-2 mb-2\"\r\n                                        onChange={handleChange}\r\n                                        value={smtp.MAIL_MAILER}\r\n                                        required\r\n                                      >\r\n                                        <option value=\"\">\r\n                                          {_t(t(\"Please select an option\"))}\r\n                                        </option>\r\n                                        <option value=\"sendmail\">\r\n                                          Sendmail\r\n                                        </option>\r\n                                        <option value=\"smtp\">Smtp</option>\r\n                                      </select>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"form-group\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        Mail host\r\n                                        <span className=\"text-danger\"> *</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        name=\"MAIL_HOST\"\r\n                                        onChange={handleChange}\r\n                                        value={smtp.MAIL_HOST}\r\n                                        placeholder=\"localhost\"\r\n                                        required\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"form-group\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        Mail port\r\n                                        <span className=\"text-danger\"> *</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        name=\"MAIL_PORT\"\r\n                                        onChange={handleChange}\r\n                                        placeholder=\"e.g. 587\"\r\n                                        value={smtp.MAIL_PORT}\r\n                                        required\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"form-group\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        Mail username\r\n                                        <span className=\"text-danger\"> *</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        name=\"MAIL_USERNAME\"\r\n                                        onChange={handleChange}\r\n                                        value={smtp.MAIL_USERNAME}\r\n                                        placeholder=\"Enter your email username\"\r\n                                        required\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"form-group\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        Mail password\r\n                                        <span className=\"text-danger\"> *</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <input\r\n                                        type=\"password\"\r\n                                        className=\"form-control\"\r\n                                        name=\"MAIL_PASSWORD\"\r\n                                        onChange={handleChange}\r\n                                        value={smtp.MAIL_PASSWORD}\r\n                                        placeholder=\"Email password\"\r\n                                        required\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"form-group\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        Mail encryption\r\n                                        <span className=\"text-danger\"> *</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <select\r\n                                      name=\"MAIL_ENCRYPTION\"\r\n                                      className=\"form-control rounded-sm pl-2 mb-2\"\r\n                                      onChange={handleChange}\r\n                                      value={smtp.MAIL_ENCRYPTION}\r\n                                      required\r\n                                    >\r\n                                      <option value=\"\">\r\n                                        {_t(t(\"Please select an option\"))}\r\n                                      </option>\r\n                                      <option value=\"ssl\">ssl</option>\r\n                                      <option value=\"tls\">tls</option>\r\n                                    </select>\r\n                                  </div>\r\n                                  <div className=\"form-group\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        Mail from address\r\n                                        <span className=\"text-danger\"> *</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        name=\"MAIL_FROM_ADDRESS\"\r\n                                        onChange={handleChange}\r\n                                        value={smtp.MAIL_FROM_ADDRESS}\r\n                                        placeholder=\"Mail from address\"\r\n                                        required\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"form-group\">\r\n                                    <div className=\"mb-2\">\r\n                                      <label className=\"control-label\">\r\n                                        Mail from name\r\n                                        <span className=\"text-danger\"> *</span>\r\n                                      </label>\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        name=\"MAIL_FROM_NAME\"\r\n                                        onChange={handleChange}\r\n                                        value={smtp.MAIL_FROM_NAME}\r\n                                        placeholder=\"Mail from name\"\r\n                                        required\r\n                                      />\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"form-group mt-3 pb-2\">\r\n                                    <div className=\"col-lg-12\">\r\n                                      <button\r\n                                        className=\"btn btn-primary px-5\"\r\n                                        type=\"submit\"\r\n                                      >\r\n                                        {_t(t(\"Save\"))}\r\n                                      </button>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"col-12 col-md-6 order-1 order-sm-2 mb-3\">\r\n                                  <p className=\"mb-2\">{_t(t(\"For Non-SSL\"))}</p>\r\n                                  <ul className=\"list-group\">\r\n                                    <li className=\"list-group-item text-dark\">\r\n                                      {_t(\r\n                                        t(\r\n                                          \"Select 'sendmail' for Mail Mailer if you face any issue after configuring 'smtp' as Mail Mailer\"\r\n                                        )\r\n                                      )}\r\n                                    </li>\r\n                                    <li className=\"list-group-item text-dark\">\r\n                                      {_t(\r\n                                        t(\r\n                                          \"Set Mail Host according to your server Mail Client Manual Settings\"\r\n                                        )\r\n                                      )}\r\n                                    </li>\r\n                                    <li className=\"list-group-item text-dark\">\r\n                                      {_t(t(\"Set Mail port as '587'\"))}\r\n                                    </li>\r\n                                    <li className=\"list-group-item text-dark\">\r\n                                      {_t(\r\n                                        t(\r\n                                          \"Set Mail Encryption as 'ssl' if you face issue with 'tls'\"\r\n                                        )\r\n                                      )}\r\n                                    </li>\r\n                                  </ul>\r\n\r\n                                  <p className=\"mt-3 mb-2\">\r\n                                    {_t(t(\"For SSL\"))}\r\n                                  </p>\r\n                                  <ul className=\"list-group mar-no\">\r\n                                    <li className=\"list-group-item text-dark\">\r\n                                      {_t(\r\n                                        t(\r\n                                          \"Select 'sendmail' for Mail Mailer if you face any issue after configuring 'smtp' as Mail Mailer\"\r\n                                        )\r\n                                      )}\r\n                                    </li>\r\n                                    <li className=\"list-group-item text-dark\">\r\n                                      {_t(\r\n                                        t(\r\n                                          \"Set Mail Host according to your server Mail Client Manual Settings\"\r\n                                        )\r\n                                      )}\r\n                                    </li>\r\n                                    <li className=\"list-group-item text-dark\">\r\n                                      {_t(t(\"Set Mail port as '465'\"))}\r\n                                    </li>\r\n                                    <li className=\"list-group-item text-dark\">\r\n                                      {_t(t(\"Set Mail Encryption as 'ssl'\"))}\r\n                                    </li>\r\n                                  </ul>\r\n                                </div>\r\n                              </form>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Smtp;\r\n"]},"metadata":{},"sourceType":"module"}