{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState,useRef}from\"react\";import{NavLink}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../BaseUrl\";//jQuery initialization\nimport $ from\"jquery\";//functions\nimport{_t,getCookie,currencySymbolLeft,formatPrice,currencySymbolRight,modalLoading,pageLoading,paginationLoading,pagination,showingData,searchedShowingData,getSystemSettings}from\"../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import Select from\"react-select\";import makeAnimated from\"react-select/animated\";import{confirmAlert}from\"react-confirm-alert\";import\"react-confirm-alert/src/react-confirm-alert.css\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Moment from\"react-moment\";import{useReactToPrint}from\"react-to-print\";//importing context consumer here\nimport{SettingsContext}from\"../../../../contexts/Settings\";import{RestaurantContext}from\"../../../../contexts/Restaurant\";import{FoodContext}from\"../../../../contexts/Food\";import{UserContext}from\"../../../../contexts/User\";var AssignedOrders=function AssignedOrders(){//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading,generalSettings=_useContext.generalSettings;var _useContext2=useContext(UserContext),getDeliveryUser=_useContext2.getDeliveryUser,deliveryForSearch=_useContext2.deliveryForSearch;var _useContext3=useContext(RestaurantContext),pendingOrdersDelivery=_useContext3.pendingOrdersDelivery,setPendingOrdersDelivery=_useContext3.setPendingOrdersDelivery,pendingOrdersDeliveryForSearch=_useContext3.pendingOrdersDeliveryForSearch,setPendingOrdersDeliveryForSearch=_useContext3.setPendingOrdersDeliveryForSearch,getDeliveryPendingOrders=_useContext3.getDeliveryPendingOrders,setPaginatedDeliveryPendingOrders=_useContext3.setPaginatedDeliveryPendingOrders,dataPaginating=_useContext3.dataPaginating;var _useTranslation=useTranslation(),t=_useTranslation.t;//print bills\nvar componentRef=useRef();//settle order\nvar _useState=useState({item:null,settle:false,cancel:false,time_to_deliver:null,delivery_man_id:null,uploading:false}),_useState2=_slicedToArray(_useState,2),checkOrderDetails=_useState2[0],setCheckOrderDetails=_useState2[1];//search result\nvar _useState3=useState({list:null,searched:false}),_useState4=_slicedToArray(_useState3,2),searchedOrder=_useState4[0],setSearchedOrder=_useState4[1];//online order counter\nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),onlineCounter=_useState6[0],setOnlineCounter=_useState6[1];//useEffect == componentDidMount\nuseEffect(function(){getDeliveryPendingOrders();getDeliveryUser();//check online orders\nvar interval=setInterval(function(){var pendingUrl=BASE_URL+\"/settings/get-assigned-counters\";return axios.get(pendingUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){if(res.data>0){setOnlineCounter(res.data);var order=document.getElementById(\"myAudioOrder\");order.play();}}).catch(function(err){});},30000);},[]);//show price of each item in print\nvar showPriceOfEachOrderItemPrint=function showPriceOfEachOrderItemPrint(thisItem){var price=0;var tempPropertyPrice=0;if(thisItem.properties!==null){var propertyItems=JSON.parse(thisItem.properties);propertyItems.forEach(function(propertyItem,thisIndex){var temp=propertyItem.quantity*propertyItem.price_per_qty*thisItem.quantity;tempPropertyPrice=tempPropertyPrice+temp;});}price=thisItem.price-tempPropertyPrice;return formatPrice(price);};//search submitted orders here\nvar handleSearch=function handleSearch(e){var searchInput=e.target.value.toLowerCase();if(searchInput.length===0){setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{searched:false}));}else{var searchedList=pendingOrdersDeliveryForSearch.filter(function(item){//token\nvar lowerCaseItemToken=JSON.stringify(item.token);//customer\nvar lowerCaseItemCustomer=item.user_name.toLowerCase();//branch\nvar lowerCaseItemBranch=item.branch_name.toLowerCase();return lowerCaseItemToken.includes(searchInput)||lowerCaseItemCustomer.includes(searchInput)||lowerCaseItemBranch&&lowerCaseItemBranch.includes(searchInput);});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:searchedList,searched:true}));}};//print here\nvar handleOnlyPrint=useReactToPrint({content:function content(){return componentRef.current;}});//ready here\nvar handleReadyOrder=function handleReadyOrder(id){var tempSettledOrders=pendingOrdersDelivery;var tempSearchedItems=searchedOrder.list;var url=BASE_URL+\"/settings/settle-order-ready/\"+id;var theItems=pendingOrdersDelivery.data.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{is_ready:1,orderedItems:item.orderedItems.map(function(eachItem){return _objectSpread(_objectSpread({},eachItem),{},{is_cooking:1,is_ready:1});})});}else{return item;}});if(searchedOrder.list!==null&&searchedOrder.list.length>0){var searchedItems=searchedOrder.list.map(function(searchedItem){if(searchedItem.id===id){return _objectSpread(_objectSpread({},searchedItem),{},{is_ready:1,orderedItems:searchedItem.orderedItems.map(function(eachorderItem){return _objectSpread(_objectSpread({},eachorderItem),{},{is_cooking:1,is_ready:1});})});}else{return searchedItem;}});setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:searchedItems}));}setPendingOrdersDelivery(_objectSpread(_objectSpread({},pendingOrdersDelivery),{},{data:theItems}));axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){}).catch(function(error){setPendingOrdersDelivery(tempSettledOrders);setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{list:tempSearchedItems}));});};//submit accept order request\nvar handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);var url=BASE_URL+\"/website/accept-order\";var formData={time_to_deliver:checkOrderDetails.time_to_deliver,delivery_man_id:checkOrderDetails.delivery_man_id,id:checkOrderDetails.item.id};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){var temp=checkOrderDetails.item;temp.is_accepted=1;temp.time_to_deliver=checkOrderDetails.time_to_deliver;setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{item:temp,time_to_deliver:null,reason_of_cancel:null,delivery_man_id:null,settle:false}));handleOnlyPrint();setLoading(false);}).catch(function(err){});};//submit cancel order request\nvar handleSubmitCancel=function handleSubmitCancel(e){e.preventDefault();setLoading(true);var url=BASE_URL+\"/website/cancel-order\";var formData={reason_of_cancel:checkOrderDetails.reason_of_cancel,id:checkOrderDetails.item.id};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){var temp=checkOrderDetails.item;temp.is_cancelled=1;temp.reason_of_cancel=checkOrderDetails.reason_of_cancel;setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{item:temp,reason_of_cancel:null,cancel:false}));setLoading(false);}).catch(function(err){});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Online Orders\")))),/*#__PURE__*/React.createElement(\"audio\",{id:\"myAudioOrder\"},/*#__PURE__*/React.createElement(\"source\",{src:\"/assets/beep/order.mp3\",type:\"audio/mpeg\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{ref:componentRef},checkOrderDetails&&checkOrderDetails.item&&/*#__PURE__*/React.createElement(\"div\",{className:\"fk-print\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block fk-print-text font-weight-bold text-uppercase text-center sm-text\"},getSystemSettings(generalSettings,\"siteName\"),\",\",checkOrderDetails.item.branch_name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 sm-text fk-print-text text-center text-capitalize\"},checkOrderDetails.item.theBranch!==null&&checkOrderDetails.item.theBranch.address?checkOrderDetails.item.theBranch.address:\"\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 sm-text fk-print-text text-center text-capitalize\"},_t(t(\"call\")),\":\",\" \",checkOrderDetails.item.theBranch!==null&&checkOrderDetails.item.theBranch.phn_no?checkOrderDetails.item.theBranch.phn_no:\"\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 sm-text fk-print-text text-center text-capitalize\"},getSystemSettings(generalSettings,\"type_print_heading\")),/*#__PURE__*/React.createElement(\"span\",{className:\"d-block fk-print-text text-uppercase text-center lg-text myBorderTopCustomer\"},_t(t(\"Token No\")),\"-\",checkOrderDetails.item.token),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 mt-0 sm-text fk-print-text text-capitalize text-center\"},_t(t(\"Online Customer\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize\"},_t(t(\"date\")),\":\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LL\"},checkOrderDetails.item.created_at)),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 sm-text fk-print-text text-capitalize\"},checkOrderDetails.item.payment_method===\"COD\"&&\"Cash On Delivery\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize\"},_t(t(\"Delivery Address\")),\":\",\" \",checkOrderDetails.item.delivery_address),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize\"},_t(t(\"Contact\")),\":\",\" \",checkOrderDetails.item.delivery_phn_no),/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless akash-table-for-print-padding\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"fk-print-text xsm-text text-capitalize\"},_t(t(\"qty\")),\" \",_t(t(\"item\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"fk-print-text xsm-text text-capitalize text-right\"},_t(t(\"T\")),\".\",_t(t(\"price\"))))),/*#__PURE__*/React.createElement(\"tbody\",null,checkOrderDetails.item&&checkOrderDetails.item.orderedItems.map(function(thisItem,indexThisItem){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block xsm-text\"},\"-\",thisItem.quantity,\" \",thisItem.food_item,thisItem.variation!==null&&\"(\"+thisItem.variation+\")\")),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-block\"},JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){return/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block mr-1\"},\"-\",thisItem.quantity,propertyItem.quantity>1?\"*\"+propertyItem.quantity:\"\",\" \",propertyItem.property);}))),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-block xsm-text\"},showPriceOfEachOrderItemPrint(thisItem)),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-block\"},JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){return/*#__PURE__*/React.createElement(\"div\",_defineProperty({className:\"d-block\"},\"className\",\"text-capitalize xsm-text\"),/*#__PURE__*/React.createElement(\"span\",null,formatPrice(thisItem.quantity*propertyItem.quantity*propertyItem.price_per_qty),/*#__PURE__*/React.createElement(\"br\",null)));}))));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"myBorder\"}),/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"total\")))),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(checkOrderDetails.item.order_bill))))),parseFloat(checkOrderDetails.item.vat)>0&&/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block xsm-text\"},_t(t(\"VAT\")),\" (\",generalSettings&&getSystemSettings(generalSettings,\"type_vat\"),\"%\",\")\")),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(checkOrderDetails.item.vat))))),/*#__PURE__*/React.createElement(\"div\",{className:\"myBorder\"}),/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"grand total\")))),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(checkOrderDetails.item.total_payable))))),/*#__PURE__*/React.createElement(\"div\",{className:\"myBorder\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-center text-capitalize\"},getSystemSettings(generalSettings,\"type_print_footer\")))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"orderDetails\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-capitalize fk-sm-card__title\"},_t(t(\"Order details, Token\")),\": #\",checkOrderDetails.item&&checkOrderDetails.item.token)),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"})),loading?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},modalLoading(5)):/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"my-auto text-uppercase\"},_t(t(\"Status\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2 w-100 mx-2\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",onChange:function onChange(e){var url=BASE_URL+\"/settings/change-status\";var formData={id:checkOrderDetails.item.id,status:e.target.value};return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setPendingOrdersDelivery(res.data[0]);setPendingOrdersDeliveryForSearch(res.data[1]);setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{item:_objectSpread(_objectSpread({},checkOrderDetails.item),{},{delivery_status:formData.status})}));}).catch(function(err){toast.error(\"\".concat(_t(t(\"Please try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});},required:true},/*#__PURE__*/React.createElement(\"option\",{value:\"pending\",selected:checkOrderDetails.item&&checkOrderDetails.item.delivery_status===\"pending\"},_t(t(\"Pending\"))),/*#__PURE__*/React.createElement(\"option\",{value:\"accepted\",selected:checkOrderDetails.item&&checkOrderDetails.item.delivery_status===\"accepted\"},_t(t(\"Accepted\"))),/*#__PURE__*/React.createElement(\"option\",{value:\"delivered\",selected:checkOrderDetails.item&&checkOrderDetails.item.delivery_status===\"delivered\"},_t(t(\"Delivered\")))))),!checkOrderDetails.cancel?/*#__PURE__*/React.createElement(React.Fragment,null,!checkOrderDetails.settle?/*#__PURE__*/React.createElement(\"div\",{class:\"col-12 filtr-item\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-order-token t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-order-token__body\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table\"},/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__head text-center\"},_t(t(\"order token\")),\": #\",checkOrderDetails.item&&checkOrderDetails.item.token),/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__info\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"S/L\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"food\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-left pl-2 border-right\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"Additional Info\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"QTY\")))))),checkOrderDetails.item&&checkOrderDetails.item.orderedItems.map(function(thisItem,indexThisItem){return/*#__PURE__*/React.createElement(\"div\",{class:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},indexThisItem+1)),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right d-flex\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.food_item,\" (\",thisItem.food_group,\")\")),/*#__PURE__*/React.createElement(\"div\",{class:\"col-4 text-center border-right t-pl-10 t-pr-10\"},thisItem.variation!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"variation\")),\":\"),thisItem.variation),thisItem.properties!==null&&/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\"},/*#__PURE__*/React.createElement(\"span\",{class:\"font-weight-bold mr-1\"},_t(t(\"properties\")),\":\"),JSON.parse(thisItem.properties).map(function(propertyItem,thisIndex){if(thisIndex!==JSON.parse(thisItem.properties).length-1){return propertyItem.property+\"\".concat(propertyItem.quantity>1?\"(\"+propertyItem.quantity+\")\":\"\")+\", \";}else{return propertyItem.property+\"\".concat(propertyItem.quantity>1?\"(\"+propertyItem.quantity+\")\":\"\");}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-2 text-center border-right d-flex\"},/*#__PURE__*/React.createElement(\"span\",{class:\"fk-addons-table__info-text text-capitalize m-auto\"},thisItem.quantity))));}))))):/*#__PURE__*/React.createElement(\"div\",{className:\"my-2 payment-type-parent\"},/*#__PURE__*/React.createElement(\"form\",{className:\"border my-2 alert-success rounded-lg\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"sm-text ml-2 py-2\"},_t(t(\"Time To Deliver The Order\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"addons-list__item mx-2 mb-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",min:\"0\",step:\"0.1\",name:\"time_to_deliver\",placeholder:\"Time in minutes\",className:\"form-control xsm-text pl-2\",onChange:function onChange(e){setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{time_to_deliver:e.target.value}));},value:checkOrderDetails.time_to_deliver,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"sm-text ml-2 py-2\"},_t(t(\"Assign Delivery Man\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"addons-list__item mx-2 mb-1\"},/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",onChange:function onChange(e){setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{delivery_man_id:e.target.value}));},required:true},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},_t(t(\"Please select deliveryman\"))),deliveryForSearch&&deliveryForSearch.map(function(each){return/*#__PURE__*/React.createElement(\"option\",{value:each.id},each.name,\"(\",each.phn_no,\")\");}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pb-2 pl-2 mt-3 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-success text-center px-3 text-uppercase\",type:\"submit\"},_t(t(\"Accept\"))))))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"my-2 payment-type-parent\"},/*#__PURE__*/React.createElement(\"form\",{className:\"border my-2 alert-danger rounded-lg\",onSubmit:handleSubmitCancel},/*#__PURE__*/React.createElement(\"div\",{className:\"sm-text text-center py-2\"},_t(t(\"Please write a reason\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"addons-list__item mx-2 mb-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"reason_of_cancel\",placeholder:\"Please write a reason\",className:\"form-control xsm-text pl-2\",onChange:function onChange(e){setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{reason_of_cancel:e.target.value}));},value:checkOrderDetails.reason_of_cancel,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"pb-2 pl-2 my-2 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-primary text-center text-dark px-3 text-uppercase\",type:\"submit\"},_t(t(\"Submit\"))))))),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped table-sm text-center mt-3\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"bg-info text-white text-uppercase\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",colSpan:\"2\"},_t(t(\"Order details\"))))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Customer\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.user_name)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Contact\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.delivery_phn_no)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Delivery Address\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.delivery_address)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Note to rider\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.note_to_rider)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Time To Deliver\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.time_to_deliver!==null?checkOrderDetails.item.time_to_deliver+\" min(s)\":\"\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-capitalized\"},_t(t(\"Branch\"))),/*#__PURE__*/React.createElement(\"td\",null,checkOrderDetails.item&&checkOrderDetails.item.branch_name)))))))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 t-mb-30 mb-lg-0\"},checkOrderDetails.uploading===true||loading===true?pageLoading():/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white \"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center t-pt-15 t-pb-15 t-pl-15 t-pr-15 t-shadow\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 t-mb-15\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-capitalize\"},!searchedOrder.searched?/*#__PURE__*/React.createElement(React.Fragment,null,_t(t(\"Assigned Orders\")),onlineCounter>0&&/*#__PURE__*/React.createElement(\"span\",{className:\"bg-danger text-white p-1 ml-2 rounded-md\"},\"(\",onlineCounter,\")\")):_t(t(\"Search Result\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-5 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-sort align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0 form-control--light-1 rounded-0\",placeholder:_t(t(\"Search by token, customer\"))+\"..\",onChange:handleSearch})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-search\",\"aria-hidden\":\"true\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-7\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--order-history\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover min-table-height mt-4\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"S/L\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Token\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Time\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Customer\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Status\"))))),/*#__PURE__*/React.createElement(\"tbody\",{className:\"align-middle\"},!searchedOrder.searched?[pendingOrdersDelivery&&[pendingOrdersDelivery.data.length===0?/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"td\",{scope:\"row\",colSpan:\"8\",className:\"xsm-text align-middle text-center\"},_t(t(\"No data available\")))):pendingOrdersDelivery.data.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\",key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",className:\"xsm-text text-capitalize align-middle text-center\"},index+1+(pendingOrdersDelivery.current_page-1)*pendingOrdersDelivery.per_page),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center text-secondary\"},\"#\",item.token),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},/*#__PURE__*/React.createElement(Moment,{format:\"LLL\"},item.created_at)),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},item.user_name),/*#__PURE__*/React.createElement(\"td\",{class:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-transparent btn-secondary xsm-text text-capitalize px-3\",onClick:function onClick(){setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{item:item,settle:false,cancel:false}));},\"data-toggle\":\"modal\",\"data-target\":\"#orderDetails\"},item.delivery_status)));})]]:[/* searched data, logic === haveData*/searchedOrder&&[searchedOrder.list.length===0?/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"td\",{scope:\"row\",colSpan:\"8\",className:\"xsm-text align-middle text-center\"},_t(t(\"No data available\")))):searchedOrder.list.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\",key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",className:\"xsm-text text-capitalize align-middle text-center\"},index+1+(pendingOrdersDelivery.current_page-1)*pendingOrdersDelivery.per_page),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center text-secondary\"},\"#\",item.token),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},/*#__PURE__*/React.createElement(Moment,{format:\"LLL\"},item.created_at)),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},item.user_name),/*#__PURE__*/React.createElement(\"td\",{class:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-transparent btn-secondary xsm-text text-capitalize px-3\",onClick:function onClick(){setCheckOrderDetails(_objectSpread(_objectSpread({},checkOrderDetails),{},{item:item,settle:false,cancel:false}));},\"data-toggle\":\"modal\",\"data-target\":\"#orderDetails\"},item.delivery_status)));})]])))))),checkOrderDetails.uploading===true||loading===true?paginationLoading():[// logic === !searched\n!searchedOrder.searched?/*#__PURE__*/React.createElement(\"div\",{key:\"fragment4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white mt-1 t-pt-5 t-pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 t-mb-15 mb-md-0\"},pagination(pendingOrdersDelivery,setPaginatedDeliveryPendingOrders)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex justify-content-md-end align-items-center\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block sm-text\"},showingData(pendingOrdersDelivery)))))))):/*#__PURE__*/ // if searched\nReact.createElement(\"div\",{className:\"t-bg-white mt-1 t-pt-5 t-pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item no-pagination-style\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm\",onClick:function onClick(){return setSearchedOrder(_objectSpread(_objectSpread({},searchedOrder),{},{searched:false}));}},_t(t(\"Clear Search\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex justify-content-md-end align-items-center\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block sm-text\"},searchedShowingData(searchedOrder,pendingOrdersDeliveryForSearch)))))))])))));};export default AssignedOrders;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/delivery/AssignedOrders.js"],"names":["React","useEffect","useContext","useState","useRef","NavLink","axios","BASE_URL","$","_t","getCookie","currencySymbolLeft","formatPrice","currencySymbolRight","modalLoading","pageLoading","paginationLoading","pagination","showingData","searchedShowingData","getSystemSettings","useTranslation","Helmet","Select","makeAnimated","confirmAlert","toast","Moment","useReactToPrint","SettingsContext","RestaurantContext","FoodContext","UserContext","AssignedOrders","loading","setLoading","generalSettings","getDeliveryUser","deliveryForSearch","pendingOrdersDelivery","setPendingOrdersDelivery","pendingOrdersDeliveryForSearch","setPendingOrdersDeliveryForSearch","getDeliveryPendingOrders","setPaginatedDeliveryPendingOrders","dataPaginating","t","componentRef","item","settle","cancel","time_to_deliver","delivery_man_id","uploading","checkOrderDetails","setCheckOrderDetails","list","searched","searchedOrder","setSearchedOrder","onlineCounter","setOnlineCounter","interval","setInterval","pendingUrl","get","headers","Authorization","then","res","data","order","document","getElementById","play","catch","err","showPriceOfEachOrderItemPrint","thisItem","price","tempPropertyPrice","properties","propertyItems","JSON","parse","forEach","propertyItem","thisIndex","temp","quantity","price_per_qty","handleSearch","e","searchInput","target","value","toLowerCase","length","searchedList","filter","lowerCaseItemToken","stringify","token","lowerCaseItemCustomer","user_name","lowerCaseItemBranch","branch_name","includes","handleOnlyPrint","content","current","handleReadyOrder","id","tempSettledOrders","tempSearchedItems","url","theItems","map","is_ready","orderedItems","eachItem","is_cooking","searchedItems","searchedItem","eachorderItem","error","handleSubmit","preventDefault","formData","post","is_accepted","reason_of_cancel","handleSubmitCancel","is_cancelled","theBranch","address","phn_no","created_at","payment_method","delivery_address","delivery_phn_no","indexThisItem","food_item","variation","property","order_bill","parseFloat","vat","total_payable","status","delivery_status","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","food_group","each","name","note_to_rider","index","current_page","per_page"],"mappings":"mfAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,CAAuCC,QAAvC,CAAiDC,MAAjD,KAA+D,OAA/D,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,qBAAzB,CAEA;AACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CAEA;AACA,OACEC,EADF,CAEEC,SAFF,CAGEC,kBAHF,CAIEC,WAJF,CAKEC,mBALF,CAMEC,YANF,CAOEC,WAPF,CAQEC,iBARF,CASEC,UATF,CAUEC,WAVF,CAWEC,mBAXF,CAYEC,iBAZF,KAaO,iCAbP,CAcA,OAASC,cAAT,KAA+B,eAA/B,CAEA;AACA,OAASC,MAAT,KAAuB,cAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,uBAAzB,CACA,OAASC,YAAT,KAA6B,qBAA7B,CACA,MAAO,iDAAP,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAO,uCAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,eAAT,KAAgC,gBAAhC,CAEA;AACA,OAASC,eAAT,KAAgC,+BAAhC,CACA,OAASC,iBAAT,KAAkC,iCAAlC,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,OAASC,WAAT,KAA4B,2BAA5B,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B;AAD2B,gBAOvB/B,UAAU,CAAC2B,eAAD,CAPa,CAIzBK,OAJyB,aAIzBA,OAJyB,CAKzBC,UALyB,aAKzBA,UALyB,CAMzBC,eANyB,aAMzBA,eANyB,kBASoBlC,UAAU,CAAC8B,WAAD,CAT9B,CASnBK,eATmB,cASnBA,eATmB,CASFC,iBATE,cASFA,iBATE,kBAoBvBpC,UAAU,CAAC4B,iBAAD,CApBa,CAYzBS,qBAZyB,cAYzBA,qBAZyB,CAazBC,wBAbyB,cAazBA,wBAbyB,CAczBC,8BAdyB,cAczBA,8BAdyB,CAezBC,iCAfyB,cAezBA,iCAfyB,CAgBzBC,wBAhByB,cAgBzBA,wBAhByB,CAiBzBC,iCAjByB,cAiBzBA,iCAjByB,CAmBzBC,cAnByB,cAmBzBA,cAnByB,qBAsBbxB,cAAc,EAtBD,CAsBnByB,CAtBmB,iBAsBnBA,CAtBmB,CAuB3B;AACA,GAAMC,CAAAA,YAAY,CAAG3C,MAAM,EAA3B,CAEA;AA1B2B,cA2BuBD,QAAQ,CAAC,CACzD6C,IAAI,CAAE,IADmD,CAEzDC,MAAM,CAAE,KAFiD,CAGzDC,MAAM,CAAE,KAHiD,CAIzDC,eAAe,CAAE,IAJwC,CAKzDC,eAAe,CAAE,IALwC,CAMzDC,SAAS,CAAE,KAN8C,CAAD,CA3B/B,wCA2BpBC,iBA3BoB,eA2BDC,oBA3BC,eAoC3B;AApC2B,eAqCepD,QAAQ,CAAC,CACjDqD,IAAI,CAAE,IAD2C,CAEjDC,QAAQ,CAAE,KAFuC,CAAD,CArCvB,yCAqCpBC,aArCoB,eAqCLC,gBArCK,eA0C3B;AA1C2B,eA2CexD,QAAQ,CAAC,CAAD,CA3CvB,yCA2CpByD,aA3CoB,eA2CLC,gBA3CK,eA6C3B;AACA5D,SAAS,CAAC,UAAM,CACd0C,wBAAwB,GACxBN,eAAe,GACf;AACA,GAAMyB,CAAAA,QAAQ,CAAGC,WAAW,CAAC,UAAM,CACjC,GAAMC,CAAAA,UAAU,CAAGzD,QAAQ,CAAG,iCAA9B,CACA,MAAOD,CAAAA,KAAK,CACT2D,GADI,CACAD,UADA,CACY,CACfE,OAAO,CAAE,CAAEC,aAAa,kBAAYzD,SAAS,EAArB,CAAf,CADM,CADZ,EAIJ0D,IAJI,CAIC,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAJ,CAAW,CAAf,CAAkB,CAChBT,gBAAgB,CAACQ,GAAG,CAACC,IAAL,CAAhB,CACA,GAAIC,CAAAA,KAAK,CAAGC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAZ,CACAF,KAAK,CAACG,IAAN,GACD,CACF,CAVI,EAWJC,KAXI,CAWE,SAACC,GAAD,CAAS,CAAE,CAXb,CAAP,CAYD,CAd2B,CAczB,KAdyB,CAA5B,CAeD,CAnBQ,CAmBN,EAnBM,CAAT,CAoBA;AACA,GAAMC,CAAAA,6BAA6B,CAAG,QAAhCA,CAAAA,6BAAgC,CAACC,QAAD,CAAc,CAClD,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAIC,CAAAA,iBAAiB,CAAG,CAAxB,CACA,GAAIF,QAAQ,CAACG,UAAT,GAAwB,IAA5B,CAAkC,CAChC,GAAIC,CAAAA,aAAa,CAAGC,IAAI,CAACC,KAAL,CAAWN,QAAQ,CAACG,UAApB,CAApB,CACAC,aAAa,CAACG,OAAd,CAAsB,SAACC,YAAD,CAAeC,SAAf,CAA6B,CACjD,GAAIC,CAAAA,IAAI,CACNF,YAAY,CAACG,QAAb,CACAH,YAAY,CAACI,aADb,CAEAZ,QAAQ,CAACW,QAHX,CAIAT,iBAAiB,CAAGA,iBAAiB,CAAGQ,IAAxC,CACD,CAND,EAOD,CACDT,KAAK,CAAGD,QAAQ,CAACC,KAAT,CAAiBC,iBAAzB,CACA,MAAOpE,CAAAA,WAAW,CAACmE,KAAD,CAAlB,CACD,CAfD,CAiBA;AACA,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B,GAAIC,CAAAA,WAAW,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,WAAf,EAAlB,CACA,GAAIH,WAAW,CAACI,MAAZ,GAAuB,CAA3B,CAA8B,CAC5BtC,gBAAgB,gCAAMD,aAAN,MAAqBD,QAAQ,CAAE,KAA/B,GAAhB,CACD,CAFD,IAEO,CACL,GAAIyC,CAAAA,YAAY,CAAGzD,8BAA8B,CAAC0D,MAA/B,CAAsC,SAACnD,IAAD,CAAU,CACjE;AACA,GAAIoD,CAAAA,kBAAkB,CAAGjB,IAAI,CAACkB,SAAL,CAAerD,IAAI,CAACsD,KAApB,CAAzB,CAEA;AACA,GAAIC,CAAAA,qBAAqB,CAAGvD,IAAI,CAACwD,SAAL,CAAeR,WAAf,EAA5B,CAEA;AACA,GAAIS,CAAAA,mBAAmB,CAAGzD,IAAI,CAAC0D,WAAL,CAAiBV,WAAjB,EAA1B,CACA,MACEI,CAAAA,kBAAkB,CAACO,QAAnB,CAA4Bd,WAA5B,GACAU,qBAAqB,CAACI,QAAtB,CAA+Bd,WAA/B,CADA,EAECY,mBAAmB,EAAIA,mBAAmB,CAACE,QAApB,CAA6Bd,WAA7B,CAH1B,CAKD,CAdkB,CAAnB,CAeAlC,gBAAgB,gCACXD,aADW,MAEdF,IAAI,CAAE0C,YAFQ,CAGdzC,QAAQ,CAAE,IAHI,GAAhB,CAKD,CACF,CA1BD,CA4BA;AACA,GAAMmD,CAAAA,eAAe,CAAGhF,eAAe,CAAC,CACtCiF,OAAO,CAAE,yBAAM9D,CAAAA,YAAY,CAAC+D,OAAnB,EAD6B,CAAD,CAAvC,CAIA;AACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,EAAD,CAAQ,CAC/B,GAAIC,CAAAA,iBAAiB,CAAG1E,qBAAxB,CACA,GAAI2E,CAAAA,iBAAiB,CAAGxD,aAAa,CAACF,IAAtC,CACA,GAAM2D,CAAAA,GAAG,CAAG5G,QAAQ,CAAG,+BAAX,CAA6CyG,EAAzD,CACA,GAAII,CAAAA,QAAQ,CAAG7E,qBAAqB,CAAC+B,IAAtB,CAA2B+C,GAA3B,CAA+B,SAACrE,IAAD,CAAU,CACtD,GAAIA,IAAI,CAACgE,EAAL,GAAYA,EAAhB,CAAoB,CAClB,sCACKhE,IADL,MAEEsE,QAAQ,CAAE,CAFZ,CAGEC,YAAY,CAAEvE,IAAI,CAACuE,YAAL,CAAkBF,GAAlB,CAAsB,SAACG,QAAD,CAAc,CAChD,sCACKA,QADL,MAEEC,UAAU,CAAE,CAFd,CAGEH,QAAQ,CAAE,CAHZ,GAKD,CANa,CAHhB,GAWD,CAZD,IAYO,CACL,MAAOtE,CAAAA,IAAP,CACD,CACF,CAhBc,CAAf,CAiBA,GAAIU,aAAa,CAACF,IAAd,GAAuB,IAAvB,EAA+BE,aAAa,CAACF,IAAd,CAAmByC,MAAnB,CAA4B,CAA/D,CAAkE,CAChE,GAAIyB,CAAAA,aAAa,CAAGhE,aAAa,CAACF,IAAd,CAAmB6D,GAAnB,CAAuB,SAACM,YAAD,CAAkB,CAC3D,GAAIA,YAAY,CAACX,EAAb,GAAoBA,EAAxB,CAA4B,CAC1B,sCACKW,YADL,MAEEL,QAAQ,CAAE,CAFZ,CAGEC,YAAY,CAAEI,YAAY,CAACJ,YAAb,CAA0BF,GAA1B,CAA8B,SAACO,aAAD,CAAmB,CAC7D,sCACKA,aADL,MAEEH,UAAU,CAAE,CAFd,CAGEH,QAAQ,CAAE,CAHZ,GAKD,CANa,CAHhB,GAWD,CAZD,IAYO,CACL,MAAOK,CAAAA,YAAP,CACD,CACF,CAhBmB,CAApB,CAiBAhE,gBAAgB,gCACXD,aADW,MAEdF,IAAI,CAAEkE,aAFQ,GAAhB,CAID,CACDlF,wBAAwB,gCAAMD,qBAAN,MAA6B+B,IAAI,CAAE8C,QAAnC,GAAxB,CACA9G,KAAK,CACF2D,GADH,CACOkD,GADP,CACY,CACRjD,OAAO,CAAE,CAAEC,aAAa,kBAAYzD,SAAS,EAArB,CAAf,CADD,CADZ,EAIG0D,IAJH,CAIQ,SAACC,GAAD,CAAS,CAAE,CAJnB,EAKGM,KALH,CAKS,SAACkD,KAAD,CAAW,CAChBrF,wBAAwB,CAACyE,iBAAD,CAAxB,CACAtD,gBAAgB,gCACXD,aADW,MAEdF,IAAI,CAAE0D,iBAFQ,GAAhB,CAID,CAXH,EAYD,CAzDD,CA2DA;AACA,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAClC,CAAD,CAAO,CAC1BA,CAAC,CAACmC,cAAF,GACA5F,UAAU,CAAC,IAAD,CAAV,CACA,GAAMgF,CAAAA,GAAG,CAAG5G,QAAQ,CAAG,uBAAvB,CACA,GAAIyH,CAAAA,QAAQ,CAAG,CACb7E,eAAe,CAAEG,iBAAiB,CAACH,eADtB,CAEbC,eAAe,CAAEE,iBAAiB,CAACF,eAFtB,CAGb4D,EAAE,CAAE1D,iBAAiB,CAACN,IAAlB,CAAuBgE,EAHd,CAAf,CAKA,MAAO1G,CAAAA,KAAK,CACT2H,IADI,CACCd,GADD,CACMa,QADN,CACgB,CACnB9D,OAAO,CAAE,CACPC,aAAa,kBAAYzD,SAAS,EAArB,CADN,CADU,CADhB,EAMJ0D,IANI,CAMC,SAACC,GAAD,CAAS,CACb,GAAImB,CAAAA,IAAI,CAAGlC,iBAAiB,CAACN,IAA7B,CACAwC,IAAI,CAAC0C,WAAL,CAAmB,CAAnB,CACA1C,IAAI,CAACrC,eAAL,CAAuBG,iBAAiB,CAACH,eAAzC,CACAI,oBAAoB,gCACfD,iBADe,MAElBN,IAAI,CAAEwC,IAFY,CAGlBrC,eAAe,CAAE,IAHC,CAIlBgF,gBAAgB,CAAE,IAJA,CAKlB/E,eAAe,CAAE,IALC,CAMlBH,MAAM,CAAE,KANU,GAApB,CAQA2D,eAAe,GACfzE,UAAU,CAAC,KAAD,CAAV,CACD,CApBI,EAqBJwC,KArBI,CAqBE,SAACC,GAAD,CAAS,CAAE,CArBb,CAAP,CAsBD,CA/BD,CAiCA;AACA,GAAMwD,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACxC,CAAD,CAAO,CAChCA,CAAC,CAACmC,cAAF,GACA5F,UAAU,CAAC,IAAD,CAAV,CACA,GAAMgF,CAAAA,GAAG,CAAG5G,QAAQ,CAAG,uBAAvB,CACA,GAAIyH,CAAAA,QAAQ,CAAG,CACbG,gBAAgB,CAAE7E,iBAAiB,CAAC6E,gBADvB,CAEbnB,EAAE,CAAE1D,iBAAiB,CAACN,IAAlB,CAAuBgE,EAFd,CAAf,CAIA,MAAO1G,CAAAA,KAAK,CACT2H,IADI,CACCd,GADD,CACMa,QADN,CACgB,CACnB9D,OAAO,CAAE,CACPC,aAAa,kBAAYzD,SAAS,EAArB,CADN,CADU,CADhB,EAMJ0D,IANI,CAMC,SAACC,GAAD,CAAS,CACb,GAAImB,CAAAA,IAAI,CAAGlC,iBAAiB,CAACN,IAA7B,CACAwC,IAAI,CAAC6C,YAAL,CAAoB,CAApB,CACA7C,IAAI,CAAC2C,gBAAL,CAAwB7E,iBAAiB,CAAC6E,gBAA1C,CACA5E,oBAAoB,gCACfD,iBADe,MAElBN,IAAI,CAAEwC,IAFY,CAGlB2C,gBAAgB,CAAE,IAHA,CAIlBjF,MAAM,CAAE,KAJU,GAApB,CAMAf,UAAU,CAAC,KAAD,CAAV,CACD,CAjBI,EAkBJwC,KAlBI,CAkBE,SAACC,GAAD,CAAS,CAAE,CAlBb,CAAP,CAmBD,CA3BD,CA6BA,mBACE,qDACE,oBAAC,MAAD,mBACE,iCAAQnE,EAAE,CAACqC,CAAC,CAAC,eAAD,CAAF,CAAV,CADF,CADF,cAKE,6BAAO,EAAE,CAAC,cAAV,eACE,8BAAQ,GAAG,CAAC,wBAAZ,CAAqC,IAAI,CAAC,YAA1C,EADF,CALF,cAUE,2BAAK,SAAS,CAAC,QAAf,eACE,2BAAK,GAAG,CAAEC,YAAV,EACGO,iBAAiB,EAAIA,iBAAiB,CAACN,IAAvC,eACC,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,QAAf,eACE,4BAAM,SAAS,CAAC,2EAAhB,EACG5B,iBAAiB,CAACgB,eAAD,CAAkB,UAAlB,CADpB,CAEG,GAFH,CAGGkB,iBAAiB,CAACN,IAAlB,CAAuB0D,WAH1B,CADF,cAME,yBAAG,SAAS,CAAC,wDAAb,EACGpD,iBAAiB,CAACN,IAAlB,CAAuBsF,SAAvB,GAAqC,IAArC,EACDhF,iBAAiB,CAACN,IAAlB,CAAuBsF,SAAvB,CAAiCC,OADhC,CAEGjF,iBAAiB,CAACN,IAAlB,CAAuBsF,SAAvB,CAAiCC,OAFpC,CAGG,EAJN,CANF,cAYE,yBAAG,SAAS,CAAC,wDAAb,EACG9H,EAAE,CAACqC,CAAC,CAAC,MAAD,CAAF,CADL,KACmB,GADnB,CAEGQ,iBAAiB,CAACN,IAAlB,CAAuBsF,SAAvB,GAAqC,IAArC,EACDhF,iBAAiB,CAACN,IAAlB,CAAuBsF,SAAvB,CAAiCE,MADhC,CAEGlF,iBAAiB,CAACN,IAAlB,CAAuBsF,SAAvB,CAAiCE,MAFpC,CAGG,EALN,CAZF,cAmBE,yBAAG,SAAS,CAAC,wDAAb,EACGpH,iBAAiB,CAACgB,eAAD,CAAkB,oBAAlB,CADpB,CAnBF,cAsBE,4BAAM,SAAS,CAAC,8EAAhB,EACG3B,EAAE,CAACqC,CAAC,CAAC,UAAD,CAAF,CADL,KACuBQ,iBAAiB,CAACN,IAAlB,CAAuBsD,KAD9C,CAtBF,cA0BE,yBAAG,SAAS,CAAC,6DAAb,EACG7F,EAAE,CAACqC,CAAC,CAAC,iBAAD,CAAF,CADL,CA1BF,cA8BE,yBAAG,SAAS,CAAC,6CAAb,EACGrC,EAAE,CAACqC,CAAC,CAAC,MAAD,CAAF,CADL,KACmB,GADnB,cAEE,oBAAC,MAAD,EAAQ,MAAM,CAAC,IAAf,EACGQ,iBAAiB,CAACN,IAAlB,CAAuByF,UAD1B,CAFF,CA9BF,cAqCE,yBAAG,SAAS,CAAC,4CAAb,EACGnF,iBAAiB,CAACN,IAAlB,CAAuB0F,cAAvB,GAA0C,KAA1C,EACC,kBAFJ,CArCF,cA0CE,yBAAG,SAAS,CAAC,6CAAb,EACGjI,EAAE,CAACqC,CAAC,CAAC,kBAAD,CAAF,CADL,KAC+B,GAD/B,CAEGQ,iBAAiB,CAACN,IAAlB,CAAuB2F,gBAF1B,CA1CF,cA+CE,yBAAG,SAAS,CAAC,6CAAb,EACGlI,EAAE,CAACqC,CAAC,CAAC,SAAD,CAAF,CADL,KACsB,GADtB,CAEGQ,iBAAiB,CAACN,IAAlB,CAAuB4F,eAF1B,CA/CF,cAoDE,6BAAO,SAAS,CAAC,2DAAjB,eACE,8CACE,2CACE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,wCAFZ,EAIGnI,EAAE,CAACqC,CAAC,CAAC,KAAD,CAAF,CAJL,KAIkBrC,EAAE,CAACqC,CAAC,CAAC,MAAD,CAAF,CAJpB,CADF,cAOE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,mDAFZ,EAIGrC,EAAE,CAACqC,CAAC,CAAC,GAAD,CAAF,CAJL,KAIgBrC,EAAE,CAACqC,CAAC,CAAC,OAAD,CAAF,CAJlB,CAPF,CADF,CADF,cAiBE,iCACGQ,iBAAiB,CAACN,IAAlB,EACCM,iBAAiB,CAACN,IAAlB,CAAuBuE,YAAvB,CAAoCF,GAApC,CACE,SAACvC,QAAD,CAAW+D,aAAX,CAA6B,CAC3B,mBACE,2CACE,0BAAI,SAAS,CAAC,wCAAd,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,4BAAM,SAAS,CAAC,yBAAhB,MACI/D,QAAQ,CAACW,QADb,CACuB,GADvB,CAEGX,QAAQ,CAACgE,SAFZ,CAGGhE,QAAQ,CAACiE,SAAT,GAAuB,IAAvB,EACC,IAAMjE,QAAQ,CAACiE,SAAf,CAA2B,GAJ/B,CADF,CADF,CAWGjE,QAAQ,CAACG,UAAT,GAAwB,IAAxB,eACC,2BAAK,SAAS,CAAC,SAAf,EACGE,IAAI,CAACC,KAAL,CAAWN,QAAQ,CAACG,UAApB,EAAgCoC,GAAhC,CACC,SAAC/B,YAAD,CAAeC,SAAf,CAA6B,CAC3B,mBACE,4BAAM,SAAS,CAAC,8CAAhB,MACIT,QAAQ,CAACW,QADb,CAEGH,YAAY,CAACG,QAAb,CAAwB,CAAxB,CACG,IAAMH,YAAY,CAACG,QADtB,CAEG,EAJN,CAIU,GAJV,CAKGH,YAAY,CAAC0D,QALhB,CADF,CASD,CAXF,CADH,CAZJ,CADF,cA8BE,0BAAI,SAAS,CAAC,mDAAd,eACE,2BAAK,SAAS,CAAC,kBAAf,EACGnE,6BAA6B,CAACC,QAAD,CADhC,CADF,CAMGA,QAAQ,CAACG,UAAT,GAAwB,IAAxB,eACC,2BAAK,SAAS,CAAC,SAAf,EACGE,IAAI,CAACC,KAAL,CAAWN,QAAQ,CAACG,UAApB,EAAgCoC,GAAhC,CACC,SAAC/B,YAAD,CAAeC,SAAf,CAA6B,CAC3B,mBACE,2CACE,SAAS,CAAC,SADZ,uDAIE,gCACG3E,WAAW,CACVkE,QAAQ,CAACW,QAAT,CACEH,YAAY,CAACG,QADf,CAEEH,YAAY,CAACI,aAHL,CADd,cAME,8BANF,CAJF,CADF,CAeD,CAjBF,CADH,CAPJ,CA9BF,CADF,CA+DD,CAjEH,CAFJ,CAjBF,CApDF,cA6IE,2BAAK,SAAS,CAAC,UAAf,EA7IF,cA8IE,6BAAO,SAAS,CAAC,6BAAjB,eACE,8CACE,2CACE,0BAAI,SAAS,CAAC,wCAAd,eACE,4BAAM,SAAS,CAAC,SAAhB,EAA2BjF,EAAE,CAACqC,CAAC,CAAC,OAAD,CAAF,CAA7B,CADF,CADF,cAIE,0BAAI,SAAS,CAAC,mDAAd,EACGlC,WAAW,CAAC0C,iBAAiB,CAACN,IAAlB,CAAuBiG,UAAxB,CADd,CAJF,CADF,CADF,CA9IF,CA2JGC,UAAU,CAAC5F,iBAAiB,CAACN,IAAlB,CAAuBmG,GAAxB,CAAV,CAAyC,CAAzC,eACC,6BAAO,SAAS,CAAC,6BAAjB,eACE,8CACE,2CACE,0BAAI,SAAS,CAAC,wCAAd,eACE,4BAAM,SAAS,CAAC,kBAAhB,EACG1I,EAAE,CAACqC,CAAC,CAAC,KAAD,CAAF,CADL,CAEG,IAFH,CAGGV,eAAe,EACdhB,iBAAiB,CACfgB,eADe,CAEf,UAFe,CAJrB,KAQI,GARJ,CADF,CADF,cAaE,0BAAI,SAAS,CAAC,mDAAd,EACGxB,WAAW,CAAC0C,iBAAiB,CAACN,IAAlB,CAAuBmG,GAAxB,CADd,CAbF,CADF,CADF,CA5JJ,cAmLE,2BAAK,SAAS,CAAC,UAAf,EAnLF,cAoLE,6BAAO,SAAS,CAAC,6BAAjB,eACE,8CACE,2CACE,0BAAI,SAAS,CAAC,wCAAd,eACE,4BAAM,SAAS,CAAC,SAAhB,EACG1I,EAAE,CAACqC,CAAC,CAAC,aAAD,CAAF,CADL,CADF,CADF,cAME,0BAAI,SAAS,CAAC,mDAAd,EACGlC,WAAW,CAAC0C,iBAAiB,CAACN,IAAlB,CAAuBoG,aAAxB,CADd,CANF,CADF,CADF,CApLF,cAmME,2BAAK,SAAS,CAAC,UAAf,EAnMF,cAoME,yBAAG,SAAS,CAAC,yDAAb,EACGhI,iBAAiB,CAACgB,eAAD,CAAkB,mBAAlB,CADpB,CApMF,CADF,CADF,CADF,CAFJ,CADF,CAVF,cAgOE,2BAAK,SAAS,CAAC,YAAf,CAA4B,EAAE,CAAC,cAA/B,CAA8C,cAAY,MAA1D,eACE,2BAAK,SAAS,CAAC,uBAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,iCAAf,eACE,2BAAK,SAAS,CAAC,qBAAf,eACE,0BAAI,SAAS,CAAC,mCAAd,EAEG3B,EAAE,CAACqC,CAAC,CAAC,sBAAD,CAAF,CAFL,OAGGQ,iBAAiB,CAACN,IAAlB,EAA0BM,iBAAiB,CAACN,IAAlB,CAAuBsD,KAHpD,CADF,CADF,cAQE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,WAFZ,CAGE,eAAa,OAHf,CAIE,aAAW,OAJb,EARF,CADF,CAiBGpE,OAAO,cACN,2BAAK,SAAS,CAAC,YAAf,EAA6BpB,YAAY,CAAC,CAAD,CAAzC,CADM,cAGN,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,QAAf,eACE,2BAAK,SAAS,CAAC,wBAAf,EACGL,EAAE,CAACqC,CAAC,CAAC,QAAD,CAAF,CADL,CADF,cAIE,2BAAK,SAAS,CAAC,iBAAf,eACE,8BACE,SAAS,CAAC,cADZ,CAEE,QAAQ,CAAE,kBAAC8C,CAAD,CAAO,CACf,GAAMuB,CAAAA,GAAG,CAAG5G,QAAQ,CAAG,yBAAvB,CACA,GAAIyH,CAAAA,QAAQ,CAAG,CACbhB,EAAE,CAAE1D,iBAAiB,CAACN,IAAlB,CAAuBgE,EADd,CAEbqC,MAAM,CAAEzD,CAAC,CAACE,MAAF,CAASC,KAFJ,CAAf,CAIA,MAAOzF,CAAAA,KAAK,CACT2H,IADI,CACCd,GADD,CACMa,QADN,CACgB,CACnB9D,OAAO,CAAE,CAAEC,aAAa,kBAAYzD,SAAS,EAArB,CAAf,CADU,CADhB,EAIJ0D,IAJI,CAIC,SAACC,GAAD,CAAS,CACb7B,wBAAwB,CAAC6B,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAxB,CACA5B,iCAAiC,CAAC2B,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAjC,CACAf,oBAAoB,gCACfD,iBADe,MAElBN,IAAI,gCACCM,iBAAiB,CAACN,IADnB,MAEFsG,eAAe,CAAEtB,QAAQ,CAACqB,MAFxB,EAFc,GAApB,CAOD,CAdI,EAeJ1E,KAfI,CAeE,SAACC,GAAD,CAAS,CACdlD,KAAK,CAACmG,KAAN,WAAepH,EAAE,CAACqC,CAAC,CAAC,kBAAD,CAAF,CAAjB,EAA4C,CAC1CyG,QAAQ,CAAE,eADgC,CAE1CC,SAAS,CAAE,KAF+B,CAG1CC,eAAe,CAAE,KAHyB,CAI1CC,YAAY,CAAE,IAJ4B,CAK1CC,YAAY,CAAE,IAL4B,CAM1CC,SAAS,CAAE,gCAN+B,CAA5C,EAQD,CAxBI,CAAP,CAyBD,CAjCH,CAkCE,QAAQ,KAlCV,eAoCE,8BACE,KAAK,CAAC,SADR,CAEE,QAAQ,CACNtG,iBAAiB,CAACN,IAAlB,EACAM,iBAAiB,CAACN,IAAlB,CAAuBsG,eAAvB,GAA2C,SAJ/C,EAOG7I,EAAE,CAACqC,CAAC,CAAC,SAAD,CAAF,CAPL,CApCF,cA6CE,8BACE,KAAK,CAAC,UADR,CAEE,QAAQ,CACNQ,iBAAiB,CAACN,IAAlB,EACAM,iBAAiB,CAACN,IAAlB,CAAuBsG,eAAvB,GAA2C,UAJ/C,EAOG7I,EAAE,CAACqC,CAAC,CAAC,UAAD,CAAF,CAPL,CA7CF,cAsDE,8BACE,KAAK,CAAC,WADR,CAEE,QAAQ,CACNQ,iBAAiB,CAACN,IAAlB,EACAM,iBAAiB,CAACN,IAAlB,CAAuBsG,eAAvB,GAA2C,WAJ/C,EAOG7I,EAAE,CAACqC,CAAC,CAAC,WAAD,CAAF,CAPL,CAtDF,CADF,CAJF,CADF,CA0EG,CAACQ,iBAAiB,CAACJ,MAAnB,cACC,wCACG,CAACI,iBAAiB,CAACL,MAAnB,cACC,2BAAK,KAAK,CAAC,mBAAX,eACE,2BAAK,KAAK,CAAC,2BAAX,eACE,2BAAK,KAAK,CAAC,sBAAX,eACE,2BAAK,KAAK,CAAC,iBAAX,eACE,2BAAK,KAAK,CAAC,mCAAX,EACGxC,EAAE,CAACqC,CAAC,CAAC,aAAD,CAAF,CADL,OAEGQ,iBAAiB,CAACN,IAAlB,EACCM,iBAAiB,CAACN,IAAlB,CAAuBsD,KAH3B,CADF,cAME,2BAAK,KAAK,CAAC,uBAAX,eACE,2BAAK,KAAK,CAAC,SAAX,eACE,2BAAK,KAAK,CAAC,gCAAX,eACE,4BAAM,KAAK,CAAC,4CAAZ,EACG7F,EAAE,CAACqC,CAAC,CAAC,KAAD,CAAF,CADL,CADF,CADF,cAME,2BAAK,KAAK,CAAC,gCAAX,eACE,4BAAM,KAAK,CAAC,4CAAZ,EACGrC,EAAE,CAACqC,CAAC,CAAC,MAAD,CAAF,CADL,CADF,CANF,cAWE,2BAAK,KAAK,CAAC,mCAAX,eACE,4BAAM,KAAK,CAAC,4CAAZ,EACGrC,EAAE,CAACqC,CAAC,CAAC,iBAAD,CAAF,CADL,CADF,CAXF,cAgBE,2BAAK,KAAK,CAAC,gCAAX,eACE,4BAAM,KAAK,CAAC,4CAAZ,EACGrC,EAAE,CAACqC,CAAC,CAAC,KAAD,CAAF,CADL,CADF,CAhBF,CADF,CANF,CA8BGQ,iBAAiB,CAACN,IAAlB,EACCM,iBAAiB,CAACN,IAAlB,CAAuBuE,YAAvB,CAAoCF,GAApC,CACE,SAACvC,QAAD,CAAW+D,aAAX,CAA6B,CAC3B,mBACE,2BAAK,KAAK,CAAC,2BAAX,eACE,2BAAK,KAAK,CAAC,SAAX,eACE,2BAAK,KAAK,CAAC,uCAAX,eACE,4BAAM,KAAK,CAAC,mDAAZ,EACGA,aAAa,CAAG,CADnB,CADF,CADF,cAME,2BAAK,KAAK,CAAC,uCAAX,eACE,4BAAM,KAAK,CAAC,mDAAZ,EACG/D,QAAQ,CAACgE,SADZ,MAEGhE,QAAQ,CAAC+E,UAFZ,KADF,CANF,cAYE,2BAAK,KAAK,CAAC,gDAAX,EACG/E,QAAQ,CAACiE,SAAT,GAAuB,IAAvB,eACC,4BAAM,KAAK,CAAC,qEAAZ,eACE,4BAAM,KAAK,CAAC,uBAAZ,EACGtI,EAAE,CAACqC,CAAC,CAAC,WAAD,CAAF,CADL,KADF,CAIGgC,QAAQ,CAACiE,SAJZ,CAFJ,CAUGjE,QAAQ,CAACG,UAAT,GAAwB,IAAxB,eACC,4BAAM,KAAK,CAAC,qEAAZ,eACE,4BAAM,KAAK,CAAC,uBAAZ,EACGxE,EAAE,CAACqC,CAAC,CAAC,YAAD,CAAF,CADL,KADF,CAIGqC,IAAI,CAACC,KAAL,CACCN,QAAQ,CAACG,UADV,EAECoC,GAFD,CAGC,SAAC/B,YAAD,CAAeC,SAAf,CAA6B,CAC3B,GACEA,SAAS,GACTJ,IAAI,CAACC,KAAL,CACEN,QAAQ,CAACG,UADX,EAEEgB,MAFF,CAGE,CALJ,CAME,CACA,MACEX,CAAAA,YAAY,CAAC0D,QAAb,WAEE1D,YAAY,CAACG,QAAb,CACA,CADA,CAEI,IACAH,YAAY,CAACG,QADb,CAEA,GAJJ,CAKI,EAPN,EASA,IAVF,CAYD,CAnBD,IAmBO,CACL,MACEH,CAAAA,YAAY,CAAC0D,QAAb,WAEE1D,YAAY,CAACG,QAAb,CACA,CADA,CAEI,IACAH,YAAY,CAACG,QADb,CAEA,GAJJ,CAKI,EAPN,CADF,CAWD,CACF,CApCF,CAJH,CAXJ,CAZF,cAoEE,2BAAK,KAAK,CAAC,uCAAX,eACE,4BAAM,KAAK,CAAC,mDAAZ,EACGX,QAAQ,CAACW,QADZ,CADF,CApEF,CADF,CADF,CA8ED,CAhFH,CA/BJ,CADF,CADF,CADF,CADD,cA0HC,2BAAK,SAAS,CAAC,0BAAf,eACE,4BACE,SAAS,CAAC,sCADZ,CAEE,QAAQ,CAAEqC,YAFZ,eAIE,2BAAK,SAAS,CAAC,mBAAf,EACGrH,EAAE,CAACqC,CAAC,CAAC,2BAAD,CAAF,CADL,CAJF,cAOE,2BAAK,SAAS,CAAC,6BAAf,eACE,6BACE,IAAI,CAAC,QADP,CAEE,GAAG,CAAC,GAFN,CAGE,IAAI,CAAC,KAHP,CAIE,IAAI,CAAC,iBAJP,CAKE,WAAW,CAAC,iBALd,CAME,SAAS,CAAC,4BANZ,CAOE,QAAQ,CAAE,kBAAC8C,CAAD,CAAO,CACfrC,oBAAoB,gCACfD,iBADe,MAElBH,eAAe,CAAEyC,CAAC,CAACE,MAAF,CAASC,KAFR,GAApB,CAID,CAZH,CAaE,KAAK,CAAEzC,iBAAiB,CAACH,eAb3B,CAcE,QAAQ,KAdV,EADF,CAPF,cA0BE,2BAAK,SAAS,CAAC,mBAAf,EACG1C,EAAE,CAACqC,CAAC,CAAC,qBAAD,CAAF,CADL,CA1BF,cA6BE,2BAAK,SAAS,CAAC,6BAAf,eACE,8BACE,SAAS,CAAC,cADZ,CAEE,QAAQ,CAAE,kBAAC8C,CAAD,CAAO,CACfrC,oBAAoB,gCACfD,iBADe,MAElBF,eAAe,CAAEwC,CAAC,CAACE,MAAF,CAASC,KAFR,GAApB,CAID,CAPH,CAQE,QAAQ,KARV,eAUE,8BAAQ,KAAK,CAAC,EAAd,EACGtF,EAAE,CAACqC,CAAC,CAAC,2BAAD,CAAF,CADL,CAVF,CAaGR,iBAAiB,EAChBA,iBAAiB,CAAC+E,GAAlB,CAAsB,SAACyC,IAAD,CAAU,CAC9B,mBACE,8BAAQ,KAAK,CAAEA,IAAI,CAAC9C,EAApB,EACG8C,IAAI,CAACC,IADR,KACeD,IAAI,CAACtB,MADpB,KADF,CAKD,CAND,CAdJ,CADF,CA7BF,cAqDE,2BAAK,SAAS,CAAC,8CAAf,eACE,8BACE,SAAS,CAAC,wDADZ,CAEE,IAAI,CAAC,QAFP,EAIG/H,EAAE,CAACqC,CAAC,CAAC,QAAD,CAAF,CAJL,CADF,CArDF,CADF,CA3HJ,CADD,cA+LC,qDACE,2BAAK,SAAS,CAAC,0BAAf,eACE,4BACE,SAAS,CAAC,qCADZ,CAEE,QAAQ,CAAEsF,kBAFZ,eAIE,2BAAK,SAAS,CAAC,0BAAf,EACG3H,EAAE,CAACqC,CAAC,CAAC,uBAAD,CAAF,CADL,CAJF,cAOE,2BAAK,SAAS,CAAC,6BAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,kBAFP,CAGE,WAAW,CAAC,uBAHd,CAIE,SAAS,CAAC,4BAJZ,CAKE,QAAQ,CAAE,kBAAC8C,CAAD,CAAO,CACfrC,oBAAoB,gCACfD,iBADe,MAElB6E,gBAAgB,CAAEvC,CAAC,CAACE,MAAF,CAASC,KAFT,GAApB,CAID,CAVH,CAWE,KAAK,CAAEzC,iBAAiB,CAAC6E,gBAX3B,CAYE,QAAQ,KAZV,EADF,CAPF,cAuBE,2BAAK,SAAS,CAAC,8CAAf,eACE,8BACE,SAAS,CAAC,kEADZ,CAEE,IAAI,CAAC,QAFP,EAIG1H,EAAE,CAACqC,CAAC,CAAC,QAAD,CAAF,CAJL,CADF,CAvBF,CADF,CADF,CAzQJ,cA+SE,6BAAO,SAAS,CAAC,+CAAjB,eACE,6BAAO,SAAS,CAAC,mCAAjB,eACE,2CACE,0BAAI,KAAK,CAAC,KAAV,CAAgB,OAAO,CAAC,GAAxB,EACGrC,EAAE,CAACqC,CAAC,CAAC,eAAD,CAAF,CADL,CADF,CADF,CADF,cAQE,8CACE,2CACE,0BAAI,SAAS,CAAC,kBAAd,EAAkCrC,EAAE,CAACqC,CAAC,CAAC,UAAD,CAAF,CAApC,CADF,cAEE,8BACGQ,iBAAiB,CAACN,IAAlB,EACCM,iBAAiB,CAACN,IAAlB,CAAuBwD,SAF3B,CAFF,CADF,cASE,2CACE,0BAAI,SAAS,CAAC,kBAAd,EAAkC/F,EAAE,CAACqC,CAAC,CAAC,SAAD,CAAF,CAApC,CADF,cAEE,8BACGQ,iBAAiB,CAACN,IAAlB,EACCM,iBAAiB,CAACN,IAAlB,CAAuB4F,eAF3B,CAFF,CATF,cAiBE,2CACE,0BAAI,SAAS,CAAC,kBAAd,EACGnI,EAAE,CAACqC,CAAC,CAAC,kBAAD,CAAF,CADL,CADF,cAIE,8BACGQ,iBAAiB,CAACN,IAAlB,EACCM,iBAAiB,CAACN,IAAlB,CAAuB2F,gBAF3B,CAJF,CAjBF,cA2BE,2CACE,0BAAI,SAAS,CAAC,kBAAd,EACGlI,EAAE,CAACqC,CAAC,CAAC,eAAD,CAAF,CADL,CADF,cAIE,8BACGQ,iBAAiB,CAACN,IAAlB,EACCM,iBAAiB,CAACN,IAAlB,CAAuBgH,aAF3B,CAJF,CA3BF,cAoCE,2CACE,0BAAI,SAAS,CAAC,kBAAd,EACGvJ,EAAE,CAACqC,CAAC,CAAC,iBAAD,CAAF,CADL,CADF,cAIE,8BACGQ,iBAAiB,CAACN,IAAlB,EACDM,iBAAiB,CAACN,IAAlB,CAAuBG,eAAvB,GAA2C,IAD1C,CAEGG,iBAAiB,CAACN,IAAlB,CAAuBG,eAAvB,CAAyC,SAF5C,CAGG,EAJN,CAJF,CApCF,cAgDE,2CACE,0BAAI,SAAS,CAAC,kBAAd,EAAkC1C,EAAE,CAACqC,CAAC,CAAC,QAAD,CAAF,CAApC,CADF,cAEE,8BACGQ,iBAAiB,CAACN,IAAlB,EACCM,iBAAiB,CAACN,IAAlB,CAAuB0D,WAF3B,CAFF,CAhDF,CARF,CA/SF,CApBJ,CADF,CADF,CAhOF,cA8mBE,4BAAM,EAAE,CAAC,MAAT,CAAgB,qBAAhB,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,2BAAK,SAAS,CAAC,wBAAf,EACGpD,iBAAiB,CAACD,SAAlB,GAAgC,IAAhC,EAAwCnB,OAAO,GAAK,IAApD,CACCnB,WAAW,EADZ,cAGC,2BAAK,SAAS,CAAC,aAAf,eAEE,2BAAK,SAAS,WAAK8B,cAAc,EAAI,SAAvB,CAAd,EAFF,cAIE,2BAAK,SAAS,CAAC,sEAAf,eACE,2BAAK,SAAS,CAAC,gBAAf,eACE,0BAAI,SAAS,CAAC,sBAAd,eACE,0BAAI,SAAS,CAAC,qBAAd,eACE,4BAAM,SAAS,CAAC,4CAAhB,EACG,CAACa,aAAa,CAACD,QAAf,cACC,wCACGhD,EAAE,CAACqC,CAAC,CAAC,iBAAD,CAAF,CADL,CAEGc,aAAa,CAAG,CAAhB,eACC,4BAAM,SAAS,CAAC,0CAAhB,MACIA,aADJ,KAHJ,CADD,CAUCnD,EAAE,CAACqC,CAAC,CAAC,eAAD,CAAF,CAXN,CADF,CADF,CADF,CADF,cAqBE,2BAAK,SAAS,CAAC,mCAAf,eACE,0BAAI,SAAS,CAAC,mCAAd,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,uDAFZ,CAGE,WAAW,CACTrC,EAAE,CAACqC,CAAC,CAAC,2BAAD,CAAF,CAAF,CAAqC,IAJzC,CAME,QAAQ,CAAE6C,YANZ,EADF,CADF,cAWE,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAC,QAAzC,eACE,yBAAG,SAAS,CAAC,cAAb,CAA4B,cAAY,MAAxC,EADF,CAXF,CADF,CADF,CArBF,cAwCE,2BAAK,SAAS,CAAC,mBAAf,EAxCF,CAJF,cA8CE,2BAAK,SAAS,CAAC,0BAAf,CAA0C,qBAA1C,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,6BAAO,SAAS,CAAC,wDAAjB,eACE,6BAAO,SAAS,CAAC,cAAjB,eACE,2CACE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGlF,EAAE,CAACqC,CAAC,CAAC,KAAD,CAAF,CAJL,CADF,cAQE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrC,EAAE,CAACqC,CAAC,CAAC,OAAD,CAAF,CAJL,CARF,cAeE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrC,EAAE,CAACqC,CAAC,CAAC,MAAD,CAAF,CAJL,CAfF,cAsBE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrC,EAAE,CAACqC,CAAC,CAAC,UAAD,CAAF,CAJL,CAtBF,cA6BE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,kEAFZ,EAIGrC,EAAE,CAACqC,CAAC,CAAC,QAAD,CAAF,CAJL,CA7BF,CADF,CADF,cAuCE,6BAAO,SAAS,CAAC,cAAjB,EAEG,CAACY,aAAa,CAACD,QAAf,CACG,CACElB,qBAAqB,EAAI,CACvBA,qBAAqB,CAAC+B,IAAtB,CAA2B2B,MAA3B,GAAsC,CAAtC,cACE,0BAAI,SAAS,CAAC,cAAd,eACE,0BACE,KAAK,CAAC,KADR,CAEE,OAAO,CAAC,GAFV,CAGE,SAAS,CAAC,mCAHZ,EAKGxF,EAAE,CAACqC,CAAC,CAAC,mBAAD,CAAF,CALL,CADF,CADF,CAWEP,qBAAqB,CAAC+B,IAAtB,CAA2B+C,GAA3B,CACE,SAACrE,IAAD,CAAOiH,KAAP,CAAiB,CACf,mBACE,0BACE,SAAS,CAAC,cADZ,CAEE,GAAG,CAAEA,KAFP,eAIE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,mDAFZ,EAIGA,KAAK,CACJ,CADD,CAEC,CAAC1H,qBAAqB,CAAC2H,YAAtB,CACC,CADF,EAEE3H,qBAAqB,CAAC4H,QAR5B,CAJF,cAeE,0BAAI,SAAS,CAAC,kEAAd,MACInH,IAAI,CAACsD,KADT,CAfF,cAmBE,0BAAI,SAAS,CAAC,mCAAd,eACE,oBAAC,MAAD,EAAQ,MAAM,CAAC,KAAf,EACGtD,IAAI,CAACyF,UADR,CADF,CAnBF,cAyBE,0BAAI,SAAS,CAAC,mCAAd,EACGzF,IAAI,CAACwD,SADR,CAzBF,cA6BE,0BAAI,KAAK,CAAC,mDAAV,eACE,4BACE,SAAS,CAAC,iEADZ,CAEE,OAAO,CAAE,kBAAM,CACbjD,oBAAoB,gCACfD,iBADe,MAElBN,IAAI,CAAEA,IAFY,CAGlBC,MAAM,CAAE,KAHU,CAIlBC,MAAM,CAAE,KAJU,GAApB,CAMD,CATH,CAUE,cAAY,OAVd,CAWE,cAAY,eAXd,EAaGF,IAAI,CAACsG,eAbR,CADF,CA7BF,CADF,CAiDD,CAnDH,CAZqB,CAD3B,CADH,CAsEG,CACE,sCACA5F,aAAa,EAAI,CACfA,aAAa,CAACF,IAAd,CAAmByC,MAAnB,GAA8B,CAA9B,cACE,0BAAI,SAAS,CAAC,cAAd,eACE,0BACE,KAAK,CAAC,KADR,CAEE,OAAO,CAAC,GAFV,CAGE,SAAS,CAAC,mCAHZ,EAKGxF,EAAE,CAACqC,CAAC,CAAC,mBAAD,CAAF,CALL,CADF,CADF,CAWEY,aAAa,CAACF,IAAd,CAAmB6D,GAAnB,CAAuB,SAACrE,IAAD,CAAOiH,KAAP,CAAiB,CACtC,mBACE,0BACE,SAAS,CAAC,cADZ,CAEE,GAAG,CAAEA,KAFP,eAIE,0BACE,KAAK,CAAC,KADR,CAEE,SAAS,CAAC,mDAFZ,EAIGA,KAAK,CACJ,CADD,CAEC,CAAC1H,qBAAqB,CAAC2H,YAAtB,CACC,CADF,EAEE3H,qBAAqB,CAAC4H,QAR5B,CAJF,cAeE,0BAAI,SAAS,CAAC,kEAAd,MACInH,IAAI,CAACsD,KADT,CAfF,cAmBE,0BAAI,SAAS,CAAC,mCAAd,eACE,oBAAC,MAAD,EAAQ,MAAM,CAAC,KAAf,EACGtD,IAAI,CAACyF,UADR,CADF,CAnBF,cAyBE,0BAAI,SAAS,CAAC,mCAAd,EACGzF,IAAI,CAACwD,SADR,CAzBF,cA6BE,0BAAI,KAAK,CAAC,mDAAV,eACE,4BACE,SAAS,CAAC,iEADZ,CAEE,OAAO,CAAE,kBAAM,CACbjD,oBAAoB,gCACfD,iBADe,MAElBN,IAAI,CAAEA,IAFY,CAGlBC,MAAM,CAAE,KAHU,CAIlBC,MAAM,CAAE,KAJU,GAApB,CAMD,CATH,CAUE,cAAY,OAVd,CAWE,cAAY,eAXd,EAaGF,IAAI,CAACsG,eAbR,CADF,CA7BF,CADF,CAiDD,CAlDD,CAZa,CAFnB,CAxEN,CAvCF,CADF,CADF,CADF,CA9CF,CAJJ,CAgPGhG,iBAAiB,CAACD,SAAlB,GAAgC,IAAhC,EAAwCnB,OAAO,GAAK,IAApD,CACGlB,iBAAiB,EADpB,CAEG,CACE;AACA,CAAC0C,aAAa,CAACD,QAAf,cACE,2BAAK,GAAG,CAAC,WAAT,eACE,2BAAK,SAAS,CAAC,+BAAf,eACE,2BAAK,SAAS,CAAC,wCAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,EAEGxC,UAAU,CACTsB,qBADS,CAETK,iCAFS,CAFb,CADF,cAQE,2BAAK,SAAS,CAAC,UAAf,eACE,0BAAI,SAAS,CAAC,yDAAd,eACE,0BAAI,SAAS,CAAC,cAAd,eACE,4BAAM,SAAS,CAAC,wBAAhB,EACG1B,WAAW,CAACqB,qBAAD,CADd,CADF,CADF,CADF,CARF,CADF,CADF,CADF,eAwBE;AACA,2BAAK,SAAS,CAAC,+BAAf,eACE,2BAAK,SAAS,CAAC,wCAAf,eACE,2BAAK,SAAS,CAAC,0BAAf,eACE,0BAAI,SAAS,CAAC,eAAd,eACE,0BAAI,SAAS,CAAC,kCAAd,eACE,8BACE,SAAS,CAAC,wBADZ,CAEE,OAAO,CAAE,yBACPoB,CAAAA,gBAAgB,gCACXD,aADW,MAEdD,QAAQ,CAAE,KAFI,GADT,EAFX,EASGhD,EAAE,CAACqC,CAAC,CAAC,cAAD,CAAF,CATL,CADF,CADF,CADF,CADF,cAkBE,2BAAK,SAAS,CAAC,UAAf,eACE,0BAAI,SAAS,CAAC,yDAAd,eACE,0BAAI,SAAS,CAAC,cAAd,eACE,4BAAM,SAAS,CAAC,wBAAhB,EACG3B,mBAAmB,CAClBuC,aADkB,CAElBjB,8BAFkB,CADtB,CADF,CADF,CADF,CAlBF,CADF,CA3BJ,CAlPN,CADF,CADF,CADF,CA9mBF,CADF,CAw6BD,CA1pCD,CA4pCA,cAAeR,CAAAA,cAAf","sourcesContent":["import React, { useEffect, useContext, useState, useRef } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../BaseUrl\";\r\n\r\n//jQuery initialization\r\nimport $ from \"jquery\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  currencySymbolLeft,\r\n  formatPrice,\r\n  currencySymbolRight,\r\n  modalLoading,\r\n  pageLoading,\r\n  paginationLoading,\r\n  pagination,\r\n  showingData,\r\n  searchedShowingData,\r\n  getSystemSettings,\r\n} from \"../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Moment from \"react-moment\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n\r\n//importing context consumer here\r\nimport { SettingsContext } from \"../../../../contexts/Settings\";\r\nimport { RestaurantContext } from \"../../../../contexts/Restaurant\";\r\nimport { FoodContext } from \"../../../../contexts/Food\";\r\nimport { UserContext } from \"../../../../contexts/User\";\r\n\r\nconst AssignedOrders = () => {\r\n  //getting context values here\r\n  const {\r\n    //common\r\n    loading,\r\n    setLoading,\r\n    generalSettings,\r\n  } = useContext(SettingsContext);\r\n\r\n  const { getDeliveryUser, deliveryForSearch } = useContext(UserContext);\r\n  const {\r\n    //common\r\n    pendingOrdersDelivery,\r\n    setPendingOrdersDelivery,\r\n    pendingOrdersDeliveryForSearch,\r\n    setPendingOrdersDeliveryForSearch,\r\n    getDeliveryPendingOrders,\r\n    setPaginatedDeliveryPendingOrders,\r\n    //pagination\r\n    dataPaginating,\r\n  } = useContext(RestaurantContext);\r\n\r\n  const { t } = useTranslation();\r\n  //print bills\r\n  const componentRef = useRef();\r\n\r\n  //settle order\r\n  const [checkOrderDetails, setCheckOrderDetails] = useState({\r\n    item: null,\r\n    settle: false,\r\n    cancel: false,\r\n    time_to_deliver: null,\r\n    delivery_man_id: null,\r\n    uploading: false,\r\n  });\r\n\r\n  //search result\r\n  const [searchedOrder, setSearchedOrder] = useState({\r\n    list: null,\r\n    searched: false,\r\n  });\r\n\r\n  //online order counter\r\n  const [onlineCounter, setOnlineCounter] = useState(0);\r\n\r\n  //useEffect == componentDidMount\r\n  useEffect(() => {\r\n    getDeliveryPendingOrders();\r\n    getDeliveryUser();\r\n    //check online orders\r\n    const interval = setInterval(() => {\r\n      const pendingUrl = BASE_URL + \"/settings/get-assigned-counters\";\r\n      return axios\r\n        .get(pendingUrl, {\r\n          headers: { Authorization: `Bearer ${getCookie()}` },\r\n        })\r\n        .then((res) => {\r\n          if (res.data > 0) {\r\n            setOnlineCounter(res.data);\r\n            let order = document.getElementById(\"myAudioOrder\");\r\n            order.play();\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n    }, 30000);\r\n  }, []);\r\n  //show price of each item in print\r\n  const showPriceOfEachOrderItemPrint = (thisItem) => {\r\n    let price = 0;\r\n    let tempPropertyPrice = 0;\r\n    if (thisItem.properties !== null) {\r\n      let propertyItems = JSON.parse(thisItem.properties);\r\n      propertyItems.forEach((propertyItem, thisIndex) => {\r\n        let temp =\r\n          propertyItem.quantity *\r\n          propertyItem.price_per_qty *\r\n          thisItem.quantity;\r\n        tempPropertyPrice = tempPropertyPrice + temp;\r\n      });\r\n    }\r\n    price = thisItem.price - tempPropertyPrice;\r\n    return formatPrice(price);\r\n  };\r\n\r\n  //search submitted orders here\r\n  const handleSearch = (e) => {\r\n    let searchInput = e.target.value.toLowerCase();\r\n    if (searchInput.length === 0) {\r\n      setSearchedOrder({ ...searchedOrder, searched: false });\r\n    } else {\r\n      let searchedList = pendingOrdersDeliveryForSearch.filter((item) => {\r\n        //token\r\n        let lowerCaseItemToken = JSON.stringify(item.token);\r\n\r\n        //customer\r\n        let lowerCaseItemCustomer = item.user_name.toLowerCase();\r\n\r\n        //branch\r\n        let lowerCaseItemBranch = item.branch_name.toLowerCase();\r\n        return (\r\n          lowerCaseItemToken.includes(searchInput) ||\r\n          lowerCaseItemCustomer.includes(searchInput) ||\r\n          (lowerCaseItemBranch && lowerCaseItemBranch.includes(searchInput))\r\n        );\r\n      });\r\n      setSearchedOrder({\r\n        ...searchedOrder,\r\n        list: searchedList,\r\n        searched: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  //print here\r\n  const handleOnlyPrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  //ready here\r\n  const handleReadyOrder = (id) => {\r\n    let tempSettledOrders = pendingOrdersDelivery;\r\n    let tempSearchedItems = searchedOrder.list;\r\n    const url = BASE_URL + \"/settings/settle-order-ready/\" + id;\r\n    let theItems = pendingOrdersDelivery.data.map((item) => {\r\n      if (item.id === id) {\r\n        return {\r\n          ...item,\r\n          is_ready: 1,\r\n          orderedItems: item.orderedItems.map((eachItem) => {\r\n            return {\r\n              ...eachItem,\r\n              is_cooking: 1,\r\n              is_ready: 1,\r\n            };\r\n          }),\r\n        };\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    if (searchedOrder.list !== null && searchedOrder.list.length > 0) {\r\n      let searchedItems = searchedOrder.list.map((searchedItem) => {\r\n        if (searchedItem.id === id) {\r\n          return {\r\n            ...searchedItem,\r\n            is_ready: 1,\r\n            orderedItems: searchedItem.orderedItems.map((eachorderItem) => {\r\n              return {\r\n                ...eachorderItem,\r\n                is_cooking: 1,\r\n                is_ready: 1,\r\n              };\r\n            }),\r\n          };\r\n        } else {\r\n          return searchedItem;\r\n        }\r\n      });\r\n      setSearchedOrder({\r\n        ...searchedOrder,\r\n        list: searchedItems,\r\n      });\r\n    }\r\n    setPendingOrdersDelivery({ ...pendingOrdersDelivery, data: theItems });\r\n    axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {})\r\n      .catch((error) => {\r\n        setPendingOrdersDelivery(tempSettledOrders);\r\n        setSearchedOrder({\r\n          ...searchedOrder,\r\n          list: tempSearchedItems,\r\n        });\r\n      });\r\n  };\r\n\r\n  //submit accept order request\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const url = BASE_URL + \"/website/accept-order\";\r\n    let formData = {\r\n      time_to_deliver: checkOrderDetails.time_to_deliver,\r\n      delivery_man_id: checkOrderDetails.delivery_man_id,\r\n      id: checkOrderDetails.item.id,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${getCookie()}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        let temp = checkOrderDetails.item;\r\n        temp.is_accepted = 1;\r\n        temp.time_to_deliver = checkOrderDetails.time_to_deliver;\r\n        setCheckOrderDetails({\r\n          ...checkOrderDetails,\r\n          item: temp,\r\n          time_to_deliver: null,\r\n          reason_of_cancel: null,\r\n          delivery_man_id: null,\r\n          settle: false,\r\n        });\r\n        handleOnlyPrint();\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  //submit cancel order request\r\n  const handleSubmitCancel = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const url = BASE_URL + \"/website/cancel-order\";\r\n    let formData = {\r\n      reason_of_cancel: checkOrderDetails.reason_of_cancel,\r\n      id: checkOrderDetails.item.id,\r\n    };\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${getCookie()}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        let temp = checkOrderDetails.item;\r\n        temp.is_cancelled = 1;\r\n        temp.reason_of_cancel = checkOrderDetails.reason_of_cancel;\r\n        setCheckOrderDetails({\r\n          ...checkOrderDetails,\r\n          item: temp,\r\n          reason_of_cancel: null,\r\n          cancel: false,\r\n        });\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Online Orders\"))}</title>\r\n      </Helmet>\r\n\r\n      <audio id=\"myAudioOrder\">\r\n        <source src=\"/assets/beep/order.mp3\" type=\"audio/mpeg\" />\r\n      </audio>\r\n\r\n      {/* Print bill */}\r\n      <div className=\"d-none\">\r\n        <div ref={componentRef}>\r\n          {checkOrderDetails && checkOrderDetails.item && (\r\n            <div className=\"fk-print\">\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <span className=\"d-block fk-print-text font-weight-bold text-uppercase text-center sm-text\">\r\n                      {getSystemSettings(generalSettings, \"siteName\")}\r\n                      {\",\"}\r\n                      {checkOrderDetails.item.branch_name}\r\n                    </span>\r\n                    <p className=\"mb-0 sm-text fk-print-text text-center text-capitalize\">\r\n                      {checkOrderDetails.item.theBranch !== null &&\r\n                      checkOrderDetails.item.theBranch.address\r\n                        ? checkOrderDetails.item.theBranch.address\r\n                        : \"\"}\r\n                    </p>\r\n                    <p className=\"mb-0 sm-text fk-print-text text-center text-capitalize\">\r\n                      {_t(t(\"call\"))}:{\" \"}\r\n                      {checkOrderDetails.item.theBranch !== null &&\r\n                      checkOrderDetails.item.theBranch.phn_no\r\n                        ? checkOrderDetails.item.theBranch.phn_no\r\n                        : \"\"}\r\n                    </p>\r\n                    <p className=\"mb-0 sm-text fk-print-text text-center text-capitalize\">\r\n                      {getSystemSettings(generalSettings, \"type_print_heading\")}\r\n                    </p>\r\n                    <span className=\"d-block fk-print-text text-uppercase text-center lg-text myBorderTopCustomer\">\r\n                      {_t(t(\"Token No\"))}-{checkOrderDetails.item.token}\r\n                    </span>\r\n\r\n                    <p className=\"mb-0 mt-0 sm-text fk-print-text text-capitalize text-center\">\r\n                      {_t(t(\"Online Customer\"))}\r\n                    </p>\r\n\r\n                    <p className=\"mb-0 xsm-text fk-print-text text-capitalize\">\r\n                      {_t(t(\"date\"))}:{\" \"}\r\n                      <Moment format=\"LL\">\r\n                        {checkOrderDetails.item.created_at}\r\n                      </Moment>\r\n                    </p>\r\n\r\n                    <p className=\"mb-0 sm-text fk-print-text text-capitalize\">\r\n                      {checkOrderDetails.item.payment_method === \"COD\" &&\r\n                        \"Cash On Delivery\"}\r\n                    </p>\r\n\r\n                    <p className=\"mb-0 xsm-text fk-print-text text-capitalize\">\r\n                      {_t(t(\"Delivery Address\"))}:{\" \"}\r\n                      {checkOrderDetails.item.delivery_address}\r\n                    </p>\r\n\r\n                    <p className=\"mb-0 xsm-text fk-print-text text-capitalize\">\r\n                      {_t(t(\"Contact\"))}:{\" \"}\r\n                      {checkOrderDetails.item.delivery_phn_no}\r\n                    </p>\r\n\r\n                    <table className=\"table mb-0 table-borderless akash-table-for-print-padding\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th\r\n                            scope=\"col\"\r\n                            className=\"fk-print-text xsm-text text-capitalize\"\r\n                          >\r\n                            {_t(t(\"qty\"))} {_t(t(\"item\"))}\r\n                          </th>\r\n                          <th\r\n                            scope=\"col\"\r\n                            className=\"fk-print-text xsm-text text-capitalize text-right\"\r\n                          >\r\n                            {_t(t(\"T\"))}.{_t(t(\"price\"))}\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.orderedItems.map(\r\n                            (thisItem, indexThisItem) => {\r\n                              return (\r\n                                <tr>\r\n                                  <td className=\"fk-print-text xsm-text text-capitalize\">\r\n                                    <div className=\"d-flex flex-wrap\">\r\n                                      <span className=\"d-inline-block xsm-text\">\r\n                                        -{thisItem.quantity}{\" \"}\r\n                                        {thisItem.food_item}\r\n                                        {thisItem.variation !== null &&\r\n                                          \"(\" + thisItem.variation + \")\"}\r\n                                      </span>\r\n                                    </div>\r\n\r\n                                    {/* properties */}\r\n                                    {thisItem.properties !== null && (\r\n                                      <div className=\"d-block\">\r\n                                        {JSON.parse(thisItem.properties).map(\r\n                                          (propertyItem, thisIndex) => {\r\n                                            return (\r\n                                              <span className=\"text-capitalize xsm-text d-inline-block mr-1\">\r\n                                                -{thisItem.quantity}\r\n                                                {propertyItem.quantity > 1\r\n                                                  ? \"*\" + propertyItem.quantity\r\n                                                  : \"\"}{\" \"}\r\n                                                {propertyItem.property}\r\n                                              </span>\r\n                                            );\r\n                                          }\r\n                                        )}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                    <div className=\"d-block xsm-text\">\r\n                                      {showPriceOfEachOrderItemPrint(thisItem)}\r\n                                    </div>\r\n\r\n                                    {/* properties */}\r\n                                    {thisItem.properties !== null && (\r\n                                      <div className=\"d-block\">\r\n                                        {JSON.parse(thisItem.properties).map(\r\n                                          (propertyItem, thisIndex) => {\r\n                                            return (\r\n                                              <div\r\n                                                className=\"d-block\"\r\n                                                className={`text-capitalize xsm-text`}\r\n                                              >\r\n                                                <span>\r\n                                                  {formatPrice(\r\n                                                    thisItem.quantity *\r\n                                                      propertyItem.quantity *\r\n                                                      propertyItem.price_per_qty\r\n                                                  )}\r\n                                                  <br />\r\n                                                </span>\r\n                                              </div>\r\n                                            );\r\n                                          }\r\n                                        )}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }\r\n                          )}\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    <div className=\"myBorder\"></div>\r\n                    <table className=\"table mb-0 table-borderless\">\r\n                      <tbody>\r\n                        <tr>\r\n                          <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                            <span className=\"d-block\">{_t(t(\"total\"))}</span>\r\n                          </th>\r\n                          <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                            {formatPrice(checkOrderDetails.item.order_bill)}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    {parseFloat(checkOrderDetails.item.vat) > 0 && (\r\n                      <table className=\"table mb-0 table-borderless\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                              <span className=\"d-block xsm-text\">\r\n                                {_t(t(\"VAT\"))}\r\n                                {\" (\"}\r\n                                {generalSettings &&\r\n                                  getSystemSettings(\r\n                                    generalSettings,\r\n                                    \"type_vat\"\r\n                                  )}\r\n                                %{\")\"}\r\n                              </span>\r\n                            </th>\r\n                            <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                              {formatPrice(checkOrderDetails.item.vat)}\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    )}\r\n\r\n                    <div className=\"myBorder\"></div>\r\n                    <table className=\"table mb-0 table-borderless\">\r\n                      <tbody>\r\n                        <tr>\r\n                          <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                            <span className=\"d-block\">\r\n                              {_t(t(\"grand total\"))}\r\n                            </span>\r\n                          </th>\r\n                          <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                            {formatPrice(checkOrderDetails.item.total_payable)}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    <div className=\"myBorder\"></div>\r\n                    <p className=\"mb-0 xsm-text fk-print-text text-center text-capitalize\">\r\n                      {getSystemSettings(generalSettings, \"type_print_footer\")}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Settle modal */}\r\n      <div className=\"modal fade\" id=\"orderDetails\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header align-items-center\">\r\n              <div className=\"fk-sm-card__content\">\r\n                <h5 className=\"text-capitalize fk-sm-card__title\">\r\n                  {/* show order token on modal header */}\r\n                  {_t(t(\"Order details, Token\"))}: #\r\n                  {checkOrderDetails.item && checkOrderDetails.item.token}\r\n                </h5>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            {/* if loading true show loading effect */}\r\n            {loading ? (\r\n              <div className=\"modal-body\">{modalLoading(5)}</div>\r\n            ) : (\r\n              <div className=\"modal-body\">\r\n                <div className=\"d-flex\">\r\n                  <div className=\"my-auto text-uppercase\">\r\n                    {_t(t(\"Status\"))}\r\n                  </div>\r\n                  <div className=\"ml-2 w-100 mx-2\">\r\n                    <select\r\n                      className=\"form-control\"\r\n                      onChange={(e) => {\r\n                        const url = BASE_URL + \"/settings/change-status\";\r\n                        let formData = {\r\n                          id: checkOrderDetails.item.id,\r\n                          status: e.target.value,\r\n                        };\r\n                        return axios\r\n                          .post(url, formData, {\r\n                            headers: { Authorization: `Bearer ${getCookie()}` },\r\n                          })\r\n                          .then((res) => {\r\n                            setPendingOrdersDelivery(res.data[0]);\r\n                            setPendingOrdersDeliveryForSearch(res.data[1]);\r\n                            setCheckOrderDetails({\r\n                              ...checkOrderDetails,\r\n                              item: {\r\n                                ...checkOrderDetails.item,\r\n                                delivery_status: formData.status,\r\n                              },\r\n                            });\r\n                          })\r\n                          .catch((err) => {\r\n                            toast.error(`${_t(t(\"Please try again\"))}`, {\r\n                              position: \"bottom-center\",\r\n                              autoClose: 10000,\r\n                              hideProgressBar: false,\r\n                              closeOnClick: true,\r\n                              pauseOnHover: true,\r\n                              className: \"text-center toast-notification\",\r\n                            });\r\n                          });\r\n                      }}\r\n                      required\r\n                    >\r\n                      <option\r\n                        value=\"pending\"\r\n                        selected={\r\n                          checkOrderDetails.item &&\r\n                          checkOrderDetails.item.delivery_status === \"pending\"\r\n                        }\r\n                      >\r\n                        {_t(t(\"Pending\"))}\r\n                      </option>\r\n                      <option\r\n                        value=\"accepted\"\r\n                        selected={\r\n                          checkOrderDetails.item &&\r\n                          checkOrderDetails.item.delivery_status === \"accepted\"\r\n                        }\r\n                      >\r\n                        {_t(t(\"Accepted\"))}\r\n                      </option>\r\n                      <option\r\n                        value=\"delivered\"\r\n                        selected={\r\n                          checkOrderDetails.item &&\r\n                          checkOrderDetails.item.delivery_status === \"delivered\"\r\n                        }\r\n                      >\r\n                        {_t(t(\"Delivered\"))}\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* show this if order settle is not true, if true show payment input field */}\r\n                {!checkOrderDetails.cancel ? (\r\n                  <>\r\n                    {!checkOrderDetails.settle ? (\r\n                      <div class=\"col-12 filtr-item\">\r\n                        <div class=\"fk-order-token t-bg-white\">\r\n                          <div class=\"fk-order-token__body\">\r\n                            <div class=\"fk-addons-table\">\r\n                              <div class=\"fk-addons-table__head text-center\">\r\n                                {_t(t(\"order token\"))}: #\r\n                                {checkOrderDetails.item &&\r\n                                  checkOrderDetails.item.token}\r\n                              </div>\r\n                              <div class=\"fk-addons-table__info\">\r\n                                <div class=\"row g-0\">\r\n                                  <div class=\"col-2 text-center border-right\">\r\n                                    <span class=\"fk-addons-table__info-text text-capitalize\">\r\n                                      {_t(t(\"S/L\"))}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div class=\"col-4 text-center border-right\">\r\n                                    <span class=\"fk-addons-table__info-text text-capitalize\">\r\n                                      {_t(t(\"food\"))}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div class=\"col-4 text-left pl-2 border-right\">\r\n                                    <span class=\"fk-addons-table__info-text text-capitalize\">\r\n                                      {_t(t(\"Additional Info\"))}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div class=\"col-2 text-center border-right\">\r\n                                    <span class=\"fk-addons-table__info-text text-capitalize\">\r\n                                      {_t(t(\"QTY\"))}\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              {checkOrderDetails.item &&\r\n                                checkOrderDetails.item.orderedItems.map(\r\n                                  (thisItem, indexThisItem) => {\r\n                                    return (\r\n                                      <div class=\"fk-addons-table__body-row\">\r\n                                        <div class=\"row g-0\">\r\n                                          <div class=\"col-2 text-center border-right d-flex\">\r\n                                            <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                              {indexThisItem + 1}\r\n                                            </span>\r\n                                          </div>\r\n                                          <div class=\"col-4 text-center border-right d-flex\">\r\n                                            <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                              {thisItem.food_item} (\r\n                                              {thisItem.food_group})\r\n                                            </span>\r\n                                          </div>\r\n                                          <div class=\"col-4 text-center border-right t-pl-10 t-pr-10\">\r\n                                            {thisItem.variation !== null && (\r\n                                              <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pt-5\">\r\n                                                <span class=\"font-weight-bold mr-1\">\r\n                                                  {_t(t(\"variation\"))}:\r\n                                                </span>\r\n                                                {thisItem.variation}\r\n                                              </span>\r\n                                            )}\r\n\r\n                                            {thisItem.properties !== null && (\r\n                                              <span class=\"fk-addons-table__info-text text-capitalize d-block text-left t-pb-5\">\r\n                                                <span class=\"font-weight-bold mr-1\">\r\n                                                  {_t(t(\"properties\"))}:\r\n                                                </span>\r\n                                                {JSON.parse(\r\n                                                  thisItem.properties\r\n                                                ).map(\r\n                                                  (propertyItem, thisIndex) => {\r\n                                                    if (\r\n                                                      thisIndex !==\r\n                                                      JSON.parse(\r\n                                                        thisItem.properties\r\n                                                      ).length -\r\n                                                        1\r\n                                                    ) {\r\n                                                      return (\r\n                                                        propertyItem.property +\r\n                                                        `${\r\n                                                          propertyItem.quantity >\r\n                                                          1\r\n                                                            ? \"(\" +\r\n                                                              propertyItem.quantity +\r\n                                                              \")\"\r\n                                                            : \"\"\r\n                                                        }` +\r\n                                                        \", \"\r\n                                                      );\r\n                                                    } else {\r\n                                                      return (\r\n                                                        propertyItem.property +\r\n                                                        `${\r\n                                                          propertyItem.quantity >\r\n                                                          1\r\n                                                            ? \"(\" +\r\n                                                              propertyItem.quantity +\r\n                                                              \")\"\r\n                                                            : \"\"\r\n                                                        }`\r\n                                                      );\r\n                                                    }\r\n                                                  }\r\n                                                )}\r\n                                              </span>\r\n                                            )}\r\n                                          </div>\r\n                                          <div class=\"col-2 text-center border-right d-flex\">\r\n                                            <span class=\"fk-addons-table__info-text text-capitalize m-auto\">\r\n                                              {thisItem.quantity}\r\n                                            </span>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    );\r\n                                  }\r\n                                )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"my-2 payment-type-parent\">\r\n                        <form\r\n                          className=\"border my-2 alert-success rounded-lg\"\r\n                          onSubmit={handleSubmit}\r\n                        >\r\n                          <div className=\"sm-text ml-2 py-2\">\r\n                            {_t(t(\"Time To Deliver The Order\"))}\r\n                          </div>\r\n                          <div className=\"addons-list__item mx-2 mb-1\">\r\n                            <input\r\n                              type=\"number\"\r\n                              min=\"0\"\r\n                              step=\"0.1\"\r\n                              name=\"time_to_deliver\"\r\n                              placeholder=\"Time in minutes\"\r\n                              className=\"form-control xsm-text pl-2\"\r\n                              onChange={(e) => {\r\n                                setCheckOrderDetails({\r\n                                  ...checkOrderDetails,\r\n                                  time_to_deliver: e.target.value,\r\n                                });\r\n                              }}\r\n                              value={checkOrderDetails.time_to_deliver}\r\n                              required\r\n                            />\r\n                          </div>\r\n\r\n                          <div className=\"sm-text ml-2 py-2\">\r\n                            {_t(t(\"Assign Delivery Man\"))}\r\n                          </div>\r\n                          <div className=\"addons-list__item mx-2 mb-1\">\r\n                            <select\r\n                              className=\"form-control\"\r\n                              onChange={(e) => {\r\n                                setCheckOrderDetails({\r\n                                  ...checkOrderDetails,\r\n                                  delivery_man_id: e.target.value,\r\n                                });\r\n                              }}\r\n                              required\r\n                            >\r\n                              <option value=\"\">\r\n                                {_t(t(\"Please select deliveryman\"))}\r\n                              </option>\r\n                              {deliveryForSearch &&\r\n                                deliveryForSearch.map((each) => {\r\n                                  return (\r\n                                    <option value={each.id}>\r\n                                      {each.name}({each.phn_no})\r\n                                    </option>\r\n                                  );\r\n                                })}\r\n                            </select>\r\n                          </div>\r\n                          <div className=\"pb-2 pl-2 mt-3 d-flex justify-content-center\">\r\n                            <button\r\n                              className=\"btn btn-sm btn-success text-center px-3 text-uppercase\"\r\n                              type=\"submit\"\r\n                            >\r\n                              {_t(t(\"Accept\"))}\r\n                            </button>\r\n                          </div>\r\n                        </form>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"my-2 payment-type-parent\">\r\n                      <form\r\n                        className=\"border my-2 alert-danger rounded-lg\"\r\n                        onSubmit={handleSubmitCancel}\r\n                      >\r\n                        <div className=\"sm-text text-center py-2\">\r\n                          {_t(t(\"Please write a reason\"))}\r\n                        </div>\r\n                        <div className=\"addons-list__item mx-2 mb-1\">\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"reason_of_cancel\"\r\n                            placeholder=\"Please write a reason\"\r\n                            className=\"form-control xsm-text pl-2\"\r\n                            onChange={(e) => {\r\n                              setCheckOrderDetails({\r\n                                ...checkOrderDetails,\r\n                                reason_of_cancel: e.target.value,\r\n                              });\r\n                            }}\r\n                            value={checkOrderDetails.reason_of_cancel}\r\n                            required\r\n                          />\r\n                        </div>\r\n                        <div className=\"pb-2 pl-2 my-2 d-flex justify-content-center\">\r\n                          <button\r\n                            className=\"btn btn-sm btn-primary text-center text-dark px-3 text-uppercase\"\r\n                            type=\"submit\"\r\n                          >\r\n                            {_t(t(\"Submit\"))}\r\n                          </button>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n                <table className=\"table table-striped table-sm text-center mt-3\">\r\n                  <thead className=\"bg-info text-white text-uppercase\">\r\n                    <tr>\r\n                      <th scope=\"col\" colSpan=\"2\">\r\n                        {_t(t(\"Order details\"))}\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">{_t(t(\"Customer\"))}</td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.user_name}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">{_t(t(\"Contact\"))}</td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.delivery_phn_no}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">\r\n                        {_t(t(\"Delivery Address\"))}\r\n                      </td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.delivery_address}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">\r\n                        {_t(t(\"Note to rider\"))}\r\n                      </td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.note_to_rider}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">\r\n                        {_t(t(\"Time To Deliver\"))}\r\n                      </td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                        checkOrderDetails.item.time_to_deliver !== null\r\n                          ? checkOrderDetails.item.time_to_deliver + \" min(s)\"\r\n                          : \"\"}\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-capitalized\">{_t(t(\"Branch\"))}</td>\r\n                      <td>\r\n                        {checkOrderDetails.item &&\r\n                          checkOrderDetails.item.branch_name}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Settle modal Ends*/}\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            <div className=\"col-12 t-mb-30 mb-lg-0\">\r\n              {checkOrderDetails.uploading === true || loading === true ? (\r\n                pageLoading()\r\n              ) : (\r\n                <div className=\"t-bg-white \">\r\n                  {/* next page data spin loading */}\r\n                  <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                  {/* spin loading ends */}\r\n                  <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15 t-pl-15 t-pr-15 t-shadow\">\r\n                    <div className=\"col-12 t-mb-15\">\r\n                      <ul className=\"t-list fk-breadcrumb\">\r\n                        <li className=\"fk-breadcrumb__list\">\r\n                          <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                            {!searchedOrder.searched ? (\r\n                              <>\r\n                                {_t(t(\"Assigned Orders\"))}\r\n                                {onlineCounter > 0 && (\r\n                                  <span className=\"bg-danger text-white p-1 ml-2 rounded-md\">\r\n                                    ({onlineCounter})\r\n                                  </span>\r\n                                )}\r\n                              </>\r\n                            ) : (\r\n                              _t(t(\"Search Result\"))\r\n                            )}\r\n                          </span>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                    <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                      <ul className=\"t-list fk-sort align-items-center\">\r\n                        <div className=\"input-group col\">\r\n                          <div className=\"form-file\">\r\n                            <input\r\n                              type=\"text\"\r\n                              className=\"form-control border-0 form-control--light-1 rounded-0\"\r\n                              placeholder={\r\n                                _t(t(\"Search by token, customer\")) + \"..\"\r\n                              }\r\n                              onChange={handleSearch}\r\n                            />\r\n                          </div>\r\n                          <button className=\"btn btn-primary\" type=\"button\">\r\n                            <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </ul>\r\n                    </div>\r\n                    <div className=\"col-md-6 col-lg-7\"></div>\r\n                  </div>\r\n                  <div className=\"fk-scroll--order-history\" data-simplebar>\r\n                    <div className=\"t-pl-15 t-pr-15\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover min-table-height mt-4\">\r\n                          <thead className=\"align-middle\">\r\n                            <tr>\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                              >\r\n                                {_t(t(\"S/L\"))}\r\n                              </th>\r\n\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                              >\r\n                                {_t(t(\"Token\"))}\r\n                              </th>\r\n\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                              >\r\n                                {_t(t(\"Time\"))}\r\n                              </th>\r\n\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                              >\r\n                                {_t(t(\"Customer\"))}\r\n                              </th>\r\n\r\n                              <th\r\n                                scope=\"col\"\r\n                                className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                              >\r\n                                {_t(t(\"Status\"))}\r\n                              </th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody className=\"align-middle\">\r\n                            {/* loop here, logic === !search && haveData && haveDataLegnth > 0*/}\r\n                            {!searchedOrder.searched\r\n                              ? [\r\n                                  pendingOrdersDelivery && [\r\n                                    pendingOrdersDelivery.data.length === 0 ? (\r\n                                      <tr className=\"align-middle\">\r\n                                        <td\r\n                                          scope=\"row\"\r\n                                          colSpan=\"8\"\r\n                                          className=\"xsm-text align-middle text-center\"\r\n                                        >\r\n                                          {_t(t(\"No data available\"))}\r\n                                        </td>\r\n                                      </tr>\r\n                                    ) : (\r\n                                      pendingOrdersDelivery.data.map(\r\n                                        (item, index) => {\r\n                                          return (\r\n                                            <tr\r\n                                              className=\"align-middle\"\r\n                                              key={index}\r\n                                            >\r\n                                              <th\r\n                                                scope=\"row\"\r\n                                                className=\"xsm-text text-capitalize align-middle text-center\"\r\n                                              >\r\n                                                {index +\r\n                                                  1 +\r\n                                                  (pendingOrdersDelivery.current_page -\r\n                                                    1) *\r\n                                                    pendingOrdersDelivery.per_page}\r\n                                              </th>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center text-secondary\">\r\n                                                #{item.token}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                <Moment format=\"LLL\">\r\n                                                  {item.created_at}\r\n                                                </Moment>\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {item.user_name}\r\n                                              </td>\r\n\r\n                                              <td class=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <span\r\n                                                  className=\"btn btn-transparent btn-secondary xsm-text text-capitalize px-3\"\r\n                                                  onClick={() => {\r\n                                                    setCheckOrderDetails({\r\n                                                      ...checkOrderDetails,\r\n                                                      item: item,\r\n                                                      settle: false,\r\n                                                      cancel: false,\r\n                                                    });\r\n                                                  }}\r\n                                                  data-toggle=\"modal\"\r\n                                                  data-target=\"#orderDetails\"\r\n                                                >\r\n                                                  {item.delivery_status}\r\n                                                </span>\r\n                                              </td>\r\n                                            </tr>\r\n                                          );\r\n                                        }\r\n                                      )\r\n                                    ),\r\n                                  ],\r\n                                ]\r\n                              : [\r\n                                  /* searched data, logic === haveData*/\r\n                                  searchedOrder && [\r\n                                    searchedOrder.list.length === 0 ? (\r\n                                      <tr className=\"align-middle\">\r\n                                        <td\r\n                                          scope=\"row\"\r\n                                          colSpan=\"8\"\r\n                                          className=\"xsm-text align-middle text-center\"\r\n                                        >\r\n                                          {_t(t(\"No data available\"))}\r\n                                        </td>\r\n                                      </tr>\r\n                                    ) : (\r\n                                      searchedOrder.list.map((item, index) => {\r\n                                        return (\r\n                                          <tr\r\n                                            className=\"align-middle\"\r\n                                            key={index}\r\n                                          >\r\n                                            <th\r\n                                              scope=\"row\"\r\n                                              className=\"xsm-text text-capitalize align-middle text-center\"\r\n                                            >\r\n                                              {index +\r\n                                                1 +\r\n                                                (pendingOrdersDelivery.current_page -\r\n                                                  1) *\r\n                                                  pendingOrdersDelivery.per_page}\r\n                                            </th>\r\n\r\n                                            <td className=\"xsm-text text-capitalize align-middle text-center text-secondary\">\r\n                                              #{item.token}\r\n                                            </td>\r\n\r\n                                            <td className=\"xsm-text align-middle text-center\">\r\n                                              <Moment format=\"LLL\">\r\n                                                {item.created_at}\r\n                                              </Moment>\r\n                                            </td>\r\n\r\n                                            <td className=\"xsm-text align-middle text-center\">\r\n                                              {item.user_name}\r\n                                            </td>\r\n\r\n                                            <td class=\"xsm-text text-capitalize align-middle text-center\">\r\n                                              <span\r\n                                                className=\"btn btn-transparent btn-secondary xsm-text text-capitalize px-3\"\r\n                                                onClick={() => {\r\n                                                  setCheckOrderDetails({\r\n                                                    ...checkOrderDetails,\r\n                                                    item: item,\r\n                                                    settle: false,\r\n                                                    cancel: false,\r\n                                                  });\r\n                                                }}\r\n                                                data-toggle=\"modal\"\r\n                                                data-target=\"#orderDetails\"\r\n                                              >\r\n                                                {item.delivery_status}\r\n                                              </span>\r\n                                            </td>\r\n                                          </tr>\r\n                                        );\r\n                                      })\r\n                                    ),\r\n                                  ],\r\n                                ]}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* pagination loading effect */}\r\n              {checkOrderDetails.uploading === true || loading === true\r\n                ? paginationLoading()\r\n                : [\r\n                    // logic === !searched\r\n                    !searchedOrder.searched ? (\r\n                      <div key=\"fragment4\">\r\n                        <div className=\"t-bg-white mt-1 t-pt-5 t-pb-5\">\r\n                          <div className=\"row align-items-center t-pl-15 t-pr-15\">\r\n                            <div className=\"col-md-7 t-mb-15 mb-md-0\">\r\n                              {/* pagination function */}\r\n                              {pagination(\r\n                                pendingOrdersDelivery,\r\n                                setPaginatedDeliveryPendingOrders\r\n                              )}\r\n                            </div>\r\n                            <div className=\"col-md-5\">\r\n                              <ul className=\"t-list d-flex justify-content-md-end align-items-center\">\r\n                                <li className=\"t-list__item\">\r\n                                  <span className=\"d-inline-block sm-text\">\r\n                                    {showingData(pendingOrdersDelivery)}\r\n                                  </span>\r\n                                </li>\r\n                              </ul>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      // if searched\r\n                      <div className=\"t-bg-white mt-1 t-pt-5 t-pb-5\">\r\n                        <div className=\"row align-items-center t-pl-15 t-pr-15\">\r\n                          <div className=\"col-md-7 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list d-flex\">\r\n                              <li className=\"t-list__item no-pagination-style\">\r\n                                <button\r\n                                  className=\"btn btn-primary btn-sm\"\r\n                                  onClick={() =>\r\n                                    setSearchedOrder({\r\n                                      ...searchedOrder,\r\n                                      searched: false,\r\n                                    })\r\n                                  }\r\n                                >\r\n                                  {_t(t(\"Clear Search\"))}\r\n                                </button>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-5\">\r\n                            <ul className=\"t-list d-flex justify-content-md-end align-items-center\">\r\n                              <li className=\"t-list__item\">\r\n                                <span className=\"d-inline-block sm-text\">\r\n                                  {searchedShowingData(\r\n                                    searchedOrder,\r\n                                    pendingOrdersDeliveryForSearch\r\n                                  )}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ),\r\n                  ]}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AssignedOrders;\r\n"]},"metadata":{},"sourceType":"module"}