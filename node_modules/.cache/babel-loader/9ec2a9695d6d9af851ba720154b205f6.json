{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState,useRef}from\"react\";import{NavLink}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../BaseUrl\";//functions\nimport{_t,getCookie,currencySymbolLeft,formatPrice,currencySymbolRight,getSystemSettings}from\"../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import Select from\"react-select\";import makeAnimated from\"react-select/animated\";import{confirmAlert}from\"react-confirm-alert\";import\"react-confirm-alert/src/react-confirm-alert.css\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Moment from\"react-moment\";import{useReactToPrint}from\"react-to-print\";//importing context consumer here\nimport{UserContext}from\"../../../../contexts/User\";import{SettingsContext}from\"../../../../contexts/Settings\";import{RestaurantContext}from\"../../../../contexts/Restaurant\";import{FoodContext}from\"../../../../contexts/Food\";import Calculator from\"./calc/Calculator\";var Pos=function Pos(){//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading,generalSettings=_useContext.generalSettings,showManageStock=_useContext.showManageStock;var _useContext2=useContext(UserContext),authUserInfo=_useContext2.authUserInfo,customerForSearch=_useContext2.customerForSearch,setCustomerForSearch=_useContext2.setCustomerForSearch,waiterForSearch=_useContext2.waiterForSearch;var _useContext3=useContext(FoodContext),foodForSearch=_useContext3.foodForSearch,foodGroupForSearch=_useContext3.foodGroupForSearch,getFoodGroup=_useContext3.getFoodGroup,propertyGroupForSearch=_useContext3.propertyGroupForSearch,foodItemStock=_useContext3.foodItemStock;var _useContext4=useContext(RestaurantContext),workPeriodForSearch=_useContext4.workPeriodForSearch,setWorkPeriodListForSearch=_useContext4.setWorkPeriodListForSearch,branchForSearch=_useContext4.branchForSearch,tableForSearch=_useContext4.tableForSearch,deptTagForSearch=_useContext4.deptTagForSearch,paymentTypeForSearch=_useContext4.paymentTypeForSearch;var _useTranslation=useTranslation(),t=_useTranslation.t;// State hooks here\nvar _useState=useState({foodGroup:null,items:null,selectedItem:null,variations:null,properties:null}),_useState2=_slicedToArray(_useState,2),foodItem=_useState2[0],setFoodItem=_useState2[1];// const [foodItem, setFoodItem] = useState({\n//   foodGroup: [{\n//     id: 22,\n//     name: \"Bread\",\n//     slug: \"34d-1639221643-bread\",\n//     created_at: \"2021-12-11T07:50:43.000000Z\",\n//     updated_at: \"2021-12-11T07:50:43.000000Z\",\n//   }],\n//   items: [{\n//     id: 71,\n//     food_group_id: \"22\",\n//     food_group: \"Bread\",\n//     name: \"Bread 1\",\n//     slug: \"bXe-1639221673-bread-1\",\n//     is_special: \"0\",\n//     image: \"http://localhost/khadyo_updated_production_saas/laravel/public/images/food_item/1639221673-burgerjpg.jpg\", has_variation: \"0\",\n//     price: \"11\",\n//     has_property: \"0\",\n//   }],\n//   selectedItem: [{\n//     id: 71,\n//     food_group_id: \"22\",\n//     food_group: \"Bread\",\n//     name: \"Bread 1\",\n//     slug: \"bXe-1639221673-bread-1\",\n//     is_special: \"0\",\n//     image: \"http://localhost/khadyo_updated_production_saas/laravel/public/images/food_item/1639221673-burgerjpg.jpg\", has_variation: \"0\",\n//     price: \"11\",\n//     has_property: \"0\",\n//   }],\n//   variations: null,\n//   properties: null,\n// });\n// show settle\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSettle=_useState4[0],setShowSettle=_useState4[1];//calculator\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),calculatorMenu=_useState6[0],setCalculatorMenu=_useState6[1];//new order\nvar _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),newOrder=_useState8[0],setNewOrder=_useState8[1];//active index of order list\nvar _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),activeItemInOrder=_useState10[0],setActiveItemInOrder=_useState10[1];//checked variations\nvar _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),selectedVariation=_useState12[0],setSelectedVariation=_useState12[1];//selected groups\nvar _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),selectedPropertyGroup=_useState14[0],setSelectedPropertyGroup=_useState14[1];//checked properties\nvar _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),selectedProperties=_useState16[0],setSelectedProperties=_useState16[1];//the sub total\nvar _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),theSubTotal=_useState18[0],setTheSubTotal=_useState18[1];//total payable\nvar _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),totalPayable=_useState20[0],setTotalPaybale=_useState20[1];// paidMoney\nvar _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),paidMoney=_useState22[0],setPaidMoney=_useState22[1];//return\nvar _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),returnMoneyUsd=_useState24[0],setReturnMoneyUsd=_useState24[1];//vat\nvar _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),theVat=_useState26[0],setTheVat=_useState26[1];//deptCommission\nvar _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),deptCommission=_useState28[0],setDeptCommission=_useState28[1];//vat settings\nvar _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),newSettings=_useState30[0],setNewSettings=_useState30[1];//order details users\nvar _useState31=useState({theCustomers:null,theTables:null,theWaiters:null}),_useState32=_slicedToArray(_useState31,2),orderDetailUsers=_useState32[0],setOrderDetailusers=_useState32[1];//order details\nvar _useState33=useState({branch:null,customer:null,table:null,waiter:null,dept_tag:null,payment_type:null,payment_amount:null,total_guest:1,newCustomer:false,newCustomerInfo:{name:\"\",number:\"\"},token:null,serviceCharge:0,discount:0}),_useState34=_slicedToArray(_useState33,2),orderDetails=_useState34[0],setOrderDetails=_useState34[1];//orderFoodGroups\nvar _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),orderFoodGroups=_useState36[0],setOrderFoodGroups=_useState36[1];//online order counter\nvar _useState37=useState(0),_useState38=_slicedToArray(_useState37,2),onlineCounter=_useState38[0],setOnlineCounter=_useState38[1];//useEffect- to get data on render\nuseEffect(function(){if(foodGroupForSearch){var tempItems=foodForSearch&&foodForSearch.filter(function(tempItem){return parseInt(tempItem.food_group_id)===foodGroupForSearch[0].id;});if(tempItems&&tempItems.length>0){// initial group & item being active here, variations, properties\nsetFoodItem({foodGroup:foodGroupForSearch[0],items:tempItems,selectedItem:tempItems[0],variations:parseInt(tempItems[0].has_variation)===1?tempItems[0].variations:null,properties:parseInt(tempItems[0].has_property)===1?tempItems[0].properties:null});}}if(authUserInfo.details){var theBranch=branchForSearch&&branchForSearch.find(function(branch){return parseInt(authUserInfo.details.branch_id)===branch.id;});setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{branch:theBranch!==undefined?theBranch:null}));//set work period\nvar theWorkPeriod=null;if(theBranch!==undefined&&theBranch!==null){theWorkPeriod=workPeriodForSearch&&workPeriodForSearch.filter(function(tempWorkPeriod){return theBranch.id===parseInt(tempWorkPeriod.branch_id);});//filter it with ended_at === null;\ntheWorkPeriod=theWorkPeriod&&theWorkPeriod.find(function(endAtNullItem){return endAtNullItem.ended_at===null;});}//set work period here\nsetNewSettings(_objectSpread(_objectSpread({},newSettings),{},{vat:generalSettings&&getSystemSettings(generalSettings,\"type_vat\"),workPeriod:theWorkPeriod!==undefined?theWorkPeriod:null}));}else{// user type admin\nsetNewSettings(_objectSpread(_objectSpread({},newSettings),{},{vat:generalSettings&&getSystemSettings(generalSettings,\"type_vat\")}));}setOrderDetailusers({theCustomers:customerForSearch?customerForSearch:null,theTables:tableForSearch?tableForSearch:null,theWaiters:waiterForSearch?waiterForSearch:null});//check online orders\nvar interval=setInterval(function(){var pendingUrl=BASE_URL+\"/website/pending-order\";return axios.get(pendingUrl,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){if(res.data>0){setOnlineCounter(res.data);var order=document.getElementById(\"myAudioOrder\");order.play();}}).catch(function(err){});},30000);},[authUserInfo,generalSettings,foodForSearch,foodGroupForSearch]);//stock\nvar handleGetStock=function handleGetStock(id){if(orderDetails.branch===null){return 0;}var stock=foodItemStock.find(function(item){return parseInt(item.food_id)===parseInt(id)&&parseInt(item.branch_id)===orderDetails.branch.id;});if(stock===undefined||stock.qty<0){return 0;}return stock.qty;};//get already ordered qty\nvar handleAlreadyOrderedQty=function handleAlreadyOrderedQty(id){var temp=0;if(newOrder){newOrder.map(function(item){if(parseInt(item.item.id)===id){temp+=parseInt(item.quantity);}});}return temp;};//add new item to order list\nvar handleOrderItem=function handleOrderItem(tempFoodItem){// if manage is stock is enable\nif(showManageStock){if(handleGetStock(tempFoodItem.id)>handleAlreadyOrderedQty(tempFoodItem.id)){var oldOrderItems=[];var newOrderItem=null;var tempSelectedVariations=[];if(newOrder){newOrder.map(function(eachOldOrderItem){//push all old items to new array to setNewOrder\noldOrderItems.push(eachOldOrderItem);//set selected variations of each order item\nvar tempArray=[];if(eachOldOrderItem.variation!==null){tempArray.push(eachOldOrderItem.variation.food_with_variation_id);}else{tempArray.push(null);}tempSelectedVariations.push(tempArray);});//add new order item\nnewOrderItem={item:tempFoodItem,variation:parseInt(tempFoodItem.has_variation)===1?tempFoodItem.variations[0]:null,quantity:1};//set selected variations of new item\nvar tempArray=[];if(parseInt(tempFoodItem.has_variation)===1){tempArray.push(tempFoodItem.variations[0].food_with_variation_id);}else{tempArray.push(null);}tempSelectedVariations.push(tempArray);//push new item to new array to setNewOrder\noldOrderItems.push(newOrderItem);}else{//if no item in newOrder List\nsetOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{token:{time:new Date().getTime(),id:newSettings.workPeriod.token}}));newOrderItem={//add new order item\nitem:tempFoodItem,variation:parseInt(tempFoodItem.has_variation)===1?tempFoodItem.variations[0]:null,quantity:1};//set selected variations of new item\nvar _tempArray=[];if(parseInt(tempFoodItem.has_variation)===1){_tempArray.push(tempFoodItem.variations[0].food_with_variation_id);}else{_tempArray.push(null);}tempSelectedVariations.push(_tempArray);//push new item to new array to setNewOrder\noldOrderItems.push(newOrderItem);}//set new order list with new array of all order items\nsetNewOrder(oldOrderItems);//set order list active item index to add class \"actve\"\nsetActiveItemInOrder(oldOrderItems.length-1);//set selected variations\nsetSelectedVariation(tempSelectedVariations);//calculate subTotalPrice\ntotalPrice(oldOrderItems);//set order unique food groups\nvar newSelectedGroup=[];oldOrderItems.map(function(eachOrderGroup){var theGroup=foodGroupForSearch.find(function(grpFilter,grpFilterIndex){return grpFilter.id===parseInt(eachOrderGroup.item.food_group_id);});if(!newSelectedGroup.includes(parseInt(theGroup.id))){newSelectedGroup.push(parseInt(theGroup.id));}});var theOrderFoodGroups=[];newSelectedGroup.forEach(function(thisItem,thisItemIndex){var findThegroup=foodGroupForSearch.find(function(filterThisGroup,filterThisGroupIndex){return filterThisGroup.id===thisItem;});theOrderFoodGroups.push(findThegroup);});setOrderFoodGroups(theOrderFoodGroups);//sound\nif(getSystemSettings(generalSettings,\"play_sound\")===\"1\"){var beep=document.getElementById(\"myAudio\");beep.play();}}else{toast.error(\"\".concat(_t(t(\"Stock Out\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}else{var _oldOrderItems=[];var _newOrderItem=null;var _tempSelectedVariations=[];if(newOrder){newOrder.map(function(eachOldOrderItem){//push all old items to new array to setNewOrder\n_oldOrderItems.push(eachOldOrderItem);//set selected variations of each order item\nvar tempArray=[];if(eachOldOrderItem.variation!==null){tempArray.push(eachOldOrderItem.variation.food_with_variation_id);}else{tempArray.push(null);}_tempSelectedVariations.push(tempArray);});//add new order item\n_newOrderItem={item:tempFoodItem,variation:parseInt(tempFoodItem.has_variation)===1?tempFoodItem.variations[0]:null,quantity:1};//set selected variations of new item\nvar _tempArray2=[];if(parseInt(tempFoodItem.has_variation)===1){_tempArray2.push(tempFoodItem.variations[0].food_with_variation_id);}else{_tempArray2.push(null);}_tempSelectedVariations.push(_tempArray2);//push new item to new array to setNewOrder\n_oldOrderItems.push(_newOrderItem);}else{//if no item in newOrder List\nsetOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{token:{time:new Date().getTime(),id:newSettings.workPeriod.token}}));_newOrderItem={//add new order item\nitem:tempFoodItem,variation:parseInt(tempFoodItem.has_variation)===1?tempFoodItem.variations[0]:null,quantity:1};//set selected variations of new item\nvar _tempArray3=[];if(parseInt(tempFoodItem.has_variation)===1){_tempArray3.push(tempFoodItem.variations[0].food_with_variation_id);}else{_tempArray3.push(null);}_tempSelectedVariations.push(_tempArray3);//push new item to new array to setNewOrder\n_oldOrderItems.push(_newOrderItem);}//set new order list with new array of all order items\nsetNewOrder(_oldOrderItems);//set order list active item index to add class \"actve\"\nsetActiveItemInOrder(_oldOrderItems.length-1);//set selected variations\nsetSelectedVariation(_tempSelectedVariations);//calculate subTotalPrice\ntotalPrice(_oldOrderItems);//set order unique food groups\nvar _newSelectedGroup=[];_oldOrderItems.map(function(eachOrderGroup){var theGroup=foodGroupForSearch.find(function(grpFilter,grpFilterIndex){return grpFilter.id===parseInt(eachOrderGroup.item.food_group_id);});if(!_newSelectedGroup.includes(parseInt(theGroup.id))){_newSelectedGroup.push(parseInt(theGroup.id));}});var _theOrderFoodGroups=[];_newSelectedGroup.forEach(function(thisItem,thisItemIndex){var findThegroup=foodGroupForSearch.find(function(filterThisGroup,filterThisGroupIndex){return filterThisGroup.id===thisItem;});_theOrderFoodGroups.push(findThegroup);});setOrderFoodGroups(_theOrderFoodGroups);//sound\nif(getSystemSettings(generalSettings,\"play_sound\")===\"1\"){var _beep=document.getElementById(\"myAudio\");_beep.play();}}};//set order item's variation on change of variation\nvar handleOrderItemVariation=function handleOrderItemVariation(tempFoodItemVariation){if(activeItemInOrder!==null){if(newOrder){var oldOrderItems=[];//array to push order items\nvar newOrderItemTemp=null;//to edit selected item\nvar tempSelectedVariations=[];//to set selected variations array for order items\nnewOrder.map(function(newOrderItem,index){var tempArray=[];if(index===activeItemInOrder){//changing variation of selected food item\nnewOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{variation:tempFoodItemVariation});//push updated item to orderlist\noldOrderItems.push(newOrderItemTemp);//set updated variation for selected variation\ntempArray.push(tempFoodItemVariation.food_with_variation_id);}else{//set other items as it was which are not selected to edit\nnewOrderItemTemp=newOrderItem;oldOrderItems.push(newOrderItemTemp);if(newOrderItemTemp.variation){//set updated variation for selected variations\ntempArray.push(newOrderItemTemp.variation.food_with_variation_id);}}//push to the array to set selectedVariations\ntempSelectedVariations.push(tempArray);});//set variations here\nsetSelectedVariation(tempSelectedVariations);//set updated order list\nsetNewOrder(oldOrderItems);//calculate subTotalPrice\ntotalPrice(oldOrderItems);}}};//to check which variation is selected\nvar checkChecked=function checkChecked(variationItem){//if variationItem.food_with_variation_id of selected item exist in selectedVariation - return true\nif(selectedVariation[activeItemInOrder]!==undefined){if(selectedVariation[activeItemInOrder][0]===variationItem.food_with_variation_id){return true;}else{return false;}}else{return false;}};//delete confirmation modal of item from order list\nvar handleDeleteConfirmation=function handleDeleteConfirmation(removeIndex){confirmAlert({customUI:function customUI(_ref){var onClose=_ref.onClose;return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"h1\",null,_t(t(\"Are you sure?\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},_t(t(\"You want to delete this?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){handleRemoveItemFromOrderList(removeIndex);onClose();}},_t(t(\"Yes, delete it!\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success ml-2 px-3\",onClick:onClose},_t(t(\"No\")))));}});};//remove item from order list\nvar handleRemoveItemFromOrderList=function handleRemoveItemFromOrderList(removeIndex){var oldOrderItems=[];//array to push order items\nnewOrder.map(function(newOrderItem,index){if(index!==removeIndex){//push item to orderlist\noldOrderItems.push(newOrderItem);}});//delete variations here\nvar tempSelectedVariations=selectedVariation.filter(function(selectedVariationItem,variationIndex){return variationIndex!==removeIndex;});//delete properties here\nvar tempSelectedProperties=selectedProperties.filter(function(selectedPropertyItem,propertyIndex){return propertyIndex!==removeIndex;});//delete property group here\nvar tempSelectedPropertyGroup=selectedPropertyGroup.filter(function(selectedPropertyGroupItem,propertyGroupIndex){return propertyGroupIndex!==removeIndex;});//set property group here\nsetSelectedPropertyGroup(tempSelectedPropertyGroup);//set variations here\nsetSelectedVariation(tempSelectedVariations);//set properties here\nsetSelectedProperties(tempSelectedProperties);//set updated order list\nsetNewOrder(oldOrderItems);//set active item in order list\nsetActiveItemInOrder(null);//calculate subTotalPrice\ntotalPrice(oldOrderItems);//set order unique food groups\nvar newSelectedGroup=[];oldOrderItems.map(function(eachOrderGroup){var theGroup=foodGroupForSearch.find(function(grpFilter,grpFilterIndex){return grpFilter.id===parseInt(eachOrderGroup.item.food_group_id);});if(!newSelectedGroup.includes(parseInt(theGroup.id))){newSelectedGroup.push(parseInt(theGroup.id));}});var theOrderFoodGroups=[];newSelectedGroup.forEach(function(thisItem,thisItemIndex){var findThegroup=foodGroupForSearch.find(function(filterThisGroup,filterThisGroupIndex){return filterThisGroup.id===thisItem;});theOrderFoodGroups.push(findThegroup);});setOrderFoodGroups(theOrderFoodGroups);//sound\nif(getSystemSettings(generalSettings,\"play_sound\")===\"1\"){var beep=document.getElementById(\"myAudio\");beep.play();}};//handle order item quantity\nvar handleOrderItemQty=function handleOrderItemQty(action){if(activeItemInOrder!==null){if(newOrder){var newOrderItemTemp=null;//to edit selected item\nvar oldOrderItems=[];//array to push order items\nnewOrder.map(function(newOrderItem,index){if(index===activeItemInOrder){//update qty here\nif(action===\"+\"){// if manage is stock is enable\nif(showManageStock){if(handleGetStock(newOrderItem.item.id)>handleAlreadyOrderedQty(newOrderItem.item.id)){//increase qty\nnewOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{quantity:newOrderItem.quantity+1});}else{newOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{quantity:newOrderItem.quantity});toast.error(\"\".concat(_t(t(\"Reached Stock Limit\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}else{//increase qty\nnewOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{quantity:newOrderItem.quantity+1});}}else{//if qty !==1 decrease\nif(newOrderItem.quantity!==1){newOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{quantity:newOrderItem.quantity-1});}else{newOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{quantity:newOrderItem.quantity});}}oldOrderItems.push(newOrderItemTemp);}else{// set other items as it was which are not selected to edit\noldOrderItems.push(newOrderItem);}});//calculate subTotalPrice\ntotalPrice(oldOrderItems);//set updated order list\nsetNewOrder(oldOrderItems);}}};//cancel order confirmation\nvar handleCancelConfirmation=function handleCancelConfirmation(){confirmAlert({customUI:function customUI(_ref2){var onClose=_ref2.onClose;return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body bg-primary text-white\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-white\"},_t(t(\"Are you sure?\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},_t(t(\"You want to cancel this order?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-warning text-dark\",onClick:function onClick(){handleCancel();onClose();}},_t(t(\"Yes!\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success ml-2 px-3\",onClick:onClose},_t(t(\"No\")))));}});};//cancel order\nvar handleCancel=function handleCancel(){setLoading(true);setNewOrder(null);setActiveItemInOrder(null);setSelectedVariation([]);setSelectedPropertyGroup([]);setSelectedProperties([]);setTheSubTotal(0);setDeptCommission(0);setTheVat(0);setTotalPaybale(0);setReturnMoneyUsd(0);setPaidMoney(0);setOrderDetails({branch:orderDetails.branch,customer:null,table:null,waiter:null,dept_tag:null,payment_type:null,payment_amount:null,total_guest:1,newCustomer:false,newCustomerInfo:{name:\"\",number:\"\"},token:null,serviceCharge:0,discount:0});setTimeout(function(){setLoading(false);},200);};//add properties\nvar handleAddProperties=function handleAddProperties(property){var propertyItem={item:property,quantity:1};if(activeItemInOrder!==null){if(newOrder){var oldOrderItems=[];//array to push order items\nvar newOrderItemTemp=null;//to edit selected item\nvar tempSelectedProperties=[];//to set selected properties array for order items\nvar tempSelectedPropertyGroup=[];//to set selected property group array for order items properties\nnewOrder.map(function(newOrderItem,index){var tempArray=[];//for selected properties\nvar tempArrayPropertyGroup=[];//for selected property groups\nif(index===activeItemInOrder){var tempPropertyArray=[];//for property items\nif(newOrderItem.properties){newOrderItem.properties.map(function(eachPropertyItem){tempPropertyArray.push(eachPropertyItem);//set updated property for selected variation\ntempArray.push(eachPropertyItem.item.id);//handle selected property group\ntempArrayPropertyGroup.push(parseInt(eachPropertyItem.item.property_group_id));});tempPropertyArray.push(propertyItem);//for selected properties\ntempArray.push(propertyItem.item.id);//handle selected property group\ntempArrayPropertyGroup.push(parseInt(propertyItem.item.property_group_id));}else{tempPropertyArray.push(propertyItem);//for selected properties\ntempArray.push(propertyItem.item.id);//handle selected property group\ntempArrayPropertyGroup.push(parseInt(propertyItem.item.property_group_id));}//changing properties of selected food item\nnewOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{properties:tempPropertyArray});//push updated item to orderlist\noldOrderItems.push(newOrderItemTemp);}else{// set other items as it was which are not selected to edit\nnewOrderItemTemp=newOrderItem;oldOrderItems.push(newOrderItemTemp);if(newOrderItem.properties){newOrderItem.properties.map(function(eachPropertyItem){//set updated properties for selected properties\ntempArray.push(eachPropertyItem.item.id);//set updated property groups for selected groups\ntempArrayPropertyGroup.push(parseInt(eachPropertyItem.item.property_group_id));});}}//push to the array to set selected properties\ntempSelectedProperties.push(tempArray);//push to the array to set selected property groups\ntempSelectedPropertyGroup.push(tempArrayPropertyGroup);});//set selected properties here\nsetSelectedProperties(tempSelectedProperties);//handle selected property groups\nvar newSelectedPropertyGroup=[];tempSelectedPropertyGroup.map(function(eachSelectedGroupArray){var unique=_toConsumableArray(new Set(eachSelectedGroupArray));newSelectedPropertyGroup.push(unique);});//set selected property groups here\nsetSelectedPropertyGroup(newSelectedPropertyGroup);//calculate subTotalPrice\ntotalPrice(oldOrderItems);//set updated order list\nsetNewOrder(oldOrderItems);}}};//remove properties\nvar handleRemoveProperties=function handleRemoveProperties(propertyItem){if(activeItemInOrder!==null){if(newOrder){var oldOrderItems=[];//array to push order items\nvar newOrderItemTemp=null;//to edit selected item\nvar newSelectedProperties=[];//for selected properties\nvar allPropertyGroups=[];//for selected property groups\nnewOrder.map(function(newOrderItem,index){if(index===activeItemInOrder){var tempPropertyArray=[];//for property items\nif(newOrderItem.properties){newOrderItem.properties.map(function(eachPropertyItem){if(eachPropertyItem.item.id!==propertyItem.id){tempPropertyArray.push(eachPropertyItem);}});//removing properties from selected properties array\nselectedProperties.map(function(selectedProperty,propertyIndex){if(propertyIndex!==activeItemInOrder){//pushing other order items properties in selected array\nnewSelectedProperties.push(selectedProperty);}else{var theProperties=selectedProperty.filter(function(filterThis){return filterThis!==propertyItem.id;});//pushing this order items properties in selected array or [] if not a single property item is selected\nnewSelectedProperties.push(theProperties);}});}//changing properties of selected food item\nnewOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{properties:tempPropertyArray});//set selected properties here\nsetSelectedProperties(newSelectedProperties);//push updated item to orderlist\noldOrderItems.push(newOrderItemTemp);//property group for selected property group array\nselectedPropertyGroup.map(function(groupItem,groupItemIndex){if(index===groupItemIndex){var tempGroupArray=[];// for selected group of each order item (index of array wise new array)\ngroupItem.map(function(filterThisItem){if(filterThisItem!==parseInt(propertyItem.property_group_id)){//push if removable property item's group !== groupItem\ntempGroupArray.push(filterThisItem);}});//push all groups of modified new properties array of this item\ntempPropertyArray.map(function(pushThis){tempGroupArray.push(parseInt(pushThis.item.property_group_id));});//remove duplicate groups\nvar unique=_toConsumableArray(new Set(tempGroupArray));allPropertyGroups.push(unique);}else{//keep other selected groups as it was\nallPropertyGroups.push(groupItem);}});}else{// set other items as it was which are not selected to edit\nnewOrderItemTemp=newOrderItem;oldOrderItems.push(newOrderItemTemp);}});//set new selected property groups\nsetSelectedPropertyGroup(allPropertyGroups);//calculate subTotalPrice\ntotalPrice(oldOrderItems);//set updated order list\nsetNewOrder(oldOrderItems);}}};//to check which property is selected\nvar checkCheckedProperties=function checkCheckedProperties(propertyItem){//if property.id of selected item exist in selected properties - return true\nif(selectedProperties[activeItemInOrder]!==undefined){if(selectedProperties[activeItemInOrder].includes(propertyItem.id)){return true;}else{return false;}}else{return false;}};//handle property quantity\nvar handlePropertyQty=function handlePropertyQty(propertyItem,action){if(activeItemInOrder!==null){if(newOrder){var newOrderItemTemp=null;//to edit selected item\nvar oldOrderItems=[];//array to push order items\nvar tempPropertyItemsArray=[];//for each property items\nnewOrder.map(function(newOrderItem,index){if(index===activeItemInOrder){//if has property items\nif(newOrderItem.properties){newOrderItem.properties.map(function(eachPropertyItem){//loop through the properties to change the specific one's quantity and keep the rest as it was\nif(eachPropertyItem.item.id!==propertyItem.id){//keep others as it was\ntempPropertyItemsArray.push(eachPropertyItem);}else{//coming here if the specific item's id === selected property item's id\nvar newPropertyItemForQtyUpdate=null;//update qty here\nif(action===\"+\"){//increase qty\nnewPropertyItemForQtyUpdate=_objectSpread(_objectSpread({},eachPropertyItem),{},{quantity:eachPropertyItem.quantity+1});tempPropertyItemsArray.push(newPropertyItemForQtyUpdate);}else{//if qty !==1 decrease\nif(eachPropertyItem.quantity!==1){newPropertyItemForQtyUpdate=_objectSpread(_objectSpread({},eachPropertyItem),{},{quantity:eachPropertyItem.quantity-1});tempPropertyItemsArray.push(newPropertyItemForQtyUpdate);}else{tempPropertyItemsArray.push(eachPropertyItem);}}}});//changing properties of selected food item\nnewOrderItemTemp=_objectSpread(_objectSpread({},newOrderItem),{},{properties:tempPropertyItemsArray});//push updated item to orderlist\noldOrderItems.push(newOrderItemTemp);}else{//push updated item to orderlist\noldOrderItems.push(newOrderItem);}}else{// set other items as it was which are not selected to edit\noldOrderItems.push(newOrderItem);}});//calculate subTotalPrice\ntotalPrice(oldOrderItems);//set updated order list\nsetNewOrder(oldOrderItems);}}};//to check selected property item's quantity\nvar checkCheckedPropertyQuantity=function checkCheckedPropertyQuantity(propertyItem){//if propertyItem.id of selected item exist in selectedProperties - return the quantity of that property item from the order list item\nif(selectedProperties[activeItemInOrder]!==undefined){if(selectedProperties[activeItemInOrder].includes(propertyItem.id)){//get order of activeItemInOrder index\nif(newOrder){if(newOrder[activeItemInOrder]!==undefined){var orderItem=newOrder[activeItemInOrder];var theItem=orderItem.properties.find(function(theItemTemp){return theItemTemp.item.id===propertyItem.id;});return theItem.quantity;}else{return 1;}}else{return 1;}}else{return 1;}}else{return 1;}};//show price of each item in order list\nvar showPriceOfEachOrderItem=function showPriceOfEachOrderItem(itemIndex){if(newOrder){var price=0;var orderItem=newOrder[itemIndex];//check price * quantity (variation price / item price)\nif(parseInt(orderItem.item.has_variation)===1){price=parseFloat(orderItem.variation.food_with_variation_price);}else{price=parseFloat(orderItem.item.price);}//calculate total price of properties\nif(orderItem.properties){if(orderItem.properties.length>0){orderItem.properties.map(function(getEachItemPrice){var totalPropertyPrice=parseFloat(getEachItemPrice.item.extra_price)*getEachItemPrice.quantity;price=price+totalPropertyPrice;});}}var formattedPrice=formatPrice(price*orderItem.quantity);return formattedPrice;}};//show price of each item in print\nvar showPriceOfEachOrderItemPrint=function showPriceOfEachOrderItemPrint(itemIndex){if(newOrder){var price=0;var orderItem=newOrder[itemIndex];//check price * quantity (variation price / item price)\nif(parseInt(orderItem.item.has_variation)===1){price=parseFloat(orderItem.variation.food_with_variation_price);}else{price=parseFloat(orderItem.item.price);}var formattedPrice=formatPrice(price*orderItem.quantity);return formattedPrice;}};//show total price\nvar totalPrice=function totalPrice(allOrderItems){var subTotal=0;allOrderItems.map(function(orderItem){var price=0;//check price * quantity (variation price / item price)\nif(parseInt(orderItem.item.has_variation)===1){price=parseFloat(orderItem.variation.food_with_variation_price);}else{price=parseFloat(orderItem.item.price);}//calculate total price of properties\nif(orderItem.properties){if(orderItem.properties.length>0){orderItem.properties.map(function(getEachItemPrice){var totalPropertyPrice=parseFloat(getEachItemPrice.item.extra_price)*getEachItemPrice.quantity;price=price+totalPropertyPrice;});}}subTotal=subTotal+price*orderItem.quantity;});setTheSubTotal(subTotal);var tempVat=0;if(newSettings){tempVat=subTotal*parseFloat(newSettings.vat)/100;setTheVat(tempVat);}var tempCommission=0;if(orderDetails&&orderDetails.dept_tag){tempCommission=subTotal*parseFloat(orderDetails.dept_tag.commission)/100;setDeptCommission(tempCommission);}var totalPayable=0;var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var usdServiceCharge;var usdDiscount;if(getSystemSettings(generalSettings,\"sDiscount\")===\"flat\"){usdServiceCharge=parseFloat(orderDetails.serviceCharge)/localCurrency.rate;usdDiscount=parseFloat(orderDetails.discount)/localCurrency.rate;}else{usdServiceCharge=subTotal*(parseFloat(orderDetails.serviceCharge)/100);usdDiscount=subTotal*(parseFloat(orderDetails.discount)/100);}totalPayable=subTotal+tempVat+usdServiceCharge-usdDiscount-tempCommission;setTotalPaybale(totalPayable);//calculate paid amount to set return amount\nhandleCalculatePaid(orderDetails.payment_amount,orderDetails.payment_type);};//search food here\nvar handleSearch=function handleSearch(e){setActiveItemInOrder(null);var searchInput=e.target.value.toLowerCase();var searchedList=foodForSearch.filter(function(item){var lowerCaseItemName=item.name.toLowerCase();var lowerCaseItemGroup=item.food_group.toLowerCase();return lowerCaseItemName.includes(searchInput)||lowerCaseItemGroup.includes(searchInput);});setFoodItem({foodGroup:null,items:searchedList.length>0?searchedList:null,selectedItem:null,variations:null,properties:null});};//set order detals additional info here\n//set branch\nvar handleSetBranch=function handleSetBranch(branch){setLoading(true);var tempCustomers=customerForSearch!==null&&customerForSearch.filter(function(eachCustomer){return parseInt(eachCustomer.branch_id)===branch.id;});var tempTables=tableForSearch!==null&&tableForSearch.filter(function(eachTable){return parseInt(eachTable.branch_id)===branch.id;});var tempWaiters=waiterForSearch!==null&&waiterForSearch.filter(function(eachWaiter){return parseInt(eachWaiter.branch_id)===branch.id;});setOrderDetailusers({theCustomers:tempCustomers,theTables:tempTables,theWaiters:tempWaiters});setNewOrder(null);setActiveItemInOrder(null);setSelectedVariation([]);setSelectedPropertyGroup([]);setSelectedProperties([]);setTheSubTotal(0);setTheVat(0);setTotalPaybale(0);setReturnMoneyUsd(0);setPaidMoney(0);setOrderDetails({branch:branch,customer:null,table:null,waiter:null,dept_tag:null,payment_type:null,payment_amount:null,total_guest:1,newCustomer:false,newCustomerInfo:{name:\"\",number:\"\"},token:null,serviceCharge:0,discount:0});// set work period according to branch for admin on branch change\nvar theWorkPeriod=null;theWorkPeriod=workPeriodForSearch&&workPeriodForSearch.filter(function(tempWorkPeriod){return branch.id===parseInt(tempWorkPeriod.branch_id);});theWorkPeriod=theWorkPeriod.find(function(endAtNullItem){return endAtNullItem.ended_at===null;});setNewSettings(_objectSpread(_objectSpread({},newSettings),{},{workPeriod:theWorkPeriod!==undefined?theWorkPeriod:null,vat:newSettings.vat}));setTimeout(function(){setLoading(false);},300);};//customer\nvar handleSetCustomer=function handleSetCustomer(customer){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{customer:customer}));};//new Customer\nvar handleNewCustomer=function handleNewCustomer(e){//if name is not there, set new customer === false\nif(e.target.name===\"name\"){if(e.target.value.length>0){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{newCustomer:true,newCustomerInfo:_objectSpread(_objectSpread({},orderDetails.newCustomerInfo),{},_defineProperty({},e.target.name,e.target.value))}));}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{newCustomer:false,newCustomerInfo:_objectSpread(_objectSpread({},orderDetails.newCustomerInfo),{},_defineProperty({},e.target.name,e.target.value))}));}}else{//set phn number here\nsetOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{newCustomerInfo:_objectSpread(_objectSpread({},orderDetails.newCustomerInfo),{},_defineProperty({},e.target.name,e.target.value))}));}};//  table\nvar handleSetTable=function handleSetTable(table){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{table:table}));};// waiter\nvar handleSetWaiter=function handleSetWaiter(waiter){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{waiter:waiter}));};// department tag\nvar handleSetDeptTag=function handleSetDeptTag(dept_tag){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{dept_tag:dept_tag}));var allOrderItems=newOrder;if(allOrderItems){var subTotal=0;allOrderItems.map(function(orderItem){var price=0;//check price * quantity (variation price / item price)\nif(parseInt(orderItem.item.has_variation)===1){price=parseFloat(orderItem.variation.food_with_variation_price);}else{price=parseFloat(orderItem.item.price);}//calculate total price of properties\nif(orderItem.properties){if(orderItem.properties.length>0){orderItem.properties.map(function(getEachItemPrice){var totalPropertyPrice=parseFloat(getEachItemPrice.item.extra_price)*getEachItemPrice.quantity;price=price+totalPropertyPrice;});}}subTotal=subTotal+price*orderItem.quantity;});setTheSubTotal(subTotal);var tempVat=0;if(newSettings){tempVat=subTotal*parseFloat(newSettings.vat)/100;setTheVat(tempVat);}var tempCommission=0;tempCommission=subTotal*parseFloat(dept_tag.commission)/100;setDeptCommission(tempCommission);var _totalPayable=0;var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var usdServiceCharge;var usdDiscount;if(getSystemSettings(generalSettings,\"sDiscount\")===\"flat\"){usdServiceCharge=parseFloat(orderDetails.serviceCharge)/localCurrency.rate;usdDiscount=parseFloat(orderDetails.discount)/localCurrency.rate;}else{usdServiceCharge=subTotal*(parseFloat(orderDetails.serviceCharge)/100);usdDiscount=subTotal*(parseFloat(orderDetails.discount)/100);}_totalPayable=subTotal+tempVat+usdServiceCharge-usdDiscount-tempCommission;setTotalPaybale(_totalPayable);//calculate paid amount to set return amount\nhandleCalculatePaid(orderDetails.payment_amount,orderDetails.payment_type);}};//payment type\nvar handleSetpaymentType=function handleSetpaymentType(payment_type){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{payment_type:payment_type}));//calculate paid amount to set return amount\nhandleCalculatePaid(orderDetails.payment_amount,payment_type);};//payment type pos 2\nvar handleSetpaymentTypeSingle=function handleSetpaymentTypeSingle(payment_type){var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var theUsdPaid=paidMoney/localCurrency.rate;if(theUsdPaid<totalPayable){setReturnMoneyUsd(0);toast.error(\"\".concat(_t(t(\"Please enter paid amount atleast equal to the total bill amount\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{payment_type:[payment_type]}));var theReturnMoney=theUsdPaid-totalPayable;setReturnMoneyUsd(theReturnMoney);}};//payment type amount\nvar handlePaymentTypeAmount=function handlePaymentTypeAmount(e){var tempPaymentAmount=_objectSpread(_objectSpread({},orderDetails.payment_amount),{},_defineProperty({},e.target.name,e.target.value));setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{payment_amount:tempPaymentAmount}));//calculate paid amount to set return amount\nhandleCalculatePaid(tempPaymentAmount,orderDetails.payment_type);};//guest\nvar handleTotalGuest=function handleTotalGuest(e){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{total_guest:e.target.value}));};//calculate paid amount\nvar handleCalculatePaid=function handleCalculatePaid(paymentAmount,paymentType){var paidAmount=0;if(paymentAmount!==null&&paymentType!==null){var thePaymentArray=[];if(paymentAmount){thePaymentArray=Object.entries(paymentAmount);}thePaymentArray.map(function(eachPaymentItem){var thePaymentType=paymentType.find(function(paymentTypeItem){return paymentTypeItem.id===parseInt(eachPaymentItem[0]);});if(eachPaymentItem[1]!==\"\"){if(thePaymentType&&thePaymentType.id===parseInt(eachPaymentItem[0])){paidAmount=paidAmount+parseFloat(eachPaymentItem[1]);}}});var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));paidAmount=paidAmount/localCurrency.rate;var theReturnMoney=paidAmount-totalPayable;setReturnMoneyUsd(theReturnMoney);}else{setReturnMoneyUsd(0);}setPaidMoney(paidAmount);};//send server req\nvar handleSubmitOrder=function handleSubmitOrder(e){e.preventDefault();if(newOrder&&newOrder.length>0){if(paidMoney!==0){toast.error(\"\".concat(_t(t(\"Settle order to add payments, or remove payment's amount\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{axiosRequest();}}else{toast.error(\"\".concat(_t(t(\"Please add items in order list\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}};//axios request for submit\nvar axiosRequest=function axiosRequest(){var url=BASE_URL+\"/settings/new-order\";var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var formData={branch:orderDetails.branch,customer:orderDetails.customer,table:orderDetails.table,waiter:orderDetails.waiter,dept_tag:orderDetails.dept_tag,payment_type:orderDetails.payment_type,payment_amount:orderDetails.payment_amount,newCustomer:orderDetails.newCustomer?1:0,newCustomerInfo:orderDetails.newCustomerInfo,token:orderDetails.token,total_guest:orderDetails.total_guest,orderItems:newOrder,serviceCharge:orderDetails.serviceCharge,discount:orderDetails.discount,subTotal:theSubTotal,totalPayable:totalPayable,paidMoney:paidMoney,theVat:theVat,dept_commission:deptCommission,localCurrency:localCurrency,workPeriod:newSettings.workPeriod};setLoading(true);axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){if(res.data!==\"ended\"){getFoodGroup();handlePrint();setCustomerForSearch(res.data[0][1]);setWorkPeriodListForSearch(res.data[1][1]);var tempCustomers=res.data[0][1]!==null&&res.data[0][1].filter(function(eachCustomer){return parseInt(eachCustomer.branch_id)===orderDetails.branch.id;});setOrderDetailusers(_objectSpread(_objectSpread({},orderDetailUsers),{},{theCustomers:tempCustomers}));//set work period\nvar theWorkPeriod=null;if(orderDetails.branch!==undefined&&orderDetails.branch!==null){theWorkPeriod=res.data[1][1]&&res.data[1][1].filter(function(tempWorkPeriod){return orderDetails.branch.id===parseInt(tempWorkPeriod.branch_id);});//filter it with ended_at === null;\ntheWorkPeriod=theWorkPeriod&&theWorkPeriod.find(function(endAtNullItem){return endAtNullItem.ended_at===null;});}//set work period here\nsetNewSettings(_objectSpread(_objectSpread({},newSettings),{},{vat:generalSettings&&getSystemSettings(generalSettings,\"type_vat\"),workPeriod:theWorkPeriod!==undefined?theWorkPeriod:null}));setLoading(false);}else{setLoading(false);toast.error(\"\".concat(_t(t(\"Please restart the work period\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}).catch(function(){setLoading(false);toast.error(\"\".concat(_t(t(\"Please try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//settle button\nvar handleSettleOrderButton=function handleSettleOrderButton(e){if(newOrder&&newOrder.length>0){if(orderDetails&&orderDetails.dept_tag!==null){setShowSettle(true);}else{toast.error(\"\".concat(_t(t(\"Please select a department tag\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}else{toast.error(\"\".concat(_t(t(\"Please add items in order first\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}};//handle settle order\nvar handleSettleOrder=function handleSettleOrder(e){e.preventDefault();if(newOrder&&newOrder.length>0){if(paidMoney<totalPayable){toast.error(\"\".concat(_t(t(\"Please enter paid amount atleast equal to the total bill amount\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{axiosRequestForSettle();}}else{toast.error(\"\".concat(_t(t(\"Please add items in order list\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}};//axios request for settlement\nvar axiosRequestForSettle=function axiosRequestForSettle(){var url=BASE_URL+\"/settings/settle-order\";var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var formData={branch:orderDetails.branch,customer:orderDetails.customer,table:orderDetails.table,waiter:orderDetails.waiter,dept_tag:orderDetails.dept_tag,payment_type:orderDetails.payment_type,payment_amount:orderDetails.payment_amount,newCustomer:orderDetails.newCustomer?1:0,newCustomerInfo:orderDetails.newCustomerInfo,token:orderDetails.token,total_guest:orderDetails.total_guest,orderItems:newOrder,serviceCharge:orderDetails.serviceCharge,discount:orderDetails.discount,subTotal:theSubTotal,totalPayable:totalPayable,paidMoney:paidMoney,theVat:theVat,dept_commission:deptCommission,localCurrency:localCurrency,workPeriod:newSettings.workPeriod};setLoading(true);axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){if(res.data!==\"ended\"){if(res.data!==\"paymentIssue\"){getFoodGroup();handlePrint();setCustomerForSearch(res.data[0][1]);setWorkPeriodListForSearch(res.data[1][1]);var tempCustomers=res.data[0][1]!==null&&res.data[0][1].filter(function(eachCustomer){return parseInt(eachCustomer.branch_id)===orderDetails.branch.id;});setOrderDetailusers(_objectSpread(_objectSpread({},orderDetailUsers),{},{theCustomers:tempCustomers}));//set work period\nvar theWorkPeriod=null;if(orderDetails.branch!==undefined&&orderDetails.branch!==null){theWorkPeriod=res.data[1][1]&&res.data[1][1].filter(function(tempWorkPeriod){return orderDetails.branch.id===parseInt(tempWorkPeriod.branch_id);});//filter it with ended_at === null;\ntheWorkPeriod=theWorkPeriod&&theWorkPeriod.find(function(endAtNullItem){return endAtNullItem.ended_at===null;});}//set work period here\nsetNewSettings(_objectSpread(_objectSpread({},newSettings),{},{vat:generalSettings&&getSystemSettings(generalSettings,\"type_vat\"),workPeriod:theWorkPeriod!==undefined?theWorkPeriod:null}));}else{setLoading(false);toast.error(\"\".concat(_t(t(\"Please enter paid amount atleast equal to the total bill amount\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}else{setLoading(false);toast.error(\"\".concat(_t(t(\"Please restart the work period\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}}).catch(function(){setLoading(false);toast.error(\"\".concat(_t(t(\"Please try again\"))),{position:\"bottom-center\",closeButton:false,autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//print bills\nvar componentRef=useRef();var component2Ref=useRef();// only print bill\n//for pos manager\nvar handleOnlyPrint=useReactToPrint({content:function content(){return componentRef.current;},onAfterPrint:function onAfterPrint(){if(getSystemSettings(generalSettings,\"print_kitchen_bill\")===\"1\"){handleOnlyPrint2();}}});//for kithcen\nvar handleOnlyPrint2=useReactToPrint({content:function content(){return component2Ref.current;}});//after order submit or settle\n//for pos manager\nvar handlePrint=useReactToPrint({content:function content(){return componentRef.current;},onAfterPrint:function onAfterPrint(){if(getSystemSettings(generalSettings,\"print_kitchen_bill\")===\"1\"){handlePrint2();}else{handleOrderSubmitSuccessful();}}});//for kithcen\nvar handlePrint2=useReactToPrint({content:function content(){return component2Ref.current;},onAfterPrint:function onAfterPrint(){handleOrderSubmitSuccessful();}});//call after successful order submit and settle\nvar handleOrderSubmitSuccessful=function handleOrderSubmitSuccessful(){setNewOrder(null);setActiveItemInOrder(null);setSelectedVariation([]);setSelectedPropertyGroup([]);setSelectedProperties([]);setTheSubTotal(0);setTheVat(0);setTotalPaybale(0);setReturnMoneyUsd(0);setPaidMoney(0);setOrderDetails({branch:orderDetails.branch,customer:null,table:null,waiter:null,dept_tag:null,payment_type:null,payment_amount:null,total_guest:1,newCustomer:false,newCustomerInfo:{name:\"\",number:\"\"},token:null,serviceCharge:0,discount:0});toast.success(\"\".concat(_t(t(\"Order has been taken\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});setShowSettle(false);setLoading(false);//sound\nif(getSystemSettings(generalSettings,\"play_sound\")===\"1\"){var beep=document.getElementById(\"myAudio\");beep.play();}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"POS\")))),/*#__PURE__*/React.createElement(\"audio\",{id:\"myAudio\"},/*#__PURE__*/React.createElement(\"source\",{src:\"/assets/beep/beep.mp3\",type:\"audio/mpeg\"})),/*#__PURE__*/React.createElement(\"audio\",{id:\"myAudioOrder\"},/*#__PURE__*/React.createElement(\"source\",{src:\"/assets/beep/order.mp3\",type:\"audio/mpeg\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{ref:componentRef},newOrder&&/*#__PURE__*/React.createElement(\"div\",{className:\"fk-print\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block fk-print-text font-weight-bold text-uppercase text-center sm-text\"},getSystemSettings(generalSettings,\"siteName\"),\",\",orderDetails&&orderDetails.branch!==null&&orderDetails.branch.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 sm-text fk-print-text text-center text-capitalize\"},orderDetails&&orderDetails.branch!==null&&orderDetails.branch.address),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 sm-text fk-print-text text-center text-capitalize\"},_t(t(\"call\")),\":\",\" \",orderDetails&&orderDetails.branch!==null&&orderDetails.branch.phn_no?orderDetails.branch.phn_no:\"\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 sm-text fk-print-text text-center text-capitalize\"},getSystemSettings(generalSettings,\"type_print_heading\")),/*#__PURE__*/React.createElement(\"span\",{className:\"d-block fk-print-text text-uppercase text-center lg-text myBorderTopCustomer\"},_t(t(\"Token No\")),\"-\",orderDetails&&orderDetails.token.id),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 fk-print-text text-capitalize lg-text\"},orderDetails&&orderDetails.dept_tag&&orderDetails.dept_tag.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 mt-0 sm-text fk-print-text text-capitalize text-center\"},_t(t(\"Customer Copy\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize\"},_t(t(\"date\")),\": \",/*#__PURE__*/React.createElement(Moment,{format:\"LL\"},new Date()),\", \",orderDetails&&/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},orderDetails.token.time)),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize\"},_t(t(\"Total guests\")),\":\",\" \",orderDetails&&orderDetails.total_guest),orderDetails&&orderDetails.waiter!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize\"},_t(t(\"waiter name\")),\": \",orderDetails.waiter.name):\"\",/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 sm-text fk-print-text text-capitalize lg-text\"},\"PAID\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless akash-table-for-print-padding\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"fk-print-text xsm-text text-capitalize\"},_t(t(\"qty\")),\" \",_t(t(\"item\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"fk-print-text xsm-text text-capitalize text-right\"},_t(t(\"T\")),\".\",_t(t(\"price\"))))),/*#__PURE__*/React.createElement(\"tbody\",null,newOrder.map(function(printItem,printItemIndex){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block xsm-text\"},\"-\",printItem.quantity,\" \",printItem.item.name,parseInt(printItem.item.has_variation)===1&&printItem.variation&&\"(\"+printItem.variation.variation_name+\")\")),printItem.properties&&printItem.properties.length>0&&selectedPropertyGroup[printItemIndex]!==undefined&&selectedPropertyGroup[printItemIndex].map(function(thisIsGroup){var theGroup=propertyGroupForSearch&&propertyGroupForSearch.find(function(theItem){return theItem.id===thisIsGroup;});return/*#__PURE__*/React.createElement(\"div\",{className:\"d-block\"},printItem.properties.map(function(propertyName,propertyIndex){if(parseInt(propertyName.item.property_group_id)===theGroup.id){return/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block mr-1\"},\"-\",printItem.quantity,propertyName.quantity>1?\"*\"+propertyName.quantity:\"\",\" \",propertyName.item.name,/*#__PURE__*/React.createElement(\"br\",null));}else{return true;}}));})),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-block xsm-text\"},showPriceOfEachOrderItemPrint(printItemIndex)),printItem.properties&&printItem.properties.length>0&&selectedPropertyGroup[printItemIndex]!==undefined&&selectedPropertyGroup[printItemIndex].map(function(thisIsGroup,thisIsGroupPaddingTopIndex){var theGroup=propertyGroupForSearch&&propertyGroupForSearch.find(function(theItem){return theItem.id===thisIsGroup;});return/*#__PURE__*/React.createElement(\"div\",_defineProperty({className:\"d-block\"},\"className\",\"text-capitalize xsm-text \".concat(thisIsGroupPaddingTopIndex===0?[parseInt(printItem.item.has_variation)===1?[printItem.properties&&printItem.properties.length>0?\"addonPadding35\":\"addonPadding24\"]:[printItem.properties&&printItem.properties.length>0?\"addonPadding24\":\"\"]]:\"\")),printItem.properties.map(function(propertyName,propertyIndex){if(parseInt(propertyName.item.property_group_id)===theGroup.id){return/*#__PURE__*/React.createElement(\"span\",null,formatPrice(printItem.quantity*propertyName.quantity*propertyName.item.extra_price),/*#__PURE__*/React.createElement(\"br\",null));}else{return true;}}));})));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"myBorder\"}),/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"total\")))),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(theSubTotal))))),theVat>0&&/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,getSystemSettings(generalSettings,\"vat_system\")===\"igst\"?/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block xsm-text\"},\"VAT(\",newSettings!==null&&newSettings.vat,\"%)\")),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(theVat))):getSystemSettings(generalSettings,\"vat_system\")===\"cgst\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block xsm-text\"},\"CGST(\",getSystemSettings(generalSettings,\"cgst\"),\"%)\")),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(theSubTotal*(parseFloat(getSystemSettings(generalSettings,\"cgst\"))/100)))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block xsm-text\"},\"SGST(\",getSystemSettings(generalSettings,\"sgst\"),\"%)\")),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(theSubTotal*(parseFloat(getSystemSettings(generalSettings,\"sgst\"))/100))))):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block xsm-text\"},\"TAX(\",newSettings!==null&&newSettings.tax,\"%)\")),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(theVat))))),getSystemSettings(generalSettings,\"sDiscount\")===\"flat\"&&/*#__PURE__*/React.createElement(React.Fragment,null,orderDetails.serviceCharge>0&&/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"S.Charge\")))),orderDetails&&/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(orderDetails.serviceCharge))))),orderDetails.discount>0&&/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"discount\")))),orderDetails&&/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(orderDetails.discount)))))),getSystemSettings(generalSettings,\"sDiscount\")===\"percentage\"&&/*#__PURE__*/React.createElement(React.Fragment,null,orderDetails.serviceCharge>0&&/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"S.Charge\")),orderDetails&&\"(\"+orderDetails.serviceCharge+\"%)\")),orderDetails&&/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(theSubTotal*(orderDetails.serviceCharge/100)))))),orderDetails.discount>0&&/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"discount\")),orderDetails&&\"(\"+orderDetails.discount+\"%)\")),orderDetails&&/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(theSubTotal*(orderDetails.discount/100))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"myBorder\"}),/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"grand total\")))),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(totalPayable))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text xsm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block\"},_t(t(\"Return Amount\")))),/*#__PURE__*/React.createElement(\"td\",{className:\"fk-print-text xsm-text text-capitalize text-right\"},formatPrice(returnMoneyUsd))))),/*#__PURE__*/React.createElement(\"div\",{className:\"myBorder\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-center text-capitalize\"},getSystemSettings(generalSettings,\"type_print_footer\")),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize text-center\"},_t(t(\"bill prepared by\")),\":\",\" \",authUserInfo&&authUserInfo.details&&authUserInfo.details.name))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-none\"},/*#__PURE__*/React.createElement(\"div\",{ref:component2Ref},newOrder&&/*#__PURE__*/React.createElement(\"div\",{className:\"fk-print\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block fk-print-text fk-print-text--bold text-uppercase text-center lg-text\"},_t(t(\"Token No\")),\"-\",orderDetails&&orderDetails.token.id),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 fk-print-text text-capitalize lg-text fk-print-text--bold\"},orderDetails&&orderDetails.dept_tag&&orderDetails.dept_tag.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 mt-0 fk-print-text text-capitalize text-center\"},_t(t(\"kitchen orders\"))),/*#__PURE__*/React.createElement(\"table\",{className:\"table mb-0 table-borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,orderFoodGroups&&orderFoodGroups.map(function(theGrp,grpIndex){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(grpIndex===0?\"myBorder\":\"myBorderBottom\",\" lg-text fk-print-text--bold fk-print-text\")},theGrp.name))),newOrder.map(function(printItem,printItemIndex){if(theGrp.id===parseInt(printItem.item.food_group_id)){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",{className:\"myBorderBottom\"},/*#__PURE__*/React.createElement(\"th\",{className:\"fk-print-text text-capitalize\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block lg-text fk-print-text--bold fk-print-text\"},printItem.item.name),parseInt(printItem.item.has_variation)===1&&printItem.variation&&/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block lg-text fk-print-text--bold fk-print-text\"},\"(\",printItem.variation.variation_name,\")\"),\":-\",printItem.quantity),printItem.properties&&printItem.properties.length>0&&selectedPropertyGroup[printItemIndex]!==undefined&&selectedPropertyGroup[printItemIndex].map(function(thisIsGroup){var theGroup=propertyGroupForSearch&&propertyGroupForSearch.find(function(theItem){return theItem.id===thisIsGroup;});return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap\"},printItem.properties.map(function(propertyName,propertyIndex){if(parseInt(propertyName.item.property_group_id)===theGroup.id){return/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize d-inline-block mr-1 fk-print-text lg-text fk-print-text--bold\"},propertyName.item.name,\" \",/*#__PURE__*/React.createElement(\"span\",null,\" \",propertyName.quantity>1&&\"(\"+propertyName.quantity+\")\"),printItem.properties.length-1!==propertyIndex&&\",\");}else{return true;}}));}))));}}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize lg-text fk-print-text--bold\"},_t(t(\"date\")),\":\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LL\"},new Date())),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text fk-print-text text-capitalize lg-text fk-print-text--bold\"},_t(t(\"Time\")),\":\",orderDetails&&/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},orderDetails.token.time))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"menuAddons\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-fullscreen\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header align-items-start\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-capitalize fk-sm-card__title\"},foodItem.selectedItem!==null&&foodItem.selectedItem.name)),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"text-capitalize fk-sm-card__title t-mb-5\"},_t(t(\"Variations\")))),foodItem.variations&&/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xxsm-text fk-badge fk-badge--secondary\"},_t(t(\"Required\")))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list addons-list\"},foodItem.variations?/*#__PURE__*/React.createElement(React.Fragment,null,foodItem.variations.map(function(variationItem){return/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox flex-grow-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",name:\"variation\",onChange:function onChange(){handleOrderItemVariation(variationItem);},checked:checkChecked(variationItem)}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading t-ml-8\"},variationItem.variation_name))),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-text-heading text-uppercase sm-text flex-grow-1\"},currencySymbolLeft(),formatPrice(variationItem.food_with_variation_price),currencySymbolRight()))));})):/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center text-primary text-uppercase\"},_t(t(\"No Variations\")))))),/*#__PURE__*/React.createElement(\"div\",{className:foodItem.properties?\"\":\"d-none\"},foodItem.properties&&/*#__PURE__*/React.createElement(React.Fragment,null,foodItem.properties.length>0?foodItem.properties.map(function(propertyItem){var selectedGroup=null;//property group\nif(propertyItem.length>0){selectedGroup=propertyGroupForSearch&&propertyGroupForSearch.find(function(singlePropertyGroup){return singlePropertyGroup.id===parseInt(propertyItem[0].property_group_id);});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__container t-mt-30\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"text-capitalize fk-sm-card__title t-mb-5\"},selectedGroup&&selectedGroup.name)),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xxsm-text fk-badge fk-badge--secondary\"},_t(t(\"Optional\")))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list addons-list\"},propertyItem.map(function(eachItem){return/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox flex-grow-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\",onChange:function onChange(){newOrder&&newOrder.map(function(newOrderItem,index){if(index===activeItemInOrder){if(newOrderItem.properties){var theItem=newOrderItem.properties.find(function(eachPropertyItem){return eachPropertyItem.item.id===eachItem.id;});if(theItem===undefined){handleAddProperties(eachItem);}else{handleRemoveProperties(eachItem);}}else{handleAddProperties(eachItem);}}});},checked:checkCheckedProperties(eachItem)}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading t-ml-8\"},eachItem.name))),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-qty flex-grow-1 justify-content-end\"},parseInt(eachItem.allow_multi_quantity)===1&&/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon fk-qty__deduct\",onClick:function onClick(){handlePropertyQty(eachItem,\"-\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-minus\"})),parseInt(eachItem.allow_multi_quantity)===1?/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:checkCheckedPropertyQuantity(eachItem),className:\"fk-qty__input t-bg-clear\",readOnly:true}):\"-\",parseInt(eachItem.allow_multi_quantity)===1&&/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon fk-qty__add\",onClick:function onClick(){handlePropertyQty(eachItem,\"+\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-plus\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-text-heading text-uppercase sm-text flex-grow-1\"},currencySymbolLeft(),formatPrice(eachItem.extra_price),currencySymbolRight()))));})),/*#__PURE__*/React.createElement(\"hr\",null));}):/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center text-primary text-uppercase\"},_t(t(\"No properties\"))))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"showCart\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-fullscreen\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header align-items-center\"},/*#__PURE__*/React.createElement(\"h3\",null,_t(t(\"Order details\"))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sm-text font-weight-bold text-uppercase font-italic\"},_t(t(\"Order token\")),\":\",\" \",newOrder?/*#__PURE__*/React.createElement(React.Fragment,null,\"#\",orderDetails.token.id,\" -\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},orderDetails.token.time)):\"\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__container t-mt-30\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"text-capitalize fk-sm-card__title t-mb-5\"},_t(t(\"order items\"))))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list addons-list\"},newOrder&&newOrder.length>0?newOrder.map(function(orderListItem,orderListItemIndex){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item px-1 \".concat(orderListItemIndex===activeItemInOrder&&\"active\")},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between\",onClick:function onClick(e){e.preventDefault();//orderListItem's group wise all items\nvar tempItems=foodForSearch&&foodForSearch.filter(function(tempItem){return tempItem.food_group_id===orderListItem.item.food_group_id;});//orderListItem's group\nvar foodGroup=foodGroupForSearch&&foodGroupForSearch.find(function(groupItem){return groupItem.id===parseInt(orderListItem.item.food_group_id);});// selected pos item\nvar selectedItemTemp=tempItems&&tempItems.find(function(tempSelectedItem){return tempSelectedItem.id===orderListItem.item.id;});// Set variations, properties, selected item\nsetFoodItem(_objectSpread(_objectSpread({},foodItem),{},{foodGroup:foodGroup,items:tempItems,selectedItem:selectedItemTemp,variations:selectedItemTemp&&parseInt(selectedItemTemp.has_variation)===1?selectedItemTemp.variations:null,properties:selectedItemTemp&&parseInt(selectedItemTemp.has_property)===1?selectedItemTemp.properties:null}));//set active order list index for background color of selected\nsetActiveItemInOrder(orderListItemIndex);}},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-text-heading sm-text text-capitalize d-block \".concat(orderListItemIndex===activeItemInOrder&&\"text-white\")},orderListItem.item.name),parseInt(orderListItem.item.has_variation)===1&&orderListItem.variation&&/*#__PURE__*/React.createElement(\"span\",{className:\"xxsm-text text-capitalize d-block \".concat(orderListItemIndex===activeItemInOrder&&\"text-white\")},_t(t(\"Variation\")),\":\",\" \",orderListItem.variation.variation_name),orderListItem.properties&&orderListItem.properties.length>0&&selectedPropertyGroup[orderListItemIndex]!==undefined&&selectedPropertyGroup[orderListItemIndex].map(function(thisIsGroup){var theGroup=propertyGroupForSearch&&propertyGroupForSearch.find(function(theItem){return theItem.id===thisIsGroup;});return/*#__PURE__*/React.createElement(\"div\",{className:\"d-block\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xxsm-text d-inline-block mr-1\"},theGroup&&theGroup.name,\" :\"),orderListItem.properties.map(function(propertyName,propertyIndex){if(parseInt(propertyName.item.property_group_id)===theGroup.id){return/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xxsm-text d-inline-block mr-1\"},propertyName.item.name,\" \",/*#__PURE__*/React.createElement(\"span\",null,\" \",propertyName.quantity>1&&\"(\"+propertyName.quantity+\")\"),orderListItem.properties.length-1!==propertyIndex&&\",\");}else{return true;}}));})),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-qty flex-grow-1 justify-content-end\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon\",onClick:function onClick(){handleOrderItemQty(\"-\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-minus\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:orderListItem.quantity,className:\"fk-qty__input t-bg-clear \".concat(orderListItemIndex===activeItemInOrder&&\"text-white\"),readOnly:true}),/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon\",onClick:function onClick(){handleOrderItemQty(\"+\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-plus\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-text-heading text-uppercase sm-text flex-grow-1 \".concat(orderListItemIndex===activeItemInOrder&&\"text-white\")},parseInt(orderListItem.item.has_variation)===1?/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),showPriceOfEachOrderItem(orderListItemIndex),currencySymbolRight()):/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),showPriceOfEachOrderItem(orderListItemIndex),currencySymbolRight()))))),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize  t-pt-5 t-pb-5 t-pl-5 t-pr-5 sm-text font-weight-bold make-this-relative-mobile\"},/*#__PURE__*/React.createElement(\"span\",{className:\"badge rounded-pill bg-secondary text-capitalize\",onClick:function onClick(){handleRemoveItemFromOrderList(orderListItemIndex);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-times\"}))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-primary text-center font-weight-bold pt-2 xsm-text text-uppercase\"},_t(t(\"Select food item to add to the list\")))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text\"},\" \",_t(t(\"sub total\")),\" \")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},newOrder?/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(theSubTotal),currencySymbolRight()):/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(0),currencySymbolRight()))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sm-text\"},getSystemSettings(generalSettings,\"vat_system\")===\"igst\"?\"vat(\".concat(newSettings!==null&&newSettings.vat,\")\"):getSystemSettings(generalSettings,\"vat_system\")===\"cgst\"?\"cgst+sgst\"+\"(\"+getSystemSettings(generalSettings,\"cgst\")+\"+\"+getSystemSettings(generalSettings,\"sgst\")+\")\":\"tax(\".concat(newSettings!==null&&newSettings.tax,\")\"),\"%:\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},currencySymbolLeft(),formatPrice(theVat),currencySymbolRight())))),getSystemSettings(generalSettings,\"sDiscount\")===\"flat\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text\"},\" \",_t(t(\"service\")),\" \")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"text-capitalize xsm-text d-inline-block font-weight-bold form-control rounded-0 text-right\",onChange:function onChange(e){if(e.target.value!==\"\"){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{serviceCharge:parseFloat(e.target.value)}));var _totalPayable2=0;var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var usdServiceCharge=parseFloat(e.target.value)/localCurrency.rate;var usdDiscount=parseFloat(orderDetails.discount)/localCurrency.rate;_totalPayable2=theSubTotal+theVat+usdServiceCharge-usdDiscount;setTotalPaybale(_totalPayable2);setReturnMoneyUsd(_totalPayable2-paidMoney);}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{serviceCharge:0}));var _totalPayable3=0;var _localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var _usdServiceCharge=parseFloat(0)/_localCurrency.rate;var _usdDiscount=parseFloat(orderDetails.discount)/_localCurrency.rate;_totalPayable3=theSubTotal+theVat+_usdServiceCharge-_usdDiscount;setTotalPaybale(_totalPayable3);setReturnMoneyUsd(_totalPayable3-paidMoney);}},value:orderDetails.serviceCharge!==0&&orderDetails.serviceCharge}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text\"},\" \",_t(t(\"discount\")),\" \")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"text-capitalize xsm-text d-inline-block font-weight-bold form-control rounded-0 text-right\",onChange:function onChange(e){if(e.target.value!==\"\"){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{discount:parseFloat(e.target.value)}));var _totalPayable4=0;var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var usdServiceCharge=parseFloat(orderDetails.serviceCharge)/localCurrency.rate;var usdDiscount=parseFloat(e.target.value)/localCurrency.rate;_totalPayable4=theSubTotal+theVat+usdServiceCharge-usdDiscount;setTotalPaybale(_totalPayable4);setReturnMoneyUsd(_totalPayable4-paidMoney);}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{discount:0}));var _totalPayable5=0;var _localCurrency2=JSON.parse(localStorage.getItem(\"currency\"));var _usdServiceCharge2=parseFloat(orderDetails.serviceCharge)/_localCurrency2.rate;var _usdDiscount2=parseFloat(0)/_localCurrency2.rate;_totalPayable5=theSubTotal+theVat+_usdServiceCharge2-_usdDiscount2;setTotalPaybale(_totalPayable5);setReturnMoneyUsd(_totalPayable5-paidMoney);}},value:orderDetails.discount!==0&&orderDetails.discount})))))),getSystemSettings(generalSettings,\"sDiscount\")===\"percentage\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text\"},\" \",_t(t(\"service\")),\" %\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"text-capitalize xsm-text d-inline-block font-weight-bold form-control rounded-0 text-right\",onChange:function onChange(e){if(e.target.value!==\"\"){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{serviceCharge:parseFloat(e.target.value)}));var _totalPayable6=0;// let localCurrency = JSON.parse(\n//   localStorage.getItem(\n//     \"currency\"\n//   )\n// );\n// let usdServiceCharge =\n//   parseFloat(e.target.value) /\n//   localCurrency.rate;\n// console.log(\"coming\");\nvar usdServiceCharge=theSubTotal*(parseFloat(e.target.value)/100);// let usdDiscount =\n//   parseFloat(\n//     orderDetails.discount\n//   ) / localCurrency.rate;\nvar usdDiscount=theSubTotal*(parseFloat(orderDetails.discount)/100);_totalPayable6=theSubTotal+theVat+usdServiceCharge-usdDiscount;setTotalPaybale(_totalPayable6);}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{serviceCharge:0}));var _totalPayable7=0;// let localCurrency = JSON.parse(\n//   localStorage.getItem(\n//     \"currency\"\n//   )\n// );\n// let usdServiceCharge =\n//   parseFloat(0) /\n//   localCurrency.rate;\nvar _usdServiceCharge3=0;// let usdDiscount =\n//   parseFloat(\n//     orderDetails.discount\n//   ) / localCurrency.rate;\nvar _usdDiscount3=theSubTotal*(parseFloat(orderDetails.discount)/100);_totalPayable7=theSubTotal+theVat+_usdServiceCharge3-_usdDiscount3;setTotalPaybale(_totalPayable7);}},value:orderDetails.serviceCharge!==0&&orderDetails.serviceCharge}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text\"},\" \",_t(t(\"discount\")),\" %\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"text-capitalize xsm-text d-inline-block font-weight-bold form-control rounded-0 text-right\",onChange:function onChange(e){if(e.target.value!==\"\"){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{discount:parseFloat(e.target.value)}));var _totalPayable8=0;// let localCurrency = JSON.parse(\n//   localStorage.getItem(\n//     \"currency\"\n//   )\n// );\n// let usdServiceCharge =\n//   parseFloat(\n//     orderDetails.serviceCharge\n//   ) / localCurrency.rate;\nvar usdServiceCharge=theSubTotal*(parseFloat(orderDetails.serviceCharge)/100);// let usdDiscount =\n//   parseFloat(e.target.value) /\n//   localCurrency.rate;\nvar usdDiscount=theSubTotal*(parseFloat(e.target.value)/100);_totalPayable8=theSubTotal+theVat+usdServiceCharge-usdDiscount;setTotalPaybale(_totalPayable8);}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{discount:0}));var _totalPayable9=0;// let localCurrency = JSON.parse(\n//   localStorage.getItem(\n//     \"currency\"\n//   )\n// );\nvar _usdServiceCharge4=theSubTotal*(parseFloat(orderDetails.serviceCharge)/100);var _usdDiscount4=0;_totalPayable9=theSubTotal+theVat+_usdServiceCharge4-_usdDiscount4;setTotalPaybale(_totalPayable9);}},value:orderDetails.discount!==0&&orderDetails.discount}))))))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},_t(t(\"total bill\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},currencySymbolLeft(),formatPrice(totalPayable),currencySymbolRight()))))),/*#__PURE__*/React.createElement(\"hr\",null),returnMoneyUsd>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold text-primary\"},_t(t(\"Return\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold text-primary\"},currencySymbolLeft(),formatPrice(Math.abs(returnMoneyUsd)),currencySymbolRight())))),/*#__PURE__*/React.createElement(\"hr\",null))),/*#__PURE__*/React.createElement(\"div\",{className:\"row py-2 mx-1\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary xsm-text text-uppercase col-3\",onClick:handleCancel},_t(t(\"Cancel\"))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary xsm-text text-uppercase ml-auto mr-1 col-4\",onClick:!loading&&handleSettleOrder},!loading?_t(t(\"settle\")):_t(t(\"Please wait\"))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success xsm-text text-uppercase col-4\",onClick:!loading&&handleSubmitOrder},!loading?_t(t(\"submit\")):_t(t(\"Please wait\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"extraInfo\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog modal-fullscreen\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-capitalize fk-sm-card__title\"},_t(t(\"additional information\")))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn-close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list addons-list\"},authUserInfo.details&&authUserInfo.details.user_type!==\"staff\"&&/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mt-1 mx-1\"},/*#__PURE__*/React.createElement(Select,{options:branchForSearch&&branchForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetBranch,maxMenuHeight:\"200px\",placeholder:_t(t(\"Branch\"))+\"..\"})),!loading&&/*#__PURE__*/React.createElement(React.Fragment,null,orderDetails.branch!==null&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1 \".concat(authUserInfo.details&&authUserInfo.details.user_type===\"staff\"&&\"mt-1\")},/*#__PURE__*/React.createElement(Select,{options:orderDetailUsers.theCustomers!==null&&orderDetailUsers.theCustomers,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name+\" (\"+option.phn_no+\")\";},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetCustomer,maxMenuHeight:\"200px\",placeholder:_t(t(\"Customer\"))+\"..\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1 border border-2 rounded-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn-group w-100\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"fk-right-nav__guest-btn btn w-100 t-bg-white dropdown-toggle new-customer-pos xsm-text pl-2\",\"data-toggle\":\"dropdown\",\"aria-expanded\":\"false\"},\"+ \",_t(t(\"Customer\")),\"?\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu w-100 border-0 pt-4 change-background\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",className:\"form-control font-10px rounded-lg\",placeholder:\"Name\",autoComplete:\"off\",value:orderDetails.newCustomerInfo.name,onChange:handleNewCustomer})),/*#__PURE__*/React.createElement(\"li\",{className:\"pb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"number\",className:\"form-control font-10px mt-2 rounded-lg\",autoComplete:\"off\",placeholder:\"Number\",value:orderDetails.newCustomerInfo.number,onChange:handleNewCustomer})),/*#__PURE__*/React.createElement(\"li\",{className:\"pb-1 text-right\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn t-bg-white text-dark xsm-text text-uppercase btn-sm py-0 px-2 mr-1\",onClick:function onClick(){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{newCustomer:false,newCustomerInfo:{name:\"\",number:\"\"}}));}},_t(t(\"Cancel\"))))))),/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1\"},/*#__PURE__*/React.createElement(Select,{options:deptTagForSearch&&deptTagForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetDeptTag,maxMenuHeight:\"200px\",placeholder:_t(t(\"Dept tag\"))+\"..\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1 payment-type-parent \".concat(orderDetails.payment_type!==null&&\"mb-1\")},/*#__PURE__*/React.createElement(Select,{options:paymentTypeForSearch&&paymentTypeForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetpaymentType,maxMenuHeight:\"200px\",isMulti:true,backspaceRemovesValue:false,clearIndicator:null,placeholder:_t(t(\"Payments\"))+\"..\"})),orderDetails.payment_type!==null&&/*#__PURE__*/React.createElement(\"div\",{className:\"border mt-0 mb-2 change-background mx-1 rounded-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"xsm-text text-center text-white pt-1\"},_t(t(\"Amount\"))),orderDetails.payment_type.map(function(eachPaymentType,paymentTypeIndex){return/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1 mb-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",min:\"0\",step:\"0.01\",name:eachPaymentType.id,autoComplete:\"off\",className:\"form-control xsm-text pl-2\",onChange:handlePaymentTypeAmount,placeholder:eachPaymentType.name,value:orderDetails.payment_amount&&orderDetails.payment_amount[eachPaymentType.id]}));})),getSystemSettings(generalSettings,\"table_waiter\")===\"1\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1\"},/*#__PURE__*/React.createElement(Select,{options:orderDetailUsers.theTables!==null&&orderDetailUsers.theTables,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetTable,maxMenuHeight:\"200px\",placeholder:_t(t(\"Table\"))+\"..\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1\"},/*#__PURE__*/React.createElement(Select,{options:orderDetailUsers.theWaiters!==null&&orderDetailUsers.theWaiters,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetWaiter,maxMenuHeight:\"200px\",placeholder:_t(t(\"Waiter\"))+\"..\"}))):\"\",/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control xsm-text py-2 pl-2\",min:\"1\",onChange:handleTotalGuest,placeholder:_t(t(\"Total guests\"))+\"..\"}))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\" \".concat(showSettle?\"d-none\":\"\")},/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"d-md-none t-mb-15\"},newSettings&&newSettings.workPeriod===null&&/*#__PURE__*/React.createElement(\"div\",{className:\"fk-left-overlay\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-left-overlay__content text-center m-auto\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-primary text-uppercase \".concat(authUserInfo.details&&authUserInfo.details.user_type!==\"staff\"&&\"mb-0\")},authUserInfo.details&&authUserInfo.details.user_type!==\"staff\"?_t(t(\"Select branch to active POS\")):_t(t(\"start workperiod\"))),authUserInfo.details&&authUserInfo.details.user_type!==\"staff\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h6\",{className:\"mt-1 text-uppercase xsm-text mb-1\"},_t(t(\"Start workperiod if it is not started\"))),/*#__PURE__*/React.createElement(\"small\",{className:\"d-flex justify-content-center text-lowercase xsm-text mt-0 mb-2\"},\"(\",_t(t(\"Use staff account not to see this multiple times\")),\")\")),/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard\",className:\"t-heading-font btn btn-primary btn-sm text-uppercase sm-text\"},_t(t(\"Goto Dashboard\"))))),foodGroupForSearch&&foodGroupForSearch.map(function(mobileGroup,mobileGroupIndex){var tempItems=foodForSearch&&foodForSearch.filter(function(tempItem){return parseInt(tempItem.food_group_id)===mobileGroup.id;});return/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card t-mt-10\",id:\"card-\".concat(mobileGroupIndex+1)},/*#__PURE__*/React.createElement(\"h3\",{className:\"mt-0 t-mb-30 text-capitalize\"},mobileGroup.name),/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-sm-card-list\"},tempItems!==null&&tempItems.length>0?[tempItems.map(function(mobileItem,mobileItemIndex){return/*#__PURE__*/React.createElement(\"li\",{className:\"fk-sm-card-list__item\",\"data-toggle\":handleGetStock(mobileItem.id)===0?\"\":\"modal\",\"data-target\":handleGetStock(mobileItem.id)===0?\"\":\"#menuAddons\",key:mobileItemIndex,onClick:function onClick(){// if manage is stock is enable\nif(showManageStock){if(handleGetStock(mobileItem.id)===0){toast.error(\"\".concat(_t(t(\"Out of stock\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{//set active item in order list\nsetActiveItemInOrder(mobileItemIndex);// set variations, properties and selected items here\nsetFoodItem(_objectSpread(_objectSpread({},foodItem),{},{foodGroup:mobileGroup,selectedItem:mobileItem,variations:mobileItem&&parseInt(mobileItem.has_variation)===1?mobileItem.variations:null,properties:mobileItem&&parseInt(mobileItem.has_property)===1?mobileItem.properties:null}));handleOrderItem(mobileItem);}}else{setActiveItemInOrder(mobileItemIndex);// set variations, properties and selected items here\nsetFoodItem(_objectSpread(_objectSpread({},foodItem),{},{foodGroup:mobileGroup,selectedItem:mobileItem,variations:mobileItem&&parseInt(mobileItem.has_variation)===1?mobileItem.variations:null,properties:mobileItem&&parseInt(mobileItem.has_property)===1?mobileItem.properties:null}));handleOrderItem(mobileItem);}}},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__container align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"text-capitalize fk-sm-card__title\"},\"stock na thakleo baire theke khuje ene dibo\"),mobileItem.has_variation===\"0\"&&/*#__PURE__*/React.createElement(\"p\",{className:\"t-mt-10 mb-0 sm-text text-uppercase t-text-dark--light-20\"},currencySymbolLeft(),formatPrice(parseFloat(mobileItem.price)),currencySymbolRight())),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__action\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__img fk-sm-card__img--1\",style:{backgroundImage:\"url(\".concat(mobileItem.image,\")\")}}),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__cart\"},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-plus\"})))));})]:\"\"));}),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-footnav\",style:{zIndex:10}},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-footnav__container\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-sm-footnav__list justify-content-center\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-sm-footnav__list-item\",\"data-toggle\":\"modal\",\"data-target\":\"#extraInfo\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-sm-footnav__link\"},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-edit\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"fk-sm-footnav__list-item\",\"data-toggle\":\"modal\",\"data-target\":\"#showCart\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-sm-footnav__link\"},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-shopping-cart\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"fk-sm-footnav__list-item\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/pos/submitted\",className:\"t-link fk-sm-footnav__link\"},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-share-square\"}))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-main d-none d-md-block t-mt-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-left-over\"},newSettings&&newSettings.workPeriod===null&&/*#__PURE__*/React.createElement(\"div\",{className:\"fk-left-overlay\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-left-overlay__content text-center m-auto\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-primary text-uppercase \".concat(authUserInfo.details&&authUserInfo.details.user_type!==\"staff\"&&\"mb-0\")},authUserInfo.details&&authUserInfo.details.user_type!==\"staff\"?_t(t(\"Select branch to active POS\")):_t(t(\"start workperiod\"))),authUserInfo.details&&authUserInfo.details.user_type!==\"staff\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h6\",{className:\"mt-1 text-uppercase xsm-text mb-1\"},_t(t(\"Start workperiod if it is not started\"))),/*#__PURE__*/React.createElement(\"small\",{className:\"d-flex justify-content-center text-lowercase xsm-text mt-0 mb-2\"},\"(\",_t(t(\"Use staff account not to see this multiple times\")),\")\")),/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard\",className:\"t-heading-font btn btn-primary btn-sm text-uppercase sm-text\"},_t(t(\"Goto Dashboard\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-lg-5 col-xl-6 col-xxl-7\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/pos/online-orders\",className:\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-outline-danger xsm-text text-uppercase text-center w-100\"},_t(t(\"Online Orders\")),\" \",onlineCounter>0&&/*#__PURE__*/React.createElement(\"span\",{className:\"bg-danger text-white p-2 rounded-md\"},\"(\",onlineCounter,\")\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-lg-7 col-xl-6 col-xxl-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},window.location.pathname===\"/dashboard/pos/settled\"?/*#__PURE__*/React.createElement(NavLink,{to:\"/refresh\",className:\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-success xsm-text text-uppercase text-center w-100\"},_t(t(\"Settled\"))):/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/pos/settled\",className:\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-success xsm-text text-uppercase text-center w-100\"},_t(t(\"Settled\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},window.location.pathname===\"/dashboard/pos/submitted\"?/*#__PURE__*/React.createElement(NavLink,{to:\"/refresh\",className:\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-primary xsm-text text-uppercase text-center w-100\"},_t(t(\"Submitted\"))):/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/pos/submitted\",className:\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-primary xsm-text text-uppercase text-center w-100\"},_t(t(\"Submitted\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-xl-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--pos-menu\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-pos-nav list-group\"},getSystemSettings(generalSettings,\"pos_screen\")===\"1\"&&deptTagForSearch&&/*#__PURE__*/React.createElement(React.Fragment,null,deptTagForSearch.map(function(deptItem,deptItemIndex){return/*#__PURE__*/React.createElement(\"li\",{className:\"t-mb-10 \".concat(deptItemIndex===deptTagForSearch.length-1?\"t-mb-30\":\"\")},/*#__PURE__*/React.createElement(\"style\",null),/*#__PURE__*/React.createElement(\"button\",{class:\"button arrow text-uppercase \".concat(orderDetails&&orderDetails.dept_tag&&orderDetails.dept_tag.id===deptItem.id?\"active\":\"\"),onClick:function onClick(){handleSetDeptTag(deptItem);}},deptItem.name));})),foodGroupForSearch&&foodGroupForSearch.map(function(groupItem,groupIndex){return/*#__PURE__*/React.createElement(\"li\",{className:\"fk-pos-nav__list\",key:groupIndex},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){// set active group, group items, initial item active, todo:: set variations and properties\nvar tempItems=foodForSearch&&foodForSearch.filter(function(tempItem){return parseInt(tempItem.food_group_id)===groupItem.id;});if(tempItems&&tempItems.length>0){setFoodItem(_objectSpread(_objectSpread({},foodItem),{},{foodGroup:groupItem,items:tempItems,selectedItem:tempItems&&tempItems[0],variations:tempItems&&parseInt(tempItems[0].has_variation)===1?tempItems[0].variations:null,properties:tempItems&&parseInt(tempItems[0].has_property)===1?tempItems[0].properties:null}));}else{setFoodItem({foodGroup:groupItem,items:null,selectedItem:null,variations:null,properties:null});}//set active item in order list\nsetActiveItemInOrder(null);}//set active or !\n,className:\"w-100 t-text-dark t-heading-font btn btn-outline-danger font-weight-bold text-uppercase \".concat(foodItem.foodGroup&&foodItem.foodGroup.id===groupItem.id&&\"active\")},groupItem.name));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-xl-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"active\",id:\"nav-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-xl-6 col-xxl-5 order-xl-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-content t-mb-10 mb-xl-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\",id:\"addons-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-variation\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__head text-center\"},_t(t(\"variations\"))),foodItem.variations?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 pl-3 border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"name\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"price\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__body\"},foodItem.variations.map(function(variationItem){return/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 border-right t-pl-10 t-pr-10\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox\"},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm\",name:\"variation\",onChange:function onChange(){handleOrderItemVariation(variationItem);},checked:checkChecked(variationItem)}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading t-ml-8 fk-addons-table__body-text\"},variationItem.variation_name))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__body-text sm-text\"},currencySymbolLeft(),formatPrice(variationItem.food_with_variation_price),currencySymbolRight()))));}))):/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__info py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize text-primary\"},_t(t(\"No variations\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:foodItem.properties?\"\":\"d-none\"},foodItem.properties&&/*#__PURE__*/React.createElement(React.Fragment,null,foodItem.properties.length>0?foodItem.properties.map(function(propertyItem){//property group\nvar selectedGroup=null;//property group\nif(propertyItem.length>0){selectedGroup=propertyGroupForSearch&&propertyGroupForSearch.find(function(singlePropertyGroup){return singlePropertyGroup.id===parseInt(propertyItem[0].property_group_id);});}return/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__head text-center\"},selectedGroup&&selectedGroup.name),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 pl-3 border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"name\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"QTY\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize\"},_t(t(\"Unit price\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__body\"},propertyItem.map(function(eachItem){return/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__body-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5 border-right t-pl-10 t-pr-10\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mx-checkbox\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm\",onChange:function onChange(){newOrder&&newOrder.map(function(newOrderItem,index){if(index===activeItemInOrder){if(newOrderItem.properties){var theItem=newOrderItem.properties.find(function(eachPropertyItem){return eachPropertyItem.item.id===eachItem.id;});if(theItem===undefined){handleAddProperties(eachItem);}else{handleRemoveProperties(eachItem);}}else{handleAddProperties(eachItem);}}});},checked:checkCheckedProperties(eachItem)}),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-checkbox__text text-capitalize t-text-heading t-ml-8 fk-addons-table__body-text\"},eachItem.name))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center border-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-qty justify-content-center t-pt-10 t-pb-10\"},parseInt(eachItem.allow_multi_quantity)===1&&/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon fk-qty__deduct\",onClick:function onClick(){handlePropertyQty(eachItem,\"-\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-minus\"})),parseInt(eachItem.allow_multi_quantity)===1?/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:checkCheckedPropertyQuantity(eachItem),className:\"fk-qty__input t-bg-clear\",readOnly:true}):\"-\",parseInt(eachItem.allow_multi_quantity)===1&&/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon fk-qty__add\",onClick:function onClick(){handlePropertyQty(eachItem,\"+\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-plus\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__body-text sm-text\"},currencySymbolLeft(),formatPrice(eachItem.extra_price),currencySymbolRight()))));})));}):/*#__PURE__*/React.createElement(\"div\",{className:\"fk-addons-table__info py-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-addons-table__info-text text-capitalize text-primary\"},_t(t(\"No properties\"))))))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-xl-6 col-xxl-7 order-xl-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-dish--scroll\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"list-group fk-dish row gx-2\"},foodItem.items&&foodItem.items.map(function(tempFoodItem,tempFoodItemIndex){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){if(showManageStock){if(handleGetStock(tempFoodItem.id)===0){toast.error(\"\".concat(_t(t(\"Out of stock\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}else{// set variations, properties and selected items here\nsetFoodItem(_objectSpread(_objectSpread({},foodItem),{},{selectedItem:tempFoodItem,variations:tempFoodItem&&parseInt(tempFoodItem.has_variation)===1?tempFoodItem.variations:null,properties:tempFoodItem&&parseInt(tempFoodItem.has_property)===1?tempFoodItem.properties:null}));handleOrderItem(tempFoodItem);}}else{// set variations, properties and selected items here\nsetFoodItem(_objectSpread(_objectSpread({},foodItem),{},{selectedItem:tempFoodItem,variations:tempFoodItem&&parseInt(tempFoodItem.has_variation)===1?tempFoodItem.variations:null,properties:tempFoodItem&&parseInt(tempFoodItem.has_property)===1?tempFoodItem.properties:null}));handleOrderItem(tempFoodItem);}},className:\"fk-dish__link t-mb-10 col-md-6 col-lg-4 col-xl-6 col-xxl-4 t-link border-0 pointer-cursor \".concat(foodItem.selectedItem&&foodItem.selectedItem.id===tempFoodItem.id&&\"active\")},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-dish-card w-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-dish-card__img w-100\"},/*#__PURE__*/React.createElement(\"img\",{src:tempFoodItem.image,alt:\"\",className:\"img-fluid m-auto w-100\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"fk-dish-card__title text-center text-uppercase\"},tempFoodItem.name,\" \",/*#__PURE__*/React.createElement(\"br\",null),showManageStock?/*#__PURE__*/React.createElement(React.Fragment,null,_t(t(\"In Stock\")),\":\",\" \",handleGetStock(tempFoodItem.id)):null)));}))))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-xl-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-right-nav\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row flex-column justify-content-between h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 flex-grow-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-right-nav__scroll\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list addons-list\"},authUserInfo.details&&authUserInfo.details.user_type!==\"staff\"&&/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mt-1 mx-1\"},/*#__PURE__*/React.createElement(Select,{options:branchForSearch&&branchForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetBranch,maxMenuHeight:\"200px\",placeholder:_t(t(\"Branch\"))+\"..\"})),!loading&&/*#__PURE__*/React.createElement(React.Fragment,null,orderDetails.branch!==null&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1 \".concat(authUserInfo.details&&authUserInfo.details.user_type===\"staff\"&&\"mt-1\")},/*#__PURE__*/React.createElement(Select,{options:orderDetailUsers.theCustomers!==null&&orderDetailUsers.theCustomers,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name+\" (\"+option.phn_no+\")\";},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetCustomer,maxMenuHeight:\"200px\",placeholder:_t(t(\"Customer\"))+\"..\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1 border border-2 rounded-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn-group w-100\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"fk-right-nav__guest-btn btn w-100 t-bg-white dropdown-toggle new-customer-pos xsm-text pl-2\",\"data-toggle\":\"dropdown\",\"aria-expanded\":\"false\"},\"+ \",_t(t(\"Customer\")),\"?\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu w-100 border-0 pt-4 change-background\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",className:\"form-control font-10px rounded-lg\",placeholder:\"Name\",autoComplete:\"off\",value:orderDetails.newCustomerInfo.name,onChange:handleNewCustomer})),/*#__PURE__*/React.createElement(\"li\",{className:\"pb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"number\",className:\"form-control font-10px mt-2 rounded-lg\",autoComplete:\"off\",placeholder:\"Number\",value:orderDetails.newCustomerInfo.number,onChange:handleNewCustomer})),/*#__PURE__*/React.createElement(\"li\",{className:\"pb-1 text-right\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn t-bg-white text-dark xsm-text text-uppercase btn-sm py-0 px-2 mr-1\",onClick:function onClick(){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{newCustomer:false,newCustomerInfo:{name:\"\",number:\"\"}}));}},_t(t(\"Cancel\"))))))),getSystemSettings(generalSettings,\"pos_screen\")===\"0\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1\"},/*#__PURE__*/React.createElement(Select,{options:deptTagForSearch&&deptTagForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetDeptTag,maxMenuHeight:\"200px\",placeholder:_t(t(\"Dept tag\"))+\"..\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1 payment-type-parent \".concat(orderDetails.payment_type!==null&&\"mb-1\")},/*#__PURE__*/React.createElement(Select,{options:paymentTypeForSearch&&paymentTypeForSearch,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetpaymentType,maxMenuHeight:\"200px\",isMulti:true,backspaceRemovesValue:false,clearIndicator:null,placeholder:_t(t(\"Payments\"))+\"..\"})),orderDetails.payment_type!==null&&/*#__PURE__*/React.createElement(\"div\",{className:\"border mt-0 mb-2 change-background mx-1 rounded-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"xsm-text text-center text-white pt-1\"},_t(t(\"Amount\"))),orderDetails.payment_type.map(function(eachPaymentType,paymentTypeIndex){return/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1 mb-1\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",min:\"0\",step:\"0.01\",name:eachPaymentType.id,autoComplete:\"off\",className:\"form-control xsm-text pl-2\",onChange:handlePaymentTypeAmount,placeholder:eachPaymentType.name,value:orderDetails.payment_amount&&orderDetails.payment_amount[eachPaymentType.id]}));}))),getSystemSettings(generalSettings,\"table_waiter\")===\"1\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1\"},/*#__PURE__*/React.createElement(Select,{options:orderDetailUsers.theTables!==null&&orderDetailUsers.theTables,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetTable,maxMenuHeight:\"200px\",placeholder:_t(t(\"Table\"))+\"..\"})),/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1\"},/*#__PURE__*/React.createElement(Select,{options:orderDetailUsers.theWaiters!==null&&orderDetailUsers.theWaiters,components:makeAnimated(),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionValue:function getOptionValue(option){return option.name;},classNamePrefix:\"select\",className:\"xsm-text\",onChange:handleSetWaiter,maxMenuHeight:\"200px\",placeholder:_t(t(\"Waiter\"))+\"..\"}))):\"\",/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item mx-1\",style:{paddingBottom:\"100px\"}},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control xsm-text py-2 pl-2\",min:\"1\",onChange:handleTotalGuest,placeholder:_t(t(\"Total guest\"))+\"..\"}))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 t-mb-10\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){if(newOrder){handleOnlyPrint();}else{toast.error(\"\".concat(_t(t(\"Please add items in order list to print bill\"))),{position:\"bottom-center\",closeButton:false,autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}},className:\"w-100 t-heading-font btn btn-outline-danger font-weight-bold text-uppercase sm-text\"},_t(t(\"print bill\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"w-100 t-heading-font btn btn-primary font-weight-bold text-uppercase sm-text\",onClick:handleCancelConfirmation},_t(t(\"cancel\"))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-xl-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-right-nav p-2 p-xl-3 t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"h-100 w-100 d-none\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-receipt-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-receipt-body t-mt-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sm-text font-weight-bold text-uppercase font-italic\"},_t(t(\"Order token\")),\":\",\" \",newOrder?/*#__PURE__*/React.createElement(React.Fragment,null,\"#\",orderDetails.token.id,\" -\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},orderDetails.token.time)):\"\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__container t-mt-30\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-sm-card__content\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"text-capitalize fk-sm-card__title t-mb-5\"},\"food items\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 xsm-text t-text-heading fk-sm-card__description text-capitalize\"},\"properties & bill\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xxsm-text fk-badge fk-badge--dark\"},\"total\")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list addons-list\"},/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item active\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\" sm-text text-capitalize\"},\"chicken burger\"),/*#__PURE__*/React.createElement(\"span\",{className:\" xsm-text text-capitalize d-block\"},\"large\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-qty flex-grow-1 justify-content-end\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon fk-qty__deduct\"},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-minus\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:\"0\",className:\"fk-qty__input\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon fk-qty__add\"},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-plus\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\" text-uppercase sm-text flex-grow-1\"},\"+tk 100\")))),/*#__PURE__*/React.createElement(\"li\",{className:\"addons-list__item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-text-heading sm-text text-capitalize\"},\"beef burger\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-qty flex-grow-1 justify-content-end\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon fk-qty__deduct\"},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-minus\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:\"0\",className:\"fk-qty__input\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon fk-qty__add\"},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-plus\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-text-heading text-uppercase sm-text flex-grow-1\"},\"+tk 230\"))))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text\"},\"sub total\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},newOrder?/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(theSubTotal),currencySymbolRight()):/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(0),currencySymbolRight()))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sm-text\"},getSystemSettings(generalSettings,\"vat_system\")===\"igst\"?\"vat(\".concat(newSettings!==null&&newSettings.vat,\")\"):getSystemSettings(generalSettings,\"vat_system\")===\"cgst\"?\"cgst+sgst\"+\"(\"+getSystemSettings(generalSettings,\"cgst\")+\"+\"+getSystemSettings(generalSettings,\"sgst\")+\")\":\"tax(\".concat(newSettings!==null&&newSettings.tax,\")\"),\"%:\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},currencySymbolLeft(),formatPrice(theVat),currencySymbolRight())))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text\"},\"service\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},\"20.00\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text\"},\"discount\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},\"100.00\"))))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},\"total bill\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-center\"},\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text font-weight-bold\"},\"2000.00\"))))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary w-100 xsm-text text-uppercase\"},\"settle\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success w-100 xsm-text text-uppercase\"},\"submit\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"h-100 w-100 d-none d-md-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-price-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-price-table__head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-0 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-block sm-text font-weight-bold text-uppercase\"},_t(t(\"Order token\")),\":\",\" \",newOrder?/*#__PURE__*/React.createElement(React.Fragment,null,\"#\",orderDetails.token.id,\" -\",\" \",/*#__PURE__*/React.createElement(Moment,{format:\"LT\"},orderDetails.token.time)):\"\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-price-table__body t-mt-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-price-table__body-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-table__head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"S/L\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"food item\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"QTY\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"price\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-table__body border-bottom\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"sky-is-blue reverse-this\"},newOrder&&newOrder.length>0?newOrder.map(function(orderListItem,orderListItemIndex){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"fk-table-container-order \".concat(orderListItemIndex===activeItemInOrder&&\"active\",\" \"),onClick:function onClick(e){e.preventDefault();//orderListItem's group wise all items\nvar tempItems=foodForSearch&&foodForSearch.filter(function(tempItem){return tempItem.food_group_id===orderListItem.item.food_group_id;});//orderListItem's group\nvar foodGroup=foodGroupForSearch&&foodGroupForSearch.find(function(groupItem){return groupItem.id===parseInt(orderListItem.item.food_group_id);});// selected pos item\nvar selectedItemTemp=tempItems&&tempItems.find(function(tempSelectedItem){return tempSelectedItem.id===orderListItem.item.id;});// Set variations, properties, selected item\nsetFoodItem(_objectSpread(_objectSpread({},foodItem),{},{foodGroup:foodGroup,items:tempItems,selectedItem:selectedItemTemp,variations:selectedItemTemp&&parseInt(selectedItemTemp.has_variation)===1?selectedItemTemp.variations:null,properties:selectedItemTemp&&parseInt(selectedItemTemp.has_property)===1?selectedItemTemp.properties:null}));//set active order list index for background color of selected\nsetActiveItemInOrder(orderListItemIndex);}},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 border-top-0 border-bottom \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center border-left d-flex justify-content-center align-items-center\"},newOrder.length-orderListItemIndex),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 border-left border-right py-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize d-block t-pt-5 t-pb-5 t-pl-5 t-pr-5 sm-text font-weight-bold t-mr-8\"},orderListItem.item.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},parseInt(orderListItem.item.has_variation)===1&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pr-5 t-pl-5\"},\"variation :\"),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block badge rounded-pill bg-warning text-dark font-weight-md\"},orderListItem.variation?orderListItem.variation.variation_name:\"-\")),orderListItem.properties&&orderListItem.properties.length>0&&selectedPropertyGroup[orderListItemIndex]!==undefined&&selectedPropertyGroup[orderListItemIndex].map(function(thisIsGroup){var theGroup=propertyGroupForSearch&&propertyGroupForSearch.find(function(theItem){return theItem.id===thisIsGroup;});return/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pr-5 t-pl-5\"},theGroup&&theGroup.name,\" \",\":\"),orderListItem.properties.map(function(propertyName){if(parseInt(propertyName.item.property_group_id)===theGroup.id){return/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block badge rounded-pill bg-warning text-dark font-weight-md mr-1\"},propertyName.item.name,\" \",/*#__PURE__*/React.createElement(\"span\",null,\" \",propertyName.quantity>1&&\"(\"+propertyName.quantity+\")\"));}else{return true;}}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right d-flex justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-qty t-pt-5 t-pb-5 justify-content-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon\",onClick:function onClick(){handleOrderItemQty(\"-\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-minus\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:orderListItem.quantity,className:\"fk-qty__input t-bg-clear\",readOnly:true}),/*#__PURE__*/React.createElement(\"span\",{className:\"fk-qty__icon\",onClick:function onClick(){handleOrderItemQty(\"+\");}},/*#__PURE__*/React.createElement(\"i\",{className:\"las la-plus\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center border-right d-flex justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},parseInt(orderListItem.item.has_variation)===1?/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),showPriceOfEachOrderItem(orderListItemIndex),currencySymbolRight()):/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),showPriceOfEachOrderItem(orderListItemIndex),currencySymbolRight()))))),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize  t-pt-5 t-pb-5 t-pl-5 t-pr-5 sm-text font-weight-bold make-this-relative\"},/*#__PURE__*/React.createElement(\"span\",{className:\"badge rounded-pill bg-secondary text-capitalize\",onClick:function onClick(){handleRemoveItemFromOrderList(orderListItemIndex);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-times\"}))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-primary text-center font-weight-bold pt-5 xsm-text text-uppercase\"},_t(t(\"Select food item to add to the list\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-price-table__body-bottom t-mt-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-table__head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-center border-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"sub total\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},newOrder?/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(theSubTotal),currencySymbolRight()):/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(0),currencySymbolRight())))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",{className:\"xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},getSystemSettings(generalSettings,\"vat_system\")===\"igst\"?\"vat(\".concat(newSettings!==null&&newSettings.vat,\")\"):getSystemSettings(generalSettings,\"vat_system\")===\"cgst\"?\"cgst+sgst\"+\"(\"+getSystemSettings(generalSettings,\"cgst\")+\"+\"+getSystemSettings(generalSettings,\"sgst\")+\")\":\"tax(\".concat(newSettings!==null&&newSettings.vat,\")\"),\"%:\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(theVat),currencySymbolRight()))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-center border-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-right\",style:{textAlign:\"start\",paddingRight:\"50px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"Department Tag Commission\")),orderDetails&&orderDetails.dept_tag&&\" (\"+orderDetails.dept_tag.commission+\"%\"+\")\",\" \",\":\",\" \",newOrder?/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(deptCommission),currencySymbolRight()):/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},currencySymbolLeft(),formatPrice(0),currencySymbolRight())))))),getSystemSettings(generalSettings,\"sDiscount\")===\"flat\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-center border-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"service charge\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5 form-control rounded-0 text-center\",onChange:function onChange(e){if(e.target.value!==\"\"){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{serviceCharge:parseFloat(e.target.value)}));var _totalPayable10=0;var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var usdServiceCharge=parseFloat(e.target.value)/localCurrency.rate;var usdDiscount=parseFloat(orderDetails.discount)/localCurrency.rate;_totalPayable10=theSubTotal+theVat+usdServiceCharge-usdDiscount;setTotalPaybale(_totalPayable10);setReturnMoneyUsd(_totalPayable10-paidMoney);}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{serviceCharge:0}));var _totalPayable11=0;var _localCurrency3=JSON.parse(localStorage.getItem(\"currency\"));var _usdServiceCharge5=parseFloat(0)/_localCurrency3.rate;var _usdDiscount5=parseFloat(orderDetails.discount)/_localCurrency3.rate;_totalPayable11=theSubTotal+theVat+_usdServiceCharge5-_usdDiscount5;setTotalPaybale(_totalPayable11);setReturnMoneyUsd(_totalPayable11-paidMoney);}},value:orderDetails.serviceCharge!==0&&orderDetails.serviceCharge})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"discount\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5 form-control rounded-0 text-center\",onChange:function onChange(e){if(e.target.value!==\"\"){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{discount:parseFloat(e.target.value)}));var _totalPayable12=0;var localCurrency=JSON.parse(localStorage.getItem(\"currency\"));var usdServiceCharge=parseFloat(orderDetails.serviceCharge)/localCurrency.rate;var usdDiscount=parseFloat(e.target.value)/localCurrency.rate;_totalPayable12=theSubTotal+theVat+usdServiceCharge-usdDiscount;setTotalPaybale(_totalPayable12);setReturnMoneyUsd(_totalPayable12-paidMoney);}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{discount:0}));var _totalPayable13=0;var _localCurrency4=JSON.parse(localStorage.getItem(\"currency\"));var _usdServiceCharge6=parseFloat(orderDetails.serviceCharge)/_localCurrency4.rate;var _usdDiscount6=parseFloat(0)/_localCurrency4.rate;_totalPayable13=theSubTotal+theVat+_usdServiceCharge6-_usdDiscount6;setTotalPaybale(_totalPayable13);setReturnMoneyUsd(_totalPayable13-paidMoney);}},value:orderDetails.discount!==0&&orderDetails.discount}))))),getSystemSettings(generalSettings,\"sDiscount\")===\"percentage\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-center border-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"service charge\")),\" %\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5 form-control rounded-0 text-center\",onChange:function onChange(e){if(e.target.value!==\"\"){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{serviceCharge:parseFloat(e.target.value)}));var _totalPayable14=0;// let localCurrency = JSON.parse(\n//   localStorage.getItem(\n//     \"currency\"\n//   )\n// );\n// let usdServiceCharge =\n//   parseFloat(e.target.value) /\n//   localCurrency.rate;\n// console.log(\"coming\");\nvar usdServiceCharge=theSubTotal*(parseFloat(e.target.value)/100);// let usdDiscount =\n//   parseFloat(\n//     orderDetails.discount\n//   ) / localCurrency.rate;\nvar usdDiscount=theSubTotal*(parseFloat(orderDetails.discount)/100);_totalPayable14=theSubTotal+theVat+usdServiceCharge-usdDiscount;setTotalPaybale(_totalPayable14);}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{serviceCharge:0}));var _totalPayable15=0;// let localCurrency = JSON.parse(\n//   localStorage.getItem(\n//     \"currency\"\n//   )\n// );\n// let usdServiceCharge =\n//   parseFloat(0) /\n//   localCurrency.rate;\nvar _usdServiceCharge7=0;// let usdDiscount =\n//   parseFloat(\n//     orderDetails.discount\n//   ) / localCurrency.rate;\nvar _usdDiscount7=theSubTotal*(parseFloat(orderDetails.discount)/100);_totalPayable15=theSubTotal+theVat+_usdServiceCharge7-_usdDiscount7;setTotalPaybale(_totalPayable15);}},value:orderDetails.serviceCharge!==0&&orderDetails.serviceCharge})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"discount\")),\" %\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5 form-control rounded-0 text-center\",onChange:function onChange(e){if(e.target.value!==\"\"){setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{discount:parseFloat(e.target.value)}));var _totalPayable16=0;// let localCurrency = JSON.parse(\n//   localStorage.getItem(\n//     \"currency\"\n//   )\n// );\n// let usdServiceCharge =\n//   parseFloat(\n//     orderDetails.serviceCharge\n//   ) / localCurrency.rate;\nvar usdServiceCharge=theSubTotal*(parseFloat(orderDetails.serviceCharge)/100);// let usdDiscount =\n//   parseFloat(e.target.value) /\n//   localCurrency.rate;\nvar usdDiscount=theSubTotal*(parseFloat(e.target.value)/100);_totalPayable16=theSubTotal+theVat+usdServiceCharge-usdDiscount;setTotalPaybale(_totalPayable16);}else{setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{discount:0}));var _totalPayable17=0;// let localCurrency = JSON.parse(\n//   localStorage.getItem(\n//     \"currency\"\n//   )\n// );\nvar _usdServiceCharge8=theSubTotal*(parseFloat(orderDetails.serviceCharge)/100);var _usdDiscount8=0;_totalPayable17=theSubTotal+theVat+_usdServiceCharge8-_usdDiscount8;setTotalPaybale(_totalPayable17);}},value:orderDetails.discount!==0&&orderDetails.discount})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-epsilon t-pl-10 t-pr-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize font-weight-bold text-light d-block t-pt-8 t-pb-10\"},_t(t(\"total bill\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},totalPayable?/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize font-weight-bold text-light d-block t-pt-8 t-pb-10\"},currencySymbolLeft(),formatPrice(totalPayable),currencySymbolRight()):/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize font-weight-bold text-light d-block t-pt-8 t-pb-10\"},currencySymbolLeft(),formatPrice(0),currencySymbolRight())))),/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 align-items-center t-mt-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-calculator-container\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-info text-uppercase\",onClick:function onClick(){return setCalculatorMenu(!calculatorMenu);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-calculator\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"calculator \".concat(calculatorMenu&&\"active\")},/*#__PURE__*/React.createElement(Calculator,null))))),getSystemSettings(generalSettings,\"pos_screen\")===\"0\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end align-items-center\"},returnMoneyUsd>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize font-weight-bold mr-2\"},_t(t(\"Return\"))),totalPayable?/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize font-weight-bold t-pt-8 t-pb-10\"},currencySymbolLeft(),formatPrice(returnMoneyUsd),currencySymbolRight()):/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize font-weight-bold t-pt-8 t-pb-10\"},currencySymbolLeft(),formatPrice(0),currencySymbolRight())),/*#__PURE__*/React.createElement(\"div\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary sm-text text-uppercase font-weight-bold\",onClick:!loading&&handleSettleOrder},!loading?_t(t(\"settle\")):_t(t(\"Please wait\")))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success sm-text text-uppercase font-weight-bold\",onClick:!loading&&handleSubmitOrder},!loading?_t(t(\"submit\")):_t(t(\"Please wait\")))))),getSystemSettings(generalSettings,\"pos_screen\")===\"1\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary sm-text text-uppercase font-weight-bold\",onClick:handleSettleOrderButton},!loading?_t(t(\"settle\")):_t(t(\"Please wait\")))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success sm-text text-uppercase font-weight-bold\",onClick:!loading&&handleSubmitOrder},!loading?_t(t(\"submit\")):_t(t(\"Please wait\")))))))))))))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-settle-container d-flex flex-column justify-content-center \".concat(showSettle?\"\":\"d-none\")},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-settle\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 d-none d-lg-block\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sm-text d-block text-capitalize font-weight-bold py-3\"},\"new order\"),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-settle__products d-flex flex-column\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-price-table__body t-mt-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-price-table__body-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-table__head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"S/L\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"food item\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"QTY\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\"},_t(t(\"price\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"t-pb-30\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sky-is-blue reverse-this\"},newOrder&&newOrder.length>0?newOrder.map(function(orderListItem,orderListItemIndex){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"fk-table-container-order \".concat(orderListItemIndex===activeItemInOrder&&\"active\",\" \"),onClick:function onClick(e){e.preventDefault();//orderListItem's group wise all items\nvar tempItems=foodForSearch&&foodForSearch.filter(function(tempItem){return tempItem.food_group_id===orderListItem.item.food_group_id;});//orderListItem's group\nvar foodGroup=foodGroupForSearch&&foodGroupForSearch.find(function(groupItem){return groupItem.id===parseInt(orderListItem.item.food_group_id);});// selected pos item\nvar selectedItemTemp=tempItems&&tempItems.find(function(tempSelectedItem){return tempSelectedItem.id===orderListItem.item.id;});// Set variations, properties, selected item\nsetFoodItem(_objectSpread(_objectSpread({},foodItem),{},{foodGroup:foodGroup,items:tempItems,selectedItem:selectedItemTemp,variations:selectedItemTemp&&parseInt(selectedItemTemp.has_variation)===1?selectedItemTemp.variations:null,properties:selectedItemTemp&&parseInt(selectedItemTemp.has_property)===1?selectedItemTemp.properties:null}));//set active order list index for background color of selected\nsetActiveItemInOrder(orderListItemIndex);}},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0 border-top-0 border-bottom \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 text-center border-left d-flex justify-content-center align-items-center\"},newOrder.length-orderListItemIndex),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 border-left border-right py-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize d-block t-pt-5 t-pb-5 t-pl-5 t-pr-5 sm-text font-weight-bold t-mr-8\"},orderListItem.item.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"row g-0\"},parseInt(orderListItem.item.has_variation)===1&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pr-5 t-pl-5\"},\"variation :\"),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block badge rounded-pill bg-warning text-dark font-weight-md\"},orderListItem.variation?orderListItem.variation.variation_name:\"-\")),orderListItem.properties&&orderListItem.properties.length>0&&selectedPropertyGroup[orderListItemIndex]!==undefined&&selectedPropertyGroup[orderListItemIndex].map(function(thisIsGroup){var theGroup=propertyGroupForSearch&&propertyGroupForSearch.find(function(theItem){return theItem.id===thisIsGroup;});return/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize sm-text d-inline-block font-weight-bold t-pr-5 t-pl-5\"},theGroup&&theGroup.name,\" \",\":\"),orderListItem.properties.map(function(propertyName){if(parseInt(propertyName.item.property_group_id)===theGroup.id){return/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize xsm-text d-inline-block badge rounded-pill bg-warning text-dark font-weight-md mr-1\"},propertyName.item.name,\" \",/*#__PURE__*/React.createElement(\"span\",null,\" \",propertyName.quantity>1&&\"(\"+propertyName.quantity+\")\"));}else{return true;}}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2 text-center border-right d-flex justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-qty t-pt-5 t-pb-5 justify-content-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:orderListItem.quantity,className:\"fk-qty__input t-bg-clear\",readOnly:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3 text-center border-right d-flex justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-capitalize sm-text font-weight-bold t-pt-5 t-pb-5\"},parseInt(orderListItem.item.has_variation)===1?/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),showPriceOfEachOrderItem(orderListItemIndex),currencySymbolRight()):/*#__PURE__*/React.createElement(React.Fragment,null,currencySymbolLeft(),showPriceOfEachOrderItem(orderListItemIndex),currencySymbolRight()))))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-primary text-center font-weight-bold pt-5 xsm-text text-uppercase\"},_t(t(\"Select food item to add to the list\"))))))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9\"},returnMoneyUsd>0?/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger text-center\",style:{height:\"56px\",marginTop:\"16px\"}},\"Return Amount: \",formatPrice(returnMoneyUsd)):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"fk-settle-group d-flex t-mt-15\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"settle-total\",className:\"text-capitalize w-50 fk-settle-group__label font-weight-bold\"},\"total:\"),/*#__PURE__*/React.createElement(\"div\",{id:\"settle-total\",className:\"w-50 fk-settle-group__input text-right pr-2 font-weight-bold\"},formatPrice(totalPayable))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-settle-group d-flex t-mt-10 t-mb-15\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"settle-paid-amount\",className:\"text-capitalize w-50 fk-settle-group__label font-weight-bold\"},\"paid amount:\"),/*#__PURE__*/React.createElement(\"div\",{id:\"settle-total\",className:\"w-50 fk-settle-group__input text-right pr-2 font-weight-bold\"},paidMoney))),/*#__PURE__*/React.createElement(\"div\",{className:\"fk-settle-cal container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row h-100 g-2 mt-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-2 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-p t-text-white\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+10);}}},\"10\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-p t-text-white\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+20);}}},\"20\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-p t-text-white\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+50);}}},\"50\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-2\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-p t-text-white\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+100);}}},\"100\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-2 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-2 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+1);}}},\"1\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+4);}}},\"4\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+7);}}},\"7\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-p t-text-white\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+500);}}},\"500\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-2 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+2);}}},\"2\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+5);}}},\"5\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+8);}}},\"8\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-p t-text-white\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+1000);}}},\"1000\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-2 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+3);}}},\"3\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+6);}}},\"6\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-bg-w\",onClick:function onClick(){if(!returnMoneyUsd>0){setPaidMoney(paidMoney+9);}}},\"9\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn  t-bg-d t-text-white\",onClick:function onClick(){setPaidMoney(0);setReturnMoneyUsd(0);setOrderDetails(_objectSpread(_objectSpread({},orderDetails),{},{payment_type:null}));}},\"C\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row g-2 h-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-text-white t-bg-ac text-capitalize\",onClick:function onClick(){var theP=parseFloat(formatPrice(totalPayable));setPaidMoney(theP);}},\"all\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-text-white t-bg-ac text-capitalize\",onClick:function onClick(){if(!returnMoneyUsd>0){var theP=formatPrice(parseFloat(totalPayable)/2);setPaidMoney(parseFloat(theP));}}},\"1/2\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn t-text-white t-bg-ac text-capitalize\",onClick:function onClick(){if(!returnMoneyUsd>0){var theP=formatPrice(parseFloat(totalPayable)/3);setPaidMoney(parseFloat(theP));}}},\"1/3\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"fk-settle-cal-btn bg-primary t-text-white t-bg-r text-capitalize\",onClick:!loading&&handleSettleOrder},!loading?_t(t(\"settle\")):_t(t(\"wait\"))))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column justify-content-center t-mt-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-settle__pay\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-pos-nav list-group\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-pos-nav__list\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){setShowSettle(false);},className:\"w-100 t-text-dark t-heading-font btn alert alert-danger font-weight-bold text-uppercase py-3 mb-3\"},\"Go back\")),paymentTypeForSearch&&paymentTypeForSearch.map(function(groupItem,groupIndex){return/*#__PURE__*/React.createElement(\"li\",{className:\"fk-pos-nav__list\",key:groupIndex},/*#__PURE__*/React.createElement(\"button\",{type:\"button\"//set active or !\n,className:\"w-100 t-text-dark t-heading-font btn btn-outline-danger font-weight-bold text-uppercase py-3 \".concat(orderDetails&&orderDetails.payment_type!==null&&orderDetails.payment_type[0].id===groupItem.id?\"active\":\"\"),onClick:function onClick(){handleSetpaymentTypeSingle(groupItem);}},groupItem.name));}))))))))))))));};export default Pos;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/pos/Pos.js"],"names":["React","useContext","useEffect","useState","useRef","NavLink","axios","BASE_URL","_t","getCookie","currencySymbolLeft","formatPrice","currencySymbolRight","getSystemSettings","useTranslation","Helmet","Select","makeAnimated","confirmAlert","toast","Moment","useReactToPrint","UserContext","SettingsContext","RestaurantContext","FoodContext","Calculator","Pos","loading","setLoading","generalSettings","showManageStock","authUserInfo","customerForSearch","setCustomerForSearch","waiterForSearch","foodForSearch","foodGroupForSearch","getFoodGroup","propertyGroupForSearch","foodItemStock","workPeriodForSearch","setWorkPeriodListForSearch","branchForSearch","tableForSearch","deptTagForSearch","paymentTypeForSearch","t","foodGroup","items","selectedItem","variations","properties","foodItem","setFoodItem","showSettle","setShowSettle","calculatorMenu","setCalculatorMenu","newOrder","setNewOrder","activeItemInOrder","setActiveItemInOrder","selectedVariation","setSelectedVariation","selectedPropertyGroup","setSelectedPropertyGroup","selectedProperties","setSelectedProperties","theSubTotal","setTheSubTotal","totalPayable","setTotalPaybale","paidMoney","setPaidMoney","returnMoneyUsd","setReturnMoneyUsd","theVat","setTheVat","deptCommission","setDeptCommission","newSettings","setNewSettings","theCustomers","theTables","theWaiters","orderDetailUsers","setOrderDetailusers","branch","customer","table","waiter","dept_tag","payment_type","payment_amount","total_guest","newCustomer","newCustomerInfo","name","number","token","serviceCharge","discount","orderDetails","setOrderDetails","orderFoodGroups","setOrderFoodGroups","onlineCounter","setOnlineCounter","tempItems","filter","tempItem","parseInt","food_group_id","id","length","has_variation","has_property","details","theBranch","find","branch_id","undefined","theWorkPeriod","tempWorkPeriod","endAtNullItem","ended_at","vat","workPeriod","interval","setInterval","pendingUrl","get","headers","Authorization","then","res","data","order","document","getElementById","play","catch","err","handleGetStock","stock","item","food_id","qty","handleAlreadyOrderedQty","temp","map","quantity","handleOrderItem","tempFoodItem","oldOrderItems","newOrderItem","tempSelectedVariations","eachOldOrderItem","push","tempArray","variation","food_with_variation_id","time","Date","getTime","totalPrice","newSelectedGroup","eachOrderGroup","theGroup","grpFilter","grpFilterIndex","includes","theOrderFoodGroups","forEach","thisItem","thisItemIndex","findThegroup","filterThisGroup","filterThisGroupIndex","beep","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","handleOrderItemVariation","tempFoodItemVariation","newOrderItemTemp","index","checkChecked","variationItem","handleDeleteConfirmation","removeIndex","customUI","onClose","handleRemoveItemFromOrderList","selectedVariationItem","variationIndex","tempSelectedProperties","selectedPropertyItem","propertyIndex","tempSelectedPropertyGroup","selectedPropertyGroupItem","propertyGroupIndex","handleOrderItemQty","action","closeButton","handleCancelConfirmation","handleCancel","setTimeout","handleAddProperties","property","propertyItem","tempArrayPropertyGroup","tempPropertyArray","eachPropertyItem","property_group_id","newSelectedPropertyGroup","eachSelectedGroupArray","unique","Set","handleRemoveProperties","newSelectedProperties","allPropertyGroups","selectedProperty","theProperties","filterThis","groupItem","groupItemIndex","tempGroupArray","filterThisItem","pushThis","checkCheckedProperties","handlePropertyQty","tempPropertyItemsArray","newPropertyItemForQtyUpdate","checkCheckedPropertyQuantity","orderItem","theItem","theItemTemp","showPriceOfEachOrderItem","itemIndex","price","parseFloat","food_with_variation_price","getEachItemPrice","totalPropertyPrice","extra_price","formattedPrice","showPriceOfEachOrderItemPrint","allOrderItems","subTotal","tempVat","tempCommission","commission","localCurrency","JSON","parse","localStorage","getItem","usdServiceCharge","usdDiscount","rate","handleCalculatePaid","handleSearch","e","searchInput","target","value","toLowerCase","searchedList","lowerCaseItemName","lowerCaseItemGroup","food_group","handleSetBranch","tempCustomers","eachCustomer","tempTables","eachTable","tempWaiters","eachWaiter","handleSetCustomer","handleNewCustomer","handleSetTable","handleSetWaiter","handleSetDeptTag","handleSetpaymentType","handleSetpaymentTypeSingle","theUsdPaid","theReturnMoney","handlePaymentTypeAmount","tempPaymentAmount","handleTotalGuest","paymentAmount","paymentType","paidAmount","thePaymentArray","Object","entries","eachPaymentItem","thePaymentType","paymentTypeItem","handleSubmitOrder","preventDefault","axiosRequest","url","formData","orderItems","dept_commission","post","handlePrint","handleSettleOrderButton","handleSettleOrder","axiosRequestForSettle","componentRef","component2Ref","handleOnlyPrint","content","current","onAfterPrint","handleOnlyPrint2","handlePrint2","handleOrderSubmitSuccessful","success","address","phn_no","printItem","printItemIndex","variation_name","thisIsGroup","propertyName","thisIsGroupPaddingTopIndex","tax","theGrp","grpIndex","selectedGroup","singlePropertyGroup","eachItem","allow_multi_quantity","orderListItem","orderListItemIndex","selectedItemTemp","tempSelectedItem","Math","abs","user_type","option","eachPaymentType","paymentTypeIndex","mobileGroup","mobileGroupIndex","mobileItem","mobileItemIndex","backgroundImage","image","zIndex","window","location","pathname","deptItem","deptItemIndex","groupIndex","tempFoodItemIndex","paddingBottom","textAlign","paddingRight","height","marginTop","theP"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState, useRef } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  currencySymbolLeft,\r\n  formatPrice,\r\n  currencySymbolRight,\r\n  getSystemSettings,\r\n} from \"../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Moment from \"react-moment\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n\r\n//importing context consumer here\r\nimport { UserContext } from \"../../../../contexts/User\";\r\nimport { SettingsContext } from \"../../../../contexts/Settings\";\r\nimport { RestaurantContext } from \"../../../../contexts/Restaurant\";\r\nimport { FoodContext } from \"../../../../contexts/Food\";\r\nimport Calculator from \"./calc/Calculator\";\r\n\r\nconst Pos = () => {\r\n  //getting context values here\r\n  const {\r\n    //common\r\n    loading,\r\n    setLoading,\r\n    generalSettings,\r\n    showManageStock,\r\n  } = useContext(SettingsContext);\r\n\r\n  const {\r\n    authUserInfo,\r\n    //customer\r\n    customerForSearch,\r\n    setCustomerForSearch,\r\n    //waiter\r\n    waiterForSearch,\r\n  } = useContext(UserContext);\r\n\r\n  const {\r\n    //food\r\n    foodForSearch,\r\n    //food group\r\n    foodGroupForSearch,\r\n    getFoodGroup,\r\n    //property group\r\n    propertyGroupForSearch,\r\n    //food stock\r\n    foodItemStock,\r\n  } = useContext(FoodContext);\r\n\r\n  const {\r\n    //work period\r\n    workPeriodForSearch,\r\n    setWorkPeriodListForSearch,\r\n    //branch\r\n    branchForSearch,\r\n    //table\r\n    tableForSearch,\r\n    //dept-tag\r\n    deptTagForSearch,\r\n    //payment-type\r\n    paymentTypeForSearch,\r\n  } = useContext(RestaurantContext);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  // State hooks here\r\n  const [foodItem, setFoodItem] = useState({\r\n    foodGroup: null,\r\n    items: null,\r\n    selectedItem: null,\r\n    variations: null,\r\n    properties: null,\r\n  });\r\n\r\n  // const [foodItem, setFoodItem] = useState({\r\n  //   foodGroup: [{\r\n  //     id: 22,\r\n  //     name: \"Bread\",\r\n  //     slug: \"34d-1639221643-bread\",\r\n  //     created_at: \"2021-12-11T07:50:43.000000Z\",\r\n  //     updated_at: \"2021-12-11T07:50:43.000000Z\",\r\n\r\n  //   }],\r\n  //   items: [{\r\n  //     id: 71,\r\n  //     food_group_id: \"22\",\r\n  //     food_group: \"Bread\",\r\n  //     name: \"Bread 1\",\r\n  //     slug: \"bXe-1639221673-bread-1\",\r\n  //     is_special: \"0\",\r\n  //     image: \"http://localhost/khadyo_updated_production_saas/laravel/public/images/food_item/1639221673-burgerjpg.jpg\", has_variation: \"0\",\r\n  //     price: \"11\",\r\n  //     has_property: \"0\",\r\n\r\n  //   }],\r\n  //   selectedItem: [{\r\n  //     id: 71,\r\n  //     food_group_id: \"22\",\r\n  //     food_group: \"Bread\",\r\n  //     name: \"Bread 1\",\r\n  //     slug: \"bXe-1639221673-bread-1\",\r\n  //     is_special: \"0\",\r\n  //     image: \"http://localhost/khadyo_updated_production_saas/laravel/public/images/food_item/1639221673-burgerjpg.jpg\", has_variation: \"0\",\r\n  //     price: \"11\",\r\n  //     has_property: \"0\",\r\n\r\n  //   }],\r\n  //   variations: null,\r\n  //   properties: null,\r\n  // });\r\n\r\n  // show settle\r\n  const [showSettle, setShowSettle] = useState(false);\r\n  //calculator\r\n  const [calculatorMenu, setCalculatorMenu] = useState(false);\r\n  //new order\r\n  const [newOrder, setNewOrder] = useState(null);\r\n  //active index of order list\r\n  const [activeItemInOrder, setActiveItemInOrder] = useState(null);\r\n  //checked variations\r\n  const [selectedVariation, setSelectedVariation] = useState([]);\r\n  //selected groups\r\n  const [selectedPropertyGroup, setSelectedPropertyGroup] = useState([]);\r\n  //checked properties\r\n  const [selectedProperties, setSelectedProperties] = useState([]);\r\n\r\n  //the sub total\r\n  const [theSubTotal, setTheSubTotal] = useState(0);\r\n  //total payable\r\n  const [totalPayable, setTotalPaybale] = useState(0);\r\n  // paidMoney\r\n  const [paidMoney, setPaidMoney] = useState(0);\r\n  //return\r\n  const [returnMoneyUsd, setReturnMoneyUsd] = useState(0);\r\n\r\n  //vat\r\n  const [theVat, setTheVat] = useState(0);\r\n\r\n  //deptCommission\r\n  const [deptCommission, setDeptCommission] = useState(0);\r\n\r\n  //vat settings\r\n  const [newSettings, setNewSettings] = useState(null);\r\n\r\n  //order details users\r\n  const [orderDetailUsers, setOrderDetailusers] = useState({\r\n    theCustomers: null,\r\n    theTables: null,\r\n    theWaiters: null,\r\n  });\r\n\r\n  //order details\r\n  const [orderDetails, setOrderDetails] = useState({\r\n    branch: null,\r\n    customer: null,\r\n    table: null,\r\n    waiter: null,\r\n    dept_tag: null,\r\n    payment_type: null,\r\n    payment_amount: null,\r\n    total_guest: 1,\r\n    newCustomer: false,\r\n    newCustomerInfo: {\r\n      name: \"\",\r\n      number: \"\",\r\n    },\r\n    token: null,\r\n    serviceCharge: 0,\r\n    discount: 0,\r\n  });\r\n\r\n  //orderFoodGroups\r\n  const [orderFoodGroups, setOrderFoodGroups] = useState(null);\r\n\r\n  //online order counter\r\n  const [onlineCounter, setOnlineCounter] = useState(0);\r\n\r\n  //useEffect- to get data on render\r\n  useEffect(() => {\r\n    if (foodGroupForSearch) {\r\n      let tempItems =\r\n        foodForSearch &&\r\n        foodForSearch.filter((tempItem) => {\r\n          return parseInt(tempItem.food_group_id) === foodGroupForSearch[0].id;\r\n        });\r\n      if (tempItems && tempItems.length > 0) {\r\n        // initial group & item being active here, variations, properties\r\n        setFoodItem({\r\n          foodGroup: foodGroupForSearch[0],\r\n          items: tempItems,\r\n          selectedItem: tempItems[0],\r\n          variations:\r\n            parseInt(tempItems[0].has_variation) === 1\r\n              ? tempItems[0].variations\r\n              : null,\r\n          properties:\r\n            parseInt(tempItems[0].has_property) === 1\r\n              ? tempItems[0].properties\r\n              : null,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (authUserInfo.details) {\r\n      let theBranch =\r\n        branchForSearch &&\r\n        branchForSearch.find((branch) => {\r\n          return parseInt(authUserInfo.details.branch_id) === branch.id;\r\n        });\r\n      setOrderDetails({\r\n        ...orderDetails,\r\n        branch: theBranch !== undefined ? theBranch : null,\r\n      });\r\n\r\n      //set work period\r\n      let theWorkPeriod = null;\r\n      if (theBranch !== undefined && theBranch !== null) {\r\n        theWorkPeriod =\r\n          workPeriodForSearch &&\r\n          workPeriodForSearch.filter((tempWorkPeriod) => {\r\n            return theBranch.id === parseInt(tempWorkPeriod.branch_id);\r\n          });\r\n\r\n        //filter it with ended_at === null;\r\n        theWorkPeriod =\r\n          theWorkPeriod &&\r\n          theWorkPeriod.find((endAtNullItem) => {\r\n            return endAtNullItem.ended_at === null;\r\n          });\r\n      }\r\n      //set work period here\r\n      setNewSettings({\r\n        ...newSettings,\r\n        vat: generalSettings && getSystemSettings(generalSettings, \"type_vat\"),\r\n        workPeriod: theWorkPeriod !== undefined ? theWorkPeriod : null,\r\n      });\r\n    } else {\r\n      // user type admin\r\n      setNewSettings({\r\n        ...newSettings,\r\n        vat: generalSettings && getSystemSettings(generalSettings, \"type_vat\"),\r\n      });\r\n    }\r\n    setOrderDetailusers({\r\n      theCustomers: customerForSearch ? customerForSearch : null,\r\n      theTables: tableForSearch ? tableForSearch : null,\r\n      theWaiters: waiterForSearch ? waiterForSearch : null,\r\n    });\r\n\r\n    //check online orders\r\n    const interval = setInterval(() => {\r\n      const pendingUrl = BASE_URL + \"/website/pending-order\";\r\n      return axios\r\n        .get(pendingUrl, {\r\n          headers: { Authorization: `Bearer ${getCookie()}` },\r\n        })\r\n        .then((res) => {\r\n          if (res.data > 0) {\r\n            setOnlineCounter(res.data);\r\n            let order = document.getElementById(\"myAudioOrder\");\r\n            order.play();\r\n          }\r\n        })\r\n        .catch((err) => { });\r\n    }, 30000);\r\n  }, [authUserInfo, generalSettings, foodForSearch, foodGroupForSearch]);\r\n\r\n  //stock\r\n  const handleGetStock = (id) => {\r\n    if (orderDetails.branch === null) {\r\n      return 0;\r\n    }\r\n    let stock = foodItemStock.find((item) => {\r\n      return (\r\n        parseInt(item.food_id) === parseInt(id) &&\r\n        parseInt(item.branch_id) === orderDetails.branch.id\r\n      );\r\n    });\r\n    if (stock === undefined || stock.qty < 0) {\r\n      return 0;\r\n    }\r\n    return stock.qty;\r\n  };\r\n\r\n  //get already ordered qty\r\n  const handleAlreadyOrderedQty = (id) => {\r\n    let temp = 0;\r\n    if (newOrder) {\r\n      newOrder.map((item) => {\r\n        if (parseInt(item.item.id) === id) {\r\n          temp += parseInt(item.quantity);\r\n        }\r\n      });\r\n    }\r\n    return temp;\r\n  };\r\n\r\n  //add new item to order list\r\n  const handleOrderItem = (tempFoodItem) => {\r\n    // if manage is stock is enable\r\n    if (showManageStock) {\r\n      if (\r\n        handleGetStock(tempFoodItem.id) > handleAlreadyOrderedQty(tempFoodItem.id)\r\n      ) {\r\n        let oldOrderItems = [];\r\n        let newOrderItem = null;\r\n        let tempSelectedVariations = [];\r\n        if (newOrder) {\r\n          newOrder.map((eachOldOrderItem) => {\r\n            //push all old items to new array to setNewOrder\r\n            oldOrderItems.push(eachOldOrderItem);\r\n\r\n            //set selected variations of each order item\r\n            let tempArray = [];\r\n            if (eachOldOrderItem.variation !== null) {\r\n              tempArray.push(eachOldOrderItem.variation.food_with_variation_id);\r\n            } else {\r\n              tempArray.push(null);\r\n            }\r\n            tempSelectedVariations.push(tempArray);\r\n          });\r\n\r\n          //add new order item\r\n          newOrderItem = {\r\n            item: tempFoodItem,\r\n            variation:\r\n              parseInt(tempFoodItem.has_variation) === 1\r\n                ? tempFoodItem.variations[0]\r\n                : null,\r\n            quantity: 1,\r\n          };\r\n\r\n          //set selected variations of new item\r\n          let tempArray = [];\r\n          if (parseInt(tempFoodItem.has_variation) === 1) {\r\n            tempArray.push(tempFoodItem.variations[0].food_with_variation_id);\r\n          } else {\r\n            tempArray.push(null);\r\n          }\r\n          tempSelectedVariations.push(tempArray);\r\n          //push new item to new array to setNewOrder\r\n          oldOrderItems.push(newOrderItem);\r\n        } else {\r\n          //if no item in newOrder List\r\n          setOrderDetails({\r\n            //set token here on first order item add,\r\n            ...orderDetails,\r\n            token: {\r\n              time: new Date().getTime(),\r\n              id: newSettings.workPeriod.token,\r\n            },\r\n          });\r\n          newOrderItem = {\r\n            //add new order item\r\n            item: tempFoodItem,\r\n            variation:\r\n              parseInt(tempFoodItem.has_variation) === 1\r\n                ? tempFoodItem.variations[0]\r\n                : null,\r\n            quantity: 1,\r\n          };\r\n\r\n          //set selected variations of new item\r\n          let tempArray = [];\r\n          if (parseInt(tempFoodItem.has_variation) === 1) {\r\n            tempArray.push(tempFoodItem.variations[0].food_with_variation_id);\r\n          } else {\r\n            tempArray.push(null);\r\n          }\r\n          tempSelectedVariations.push(tempArray);\r\n\r\n          //push new item to new array to setNewOrder\r\n          oldOrderItems.push(newOrderItem);\r\n        }\r\n\r\n        //set new order list with new array of all order items\r\n        setNewOrder(oldOrderItems);\r\n\r\n        //set order list active item index to add class \"actve\"\r\n        setActiveItemInOrder(oldOrderItems.length - 1);\r\n\r\n        //set selected variations\r\n        setSelectedVariation(tempSelectedVariations);\r\n\r\n        //calculate subTotalPrice\r\n        totalPrice(oldOrderItems);\r\n\r\n        //set order unique food groups\r\n        let newSelectedGroup = [];\r\n        oldOrderItems.map((eachOrderGroup) => {\r\n          let theGroup = foodGroupForSearch.find((grpFilter, grpFilterIndex) => {\r\n            return grpFilter.id === parseInt(eachOrderGroup.item.food_group_id);\r\n          });\r\n\r\n          if (!newSelectedGroup.includes(parseInt(theGroup.id))) {\r\n            newSelectedGroup.push(parseInt(theGroup.id));\r\n          }\r\n        });\r\n        let theOrderFoodGroups = [];\r\n        newSelectedGroup.forEach((thisItem, thisItemIndex) => {\r\n          let findThegroup = foodGroupForSearch.find(\r\n            (filterThisGroup, filterThisGroupIndex) => {\r\n              return filterThisGroup.id === thisItem;\r\n            }\r\n          );\r\n          theOrderFoodGroups.push(findThegroup);\r\n        });\r\n\r\n        setOrderFoodGroups(theOrderFoodGroups);\r\n\r\n        //sound\r\n        if (getSystemSettings(generalSettings, \"play_sound\") === \"1\") {\r\n          let beep = document.getElementById(\"myAudio\");\r\n          beep.play();\r\n        }\r\n      }\r\n      else {\r\n        toast.error(`${_t(t(\"Stock Out\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      }\r\n    } else {\r\n      let oldOrderItems = [];\r\n      let newOrderItem = null;\r\n      let tempSelectedVariations = [];\r\n      if (newOrder) {\r\n        newOrder.map((eachOldOrderItem) => {\r\n          //push all old items to new array to setNewOrder\r\n          oldOrderItems.push(eachOldOrderItem);\r\n\r\n          //set selected variations of each order item\r\n          let tempArray = [];\r\n          if (eachOldOrderItem.variation !== null) {\r\n            tempArray.push(eachOldOrderItem.variation.food_with_variation_id);\r\n          } else {\r\n            tempArray.push(null);\r\n          }\r\n          tempSelectedVariations.push(tempArray);\r\n        });\r\n\r\n        //add new order item\r\n        newOrderItem = {\r\n          item: tempFoodItem,\r\n          variation:\r\n            parseInt(tempFoodItem.has_variation) === 1\r\n              ? tempFoodItem.variations[0]\r\n              : null,\r\n          quantity: 1,\r\n        };\r\n\r\n        //set selected variations of new item\r\n        let tempArray = [];\r\n        if (parseInt(tempFoodItem.has_variation) === 1) {\r\n          tempArray.push(tempFoodItem.variations[0].food_with_variation_id);\r\n        } else {\r\n          tempArray.push(null);\r\n        }\r\n        tempSelectedVariations.push(tempArray);\r\n        //push new item to new array to setNewOrder\r\n        oldOrderItems.push(newOrderItem);\r\n      } else {\r\n        //if no item in newOrder List\r\n        setOrderDetails({\r\n          //set token here on first order item add,\r\n          ...orderDetails,\r\n          token: {\r\n            time: new Date().getTime(),\r\n            id: newSettings.workPeriod.token,\r\n          },\r\n        });\r\n        newOrderItem = {\r\n          //add new order item\r\n          item: tempFoodItem,\r\n          variation:\r\n            parseInt(tempFoodItem.has_variation) === 1\r\n              ? tempFoodItem.variations[0]\r\n              : null,\r\n          quantity: 1,\r\n        };\r\n\r\n        //set selected variations of new item\r\n        let tempArray = [];\r\n        if (parseInt(tempFoodItem.has_variation) === 1) {\r\n          tempArray.push(tempFoodItem.variations[0].food_with_variation_id);\r\n        } else {\r\n          tempArray.push(null);\r\n        }\r\n        tempSelectedVariations.push(tempArray);\r\n\r\n        //push new item to new array to setNewOrder\r\n        oldOrderItems.push(newOrderItem);\r\n      }\r\n\r\n      //set new order list with new array of all order items\r\n      setNewOrder(oldOrderItems);\r\n\r\n      //set order list active item index to add class \"actve\"\r\n      setActiveItemInOrder(oldOrderItems.length - 1);\r\n\r\n      //set selected variations\r\n      setSelectedVariation(tempSelectedVariations);\r\n\r\n      //calculate subTotalPrice\r\n      totalPrice(oldOrderItems);\r\n\r\n      //set order unique food groups\r\n      let newSelectedGroup = [];\r\n      oldOrderItems.map((eachOrderGroup) => {\r\n        let theGroup = foodGroupForSearch.find((grpFilter, grpFilterIndex) => {\r\n          return grpFilter.id === parseInt(eachOrderGroup.item.food_group_id);\r\n        });\r\n\r\n        if (!newSelectedGroup.includes(parseInt(theGroup.id))) {\r\n          newSelectedGroup.push(parseInt(theGroup.id));\r\n        }\r\n      });\r\n      let theOrderFoodGroups = [];\r\n      newSelectedGroup.forEach((thisItem, thisItemIndex) => {\r\n        let findThegroup = foodGroupForSearch.find(\r\n          (filterThisGroup, filterThisGroupIndex) => {\r\n            return filterThisGroup.id === thisItem;\r\n          }\r\n        );\r\n        theOrderFoodGroups.push(findThegroup);\r\n      });\r\n\r\n      setOrderFoodGroups(theOrderFoodGroups);\r\n\r\n      //sound\r\n      if (getSystemSettings(generalSettings, \"play_sound\") === \"1\") {\r\n        let beep = document.getElementById(\"myAudio\");\r\n        beep.play();\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  //set order item's variation on change of variation\r\n  const handleOrderItemVariation = (tempFoodItemVariation) => {\r\n    if (activeItemInOrder !== null) {\r\n      if (newOrder) {\r\n        let oldOrderItems = []; //array to push order items\r\n        let newOrderItemTemp = null; //to edit selected item\r\n        let tempSelectedVariations = []; //to set selected variations array for order items\r\n        newOrder.map((newOrderItem, index) => {\r\n          let tempArray = [];\r\n          if (index === activeItemInOrder) {\r\n            //changing variation of selected food item\r\n            newOrderItemTemp = {\r\n              ...newOrderItem,\r\n              variation: tempFoodItemVariation,\r\n            };\r\n            //push updated item to orderlist\r\n            oldOrderItems.push(newOrderItemTemp);\r\n\r\n            //set updated variation for selected variation\r\n            tempArray.push(tempFoodItemVariation.food_with_variation_id);\r\n          } else {\r\n            //set other items as it was which are not selected to edit\r\n            newOrderItemTemp = newOrderItem;\r\n            oldOrderItems.push(newOrderItemTemp);\r\n            if (newOrderItemTemp.variation) {\r\n              //set updated variation for selected variations\r\n              tempArray.push(newOrderItemTemp.variation.food_with_variation_id);\r\n            }\r\n          }\r\n\r\n          //push to the array to set selectedVariations\r\n          tempSelectedVariations.push(tempArray);\r\n        });\r\n        //set variations here\r\n        setSelectedVariation(tempSelectedVariations);\r\n\r\n        //set updated order list\r\n        setNewOrder(oldOrderItems);\r\n\r\n        //calculate subTotalPrice\r\n        totalPrice(oldOrderItems);\r\n      }\r\n    }\r\n  };\r\n\r\n  //to check which variation is selected\r\n  const checkChecked = (variationItem) => {\r\n    //if variationItem.food_with_variation_id of selected item exist in selectedVariation - return true\r\n    if (selectedVariation[activeItemInOrder] !== undefined) {\r\n      if (\r\n        selectedVariation[activeItemInOrder][0] ===\r\n        variationItem.food_with_variation_id\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //delete confirmation modal of item from order list\r\n  const handleDeleteConfirmation = (removeIndex) => {\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className=\"card card-body\">\r\n            <h1>{_t(t(\"Are you sure?\"))}</h1>\r\n            <p className=\"text-center\">{_t(t(\"You want to delete this?\"))}</p>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  handleRemoveItemFromOrderList(removeIndex);\r\n                  onClose();\r\n                }}\r\n              >\r\n                {_t(t(\"Yes, delete it!\"))}\r\n              </button>\r\n              <button className=\"btn btn-success ml-2 px-3\" onClick={onClose}>\r\n                {_t(t(\"No\"))}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      },\r\n    });\r\n  };\r\n\r\n  //remove item from order list\r\n  const handleRemoveItemFromOrderList = (removeIndex) => {\r\n    let oldOrderItems = []; //array to push order items\r\n    newOrder.map((newOrderItem, index) => {\r\n      if (index !== removeIndex) {\r\n        //push item to orderlist\r\n        oldOrderItems.push(newOrderItem);\r\n      }\r\n    });\r\n\r\n    //delete variations here\r\n    let tempSelectedVariations = selectedVariation.filter(\r\n      (selectedVariationItem, variationIndex) => {\r\n        return variationIndex !== removeIndex;\r\n      }\r\n    );\r\n    //delete properties here\r\n    let tempSelectedProperties = selectedProperties.filter(\r\n      (selectedPropertyItem, propertyIndex) => {\r\n        return propertyIndex !== removeIndex;\r\n      }\r\n    );\r\n\r\n    //delete property group here\r\n    let tempSelectedPropertyGroup = selectedPropertyGroup.filter(\r\n      (selectedPropertyGroupItem, propertyGroupIndex) => {\r\n        return propertyGroupIndex !== removeIndex;\r\n      }\r\n    );\r\n\r\n    //set property group here\r\n    setSelectedPropertyGroup(tempSelectedPropertyGroup);\r\n\r\n    //set variations here\r\n    setSelectedVariation(tempSelectedVariations);\r\n\r\n    //set properties here\r\n    setSelectedProperties(tempSelectedProperties);\r\n\r\n    //set updated order list\r\n    setNewOrder(oldOrderItems);\r\n\r\n    //set active item in order list\r\n    setActiveItemInOrder(null);\r\n\r\n    //calculate subTotalPrice\r\n    totalPrice(oldOrderItems);\r\n\r\n    //set order unique food groups\r\n    let newSelectedGroup = [];\r\n    oldOrderItems.map((eachOrderGroup) => {\r\n      let theGroup = foodGroupForSearch.find((grpFilter, grpFilterIndex) => {\r\n        return grpFilter.id === parseInt(eachOrderGroup.item.food_group_id);\r\n      });\r\n\r\n      if (!newSelectedGroup.includes(parseInt(theGroup.id))) {\r\n        newSelectedGroup.push(parseInt(theGroup.id));\r\n      }\r\n    });\r\n    let theOrderFoodGroups = [];\r\n    newSelectedGroup.forEach((thisItem, thisItemIndex) => {\r\n      let findThegroup = foodGroupForSearch.find(\r\n        (filterThisGroup, filterThisGroupIndex) => {\r\n          return filterThisGroup.id === thisItem;\r\n        }\r\n      );\r\n      theOrderFoodGroups.push(findThegroup);\r\n    });\r\n\r\n    setOrderFoodGroups(theOrderFoodGroups);\r\n\r\n    //sound\r\n    if (getSystemSettings(generalSettings, \"play_sound\") === \"1\") {\r\n      let beep = document.getElementById(\"myAudio\");\r\n      beep.play();\r\n    }\r\n  };\r\n\r\n  //handle order item quantity\r\n  const handleOrderItemQty = (action) => {\r\n    if (activeItemInOrder !== null) {\r\n      if (newOrder) {\r\n        let newOrderItemTemp = null; //to edit selected item\r\n        let oldOrderItems = []; //array to push order items\r\n        newOrder.map((newOrderItem, index) => {\r\n          if (index === activeItemInOrder) {\r\n            //update qty here\r\n            if (action === \"+\") {\r\n              // if manage is stock is enable\r\n              if (showManageStock) {\r\n                if (\r\n                  handleGetStock(newOrderItem.item.id) >\r\n                  handleAlreadyOrderedQty(newOrderItem.item.id)\r\n                ) {\r\n                  //increase qty\r\n                  newOrderItemTemp = {\r\n                    ...newOrderItem,\r\n                    quantity: newOrderItem.quantity + 1,\r\n                  };\r\n                } else {\r\n                  newOrderItemTemp = {\r\n                    ...newOrderItem,\r\n                    quantity: newOrderItem.quantity,\r\n                  };\r\n                  toast.error(`${_t(t(\"Reached Stock Limit\"))}`, {\r\n                    position: \"bottom-center\",\r\n                    closeButton: false,\r\n                    autoClose: 10000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    className: \"text-center toast-notification\",\r\n                  });\r\n                }\r\n              } else {\r\n                //increase qty\r\n                newOrderItemTemp = {\r\n                  ...newOrderItem,\r\n                  quantity: newOrderItem.quantity + 1,\r\n                };\r\n              }\r\n\r\n            } else {\r\n              //if qty !==1 decrease\r\n              if (newOrderItem.quantity !== 1) {\r\n                newOrderItemTemp = {\r\n                  ...newOrderItem,\r\n                  quantity: newOrderItem.quantity - 1,\r\n                };\r\n              } else {\r\n                newOrderItemTemp = {\r\n                  ...newOrderItem,\r\n                  quantity: newOrderItem.quantity,\r\n                };\r\n              }\r\n            }\r\n            oldOrderItems.push(newOrderItemTemp);\r\n          } else {\r\n            // set other items as it was which are not selected to edit\r\n            oldOrderItems.push(newOrderItem);\r\n          }\r\n        });\r\n\r\n        //calculate subTotalPrice\r\n        totalPrice(oldOrderItems);\r\n        //set updated order list\r\n        setNewOrder(oldOrderItems);\r\n      }\r\n    }\r\n  };\r\n\r\n  //cancel order confirmation\r\n  const handleCancelConfirmation = () => {\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className=\"card card-body bg-primary text-white\">\r\n            <h1 className=\"text-white\">{_t(t(\"Are you sure?\"))}</h1>\r\n            <p className=\"text-center\">\r\n              {_t(t(\"You want to cancel this order?\"))}\r\n            </p>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <button\r\n                className=\"btn btn-warning text-dark\"\r\n                onClick={() => {\r\n                  handleCancel();\r\n                  onClose();\r\n                }}\r\n              >\r\n                {_t(t(\"Yes!\"))}\r\n              </button>\r\n              <button className=\"btn btn-success ml-2 px-3\" onClick={onClose}>\r\n                {_t(t(\"No\"))}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      },\r\n    });\r\n  };\r\n\r\n  //cancel order\r\n  const handleCancel = () => {\r\n    setLoading(true);\r\n    setNewOrder(null);\r\n    setActiveItemInOrder(null);\r\n    setSelectedVariation([]);\r\n    setSelectedPropertyGroup([]);\r\n    setSelectedProperties([]);\r\n    setTheSubTotal(0);\r\n    setDeptCommission(0);\r\n    setTheVat(0);\r\n    setTotalPaybale(0);\r\n    setReturnMoneyUsd(0);\r\n    setPaidMoney(0);\r\n    setOrderDetails({\r\n      branch: orderDetails.branch,\r\n      customer: null,\r\n      table: null,\r\n      waiter: null,\r\n      dept_tag: null,\r\n      payment_type: null,\r\n      payment_amount: null,\r\n      total_guest: 1,\r\n      newCustomer: false,\r\n      newCustomerInfo: {\r\n        name: \"\",\r\n        number: \"\",\r\n      },\r\n      token: null,\r\n      serviceCharge: 0,\r\n      discount: 0,\r\n    });\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 200);\r\n  };\r\n\r\n  //add properties\r\n  const handleAddProperties = (property) => {\r\n    let propertyItem = {\r\n      item: property,\r\n      quantity: 1,\r\n    };\r\n    if (activeItemInOrder !== null) {\r\n      if (newOrder) {\r\n        let oldOrderItems = []; //array to push order items\r\n        let newOrderItemTemp = null; //to edit selected item\r\n\r\n        let tempSelectedProperties = []; //to set selected properties array for order items\r\n        let tempSelectedPropertyGroup = []; //to set selected property group array for order items properties\r\n\r\n        newOrder.map((newOrderItem, index) => {\r\n          let tempArray = []; //for selected properties\r\n          let tempArrayPropertyGroup = []; //for selected property groups\r\n\r\n          if (index === activeItemInOrder) {\r\n            let tempPropertyArray = []; //for property items\r\n            if (newOrderItem.properties) {\r\n              newOrderItem.properties.map((eachPropertyItem) => {\r\n                tempPropertyArray.push(eachPropertyItem);\r\n                //set updated property for selected variation\r\n                tempArray.push(eachPropertyItem.item.id);\r\n\r\n                //handle selected property group\r\n                tempArrayPropertyGroup.push(\r\n                  parseInt(eachPropertyItem.item.property_group_id)\r\n                );\r\n              });\r\n              tempPropertyArray.push(propertyItem);\r\n              //for selected properties\r\n              tempArray.push(propertyItem.item.id);\r\n              //handle selected property group\r\n              tempArrayPropertyGroup.push(\r\n                parseInt(propertyItem.item.property_group_id)\r\n              );\r\n            } else {\r\n              tempPropertyArray.push(propertyItem);\r\n              //for selected properties\r\n              tempArray.push(propertyItem.item.id);\r\n              //handle selected property group\r\n              tempArrayPropertyGroup.push(\r\n                parseInt(propertyItem.item.property_group_id)\r\n              );\r\n            }\r\n\r\n            //changing properties of selected food item\r\n            newOrderItemTemp = {\r\n              ...newOrderItem,\r\n              properties: tempPropertyArray,\r\n            };\r\n            //push updated item to orderlist\r\n            oldOrderItems.push(newOrderItemTemp);\r\n          } else {\r\n            // set other items as it was which are not selected to edit\r\n            newOrderItemTemp = newOrderItem;\r\n            oldOrderItems.push(newOrderItemTemp);\r\n            if (newOrderItem.properties) {\r\n              newOrderItem.properties.map((eachPropertyItem) => {\r\n                //set updated properties for selected properties\r\n                tempArray.push(eachPropertyItem.item.id);\r\n\r\n                //set updated property groups for selected groups\r\n                tempArrayPropertyGroup.push(\r\n                  parseInt(eachPropertyItem.item.property_group_id)\r\n                );\r\n              });\r\n            }\r\n          }\r\n          //push to the array to set selected properties\r\n          tempSelectedProperties.push(tempArray);\r\n          //push to the array to set selected property groups\r\n          tempSelectedPropertyGroup.push(tempArrayPropertyGroup);\r\n        });\r\n\r\n        //set selected properties here\r\n        setSelectedProperties(tempSelectedProperties);\r\n\r\n        //handle selected property groups\r\n        let newSelectedPropertyGroup = [];\r\n        tempSelectedPropertyGroup.map((eachSelectedGroupArray) => {\r\n          let unique = [...new Set(eachSelectedGroupArray)];\r\n          newSelectedPropertyGroup.push(unique);\r\n        });\r\n        //set selected property groups here\r\n        setSelectedPropertyGroup(newSelectedPropertyGroup);\r\n\r\n        //calculate subTotalPrice\r\n        totalPrice(oldOrderItems);\r\n        //set updated order list\r\n        setNewOrder(oldOrderItems);\r\n      }\r\n    }\r\n  };\r\n\r\n  //remove properties\r\n  const handleRemoveProperties = (propertyItem) => {\r\n    if (activeItemInOrder !== null) {\r\n      if (newOrder) {\r\n        let oldOrderItems = []; //array to push order items\r\n        let newOrderItemTemp = null; //to edit selected item\r\n        let newSelectedProperties = []; //for selected properties\r\n        let allPropertyGroups = []; //for selected property groups\r\n\r\n        newOrder.map((newOrderItem, index) => {\r\n          if (index === activeItemInOrder) {\r\n            let tempPropertyArray = []; //for property items\r\n            if (newOrderItem.properties) {\r\n              newOrderItem.properties.map((eachPropertyItem) => {\r\n                if (eachPropertyItem.item.id !== propertyItem.id) {\r\n                  tempPropertyArray.push(eachPropertyItem);\r\n                }\r\n              });\r\n\r\n              //removing properties from selected properties array\r\n              selectedProperties.map((selectedProperty, propertyIndex) => {\r\n                if (propertyIndex !== activeItemInOrder) {\r\n                  //pushing other order items properties in selected array\r\n                  newSelectedProperties.push(selectedProperty);\r\n                } else {\r\n                  let theProperties = selectedProperty.filter((filterThis) => {\r\n                    return filterThis !== propertyItem.id;\r\n                  });\r\n                  //pushing this order items properties in selected array or [] if not a single property item is selected\r\n                  newSelectedProperties.push(theProperties);\r\n                }\r\n              });\r\n            }\r\n\r\n            //changing properties of selected food item\r\n            newOrderItemTemp = {\r\n              ...newOrderItem,\r\n              properties: tempPropertyArray,\r\n            };\r\n\r\n            //set selected properties here\r\n            setSelectedProperties(newSelectedProperties);\r\n            //push updated item to orderlist\r\n            oldOrderItems.push(newOrderItemTemp);\r\n\r\n            //property group for selected property group array\r\n            selectedPropertyGroup.map((groupItem, groupItemIndex) => {\r\n              if (index === groupItemIndex) {\r\n                let tempGroupArray = []; // for selected group of each order item (index of array wise new array)\r\n                groupItem.map((filterThisItem) => {\r\n                  if (\r\n                    filterThisItem !== parseInt(propertyItem.property_group_id)\r\n                  ) {\r\n                    //push if removable property item's group !== groupItem\r\n                    tempGroupArray.push(filterThisItem);\r\n                  }\r\n                });\r\n\r\n                //push all groups of modified new properties array of this item\r\n                tempPropertyArray.map((pushThis) => {\r\n                  tempGroupArray.push(\r\n                    parseInt(pushThis.item.property_group_id)\r\n                  );\r\n                });\r\n\r\n                //remove duplicate groups\r\n                let unique = [...new Set(tempGroupArray)];\r\n                allPropertyGroups.push(unique);\r\n              } else {\r\n                //keep other selected groups as it was\r\n                allPropertyGroups.push(groupItem);\r\n              }\r\n            });\r\n          } else {\r\n            // set other items as it was which are not selected to edit\r\n            newOrderItemTemp = newOrderItem;\r\n            oldOrderItems.push(newOrderItemTemp);\r\n          }\r\n        });\r\n\r\n        //set new selected property groups\r\n        setSelectedPropertyGroup(allPropertyGroups);\r\n\r\n        //calculate subTotalPrice\r\n        totalPrice(oldOrderItems);\r\n\r\n        //set updated order list\r\n        setNewOrder(oldOrderItems);\r\n      }\r\n    }\r\n  };\r\n\r\n  //to check which property is selected\r\n  const checkCheckedProperties = (propertyItem) => {\r\n    //if property.id of selected item exist in selected properties - return true\r\n    if (selectedProperties[activeItemInOrder] !== undefined) {\r\n      if (selectedProperties[activeItemInOrder].includes(propertyItem.id)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //handle property quantity\r\n  const handlePropertyQty = (propertyItem, action) => {\r\n    if (activeItemInOrder !== null) {\r\n      if (newOrder) {\r\n        let newOrderItemTemp = null; //to edit selected item\r\n        let oldOrderItems = []; //array to push order items\r\n        let tempPropertyItemsArray = []; //for each property items\r\n        newOrder.map((newOrderItem, index) => {\r\n          if (index === activeItemInOrder) {\r\n            //if has property items\r\n            if (newOrderItem.properties) {\r\n              newOrderItem.properties.map((eachPropertyItem) => {\r\n                //loop through the properties to change the specific one's quantity and keep the rest as it was\r\n                if (eachPropertyItem.item.id !== propertyItem.id) {\r\n                  //keep others as it was\r\n                  tempPropertyItemsArray.push(eachPropertyItem);\r\n                } else {\r\n                  //coming here if the specific item's id === selected property item's id\r\n                  let newPropertyItemForQtyUpdate = null;\r\n                  //update qty here\r\n                  if (action === \"+\") {\r\n                    //increase qty\r\n                    newPropertyItemForQtyUpdate = {\r\n                      ...eachPropertyItem,\r\n                      quantity: eachPropertyItem.quantity + 1,\r\n                    };\r\n                    tempPropertyItemsArray.push(newPropertyItemForQtyUpdate);\r\n                  } else {\r\n                    //if qty !==1 decrease\r\n                    if (eachPropertyItem.quantity !== 1) {\r\n                      newPropertyItemForQtyUpdate = {\r\n                        ...eachPropertyItem,\r\n                        quantity: eachPropertyItem.quantity - 1,\r\n                      };\r\n                      tempPropertyItemsArray.push(newPropertyItemForQtyUpdate);\r\n                    } else {\r\n                      tempPropertyItemsArray.push(eachPropertyItem);\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n              //changing properties of selected food item\r\n              newOrderItemTemp = {\r\n                ...newOrderItem,\r\n                properties: tempPropertyItemsArray,\r\n              };\r\n              //push updated item to orderlist\r\n              oldOrderItems.push(newOrderItemTemp);\r\n            } else {\r\n              //push updated item to orderlist\r\n              oldOrderItems.push(newOrderItem);\r\n            }\r\n          } else {\r\n            // set other items as it was which are not selected to edit\r\n            oldOrderItems.push(newOrderItem);\r\n          }\r\n        });\r\n\r\n        //calculate subTotalPrice\r\n        totalPrice(oldOrderItems);\r\n        //set updated order list\r\n        setNewOrder(oldOrderItems);\r\n      }\r\n    }\r\n  };\r\n\r\n  //to check selected property item's quantity\r\n  const checkCheckedPropertyQuantity = (propertyItem) => {\r\n    //if propertyItem.id of selected item exist in selectedProperties - return the quantity of that property item from the order list item\r\n    if (selectedProperties[activeItemInOrder] !== undefined) {\r\n      if (selectedProperties[activeItemInOrder].includes(propertyItem.id)) {\r\n        //get order of activeItemInOrder index\r\n        if (newOrder) {\r\n          if (newOrder[activeItemInOrder] !== undefined) {\r\n            let orderItem = newOrder[activeItemInOrder];\r\n            let theItem = orderItem.properties.find((theItemTemp) => {\r\n              return theItemTemp.item.id === propertyItem.id;\r\n            });\r\n            return theItem.quantity;\r\n          } else {\r\n            return 1;\r\n          }\r\n        } else {\r\n          return 1;\r\n        }\r\n      } else {\r\n        return 1;\r\n      }\r\n    } else {\r\n      return 1;\r\n    }\r\n  };\r\n\r\n  //show price of each item in order list\r\n  const showPriceOfEachOrderItem = (itemIndex) => {\r\n    if (newOrder) {\r\n      let price = 0;\r\n      let orderItem = newOrder[itemIndex];\r\n      //check price * quantity (variation price / item price)\r\n      if (parseInt(orderItem.item.has_variation) === 1) {\r\n        price = parseFloat(orderItem.variation.food_with_variation_price);\r\n      } else {\r\n        price = parseFloat(orderItem.item.price);\r\n      }\r\n\r\n      //calculate total price of properties\r\n      if (orderItem.properties) {\r\n        if (orderItem.properties.length > 0) {\r\n          orderItem.properties.map((getEachItemPrice) => {\r\n            let totalPropertyPrice =\r\n              parseFloat(getEachItemPrice.item.extra_price) *\r\n              getEachItemPrice.quantity;\r\n            price = price + totalPropertyPrice;\r\n          });\r\n        }\r\n      }\r\n\r\n      let formattedPrice = formatPrice(price * orderItem.quantity);\r\n      return formattedPrice;\r\n    }\r\n  };\r\n\r\n  //show price of each item in print\r\n  const showPriceOfEachOrderItemPrint = (itemIndex) => {\r\n    if (newOrder) {\r\n      let price = 0;\r\n      let orderItem = newOrder[itemIndex];\r\n      //check price * quantity (variation price / item price)\r\n      if (parseInt(orderItem.item.has_variation) === 1) {\r\n        price = parseFloat(orderItem.variation.food_with_variation_price);\r\n      } else {\r\n        price = parseFloat(orderItem.item.price);\r\n      }\r\n\r\n      let formattedPrice = formatPrice(price * orderItem.quantity);\r\n      return formattedPrice;\r\n    }\r\n  };\r\n\r\n  //show total price\r\n  const totalPrice = (allOrderItems) => {\r\n    let subTotal = 0;\r\n    allOrderItems.map((orderItem) => {\r\n      let price = 0;\r\n      //check price * quantity (variation price / item price)\r\n      if (parseInt(orderItem.item.has_variation) === 1) {\r\n        price = parseFloat(orderItem.variation.food_with_variation_price);\r\n      } else {\r\n        price = parseFloat(orderItem.item.price);\r\n      }\r\n\r\n      //calculate total price of properties\r\n      if (orderItem.properties) {\r\n        if (orderItem.properties.length > 0) {\r\n          orderItem.properties.map((getEachItemPrice) => {\r\n            let totalPropertyPrice =\r\n              parseFloat(getEachItemPrice.item.extra_price) *\r\n              getEachItemPrice.quantity;\r\n            price = price + totalPropertyPrice;\r\n          });\r\n        }\r\n      }\r\n      subTotal = subTotal + price * orderItem.quantity;\r\n    });\r\n    setTheSubTotal(subTotal);\r\n\r\n    let tempVat = 0;\r\n    if (newSettings) {\r\n      tempVat = (subTotal * parseFloat(newSettings.vat)) / 100;\r\n      setTheVat(tempVat);\r\n    }\r\n\r\n    let tempCommission = 0;\r\n    if (orderDetails && orderDetails.dept_tag) {\r\n      tempCommission =\r\n        (subTotal * parseFloat(orderDetails.dept_tag.commission)) / 100;\r\n      setDeptCommission(tempCommission);\r\n    }\r\n\r\n    let totalPayable = 0;\r\n    let localCurrency = JSON.parse(localStorage.getItem(\"currency\"));\r\n\r\n    let usdServiceCharge;\r\n    let usdDiscount;\r\n    if (getSystemSettings(generalSettings, \"sDiscount\") === \"flat\") {\r\n      usdServiceCharge =\r\n        parseFloat(orderDetails.serviceCharge) / localCurrency.rate;\r\n      usdDiscount = parseFloat(orderDetails.discount) / localCurrency.rate;\r\n    } else {\r\n      usdServiceCharge =\r\n        subTotal * (parseFloat(orderDetails.serviceCharge) / 100);\r\n      usdDiscount = subTotal * (parseFloat(orderDetails.discount) / 100);\r\n    }\r\n\r\n    totalPayable =\r\n      subTotal + tempVat + usdServiceCharge - usdDiscount - tempCommission;\r\n    setTotalPaybale(totalPayable);\r\n\r\n    //calculate paid amount to set return amount\r\n    handleCalculatePaid(orderDetails.payment_amount, orderDetails.payment_type);\r\n  };\r\n\r\n  //search food here\r\n  const handleSearch = (e) => {\r\n    setActiveItemInOrder(null);\r\n    let searchInput = e.target.value.toLowerCase();\r\n    let searchedList = foodForSearch.filter((item) => {\r\n      let lowerCaseItemName = item.name.toLowerCase();\r\n      let lowerCaseItemGroup = item.food_group.toLowerCase();\r\n      return (\r\n        lowerCaseItemName.includes(searchInput) ||\r\n        lowerCaseItemGroup.includes(searchInput)\r\n      );\r\n    });\r\n    setFoodItem({\r\n      foodGroup: null,\r\n      items: searchedList.length > 0 ? searchedList : null,\r\n      selectedItem: null,\r\n      variations: null,\r\n      properties: null,\r\n    });\r\n  };\r\n\r\n  //set order detals additional info here\r\n  //set branch\r\n  const handleSetBranch = (branch) => {\r\n    setLoading(true);\r\n    let tempCustomers =\r\n      customerForSearch !== null &&\r\n      customerForSearch.filter((eachCustomer) => {\r\n        return parseInt(eachCustomer.branch_id) === branch.id;\r\n      });\r\n    let tempTables =\r\n      tableForSearch !== null &&\r\n      tableForSearch.filter((eachTable) => {\r\n        return parseInt(eachTable.branch_id) === branch.id;\r\n      });\r\n    let tempWaiters =\r\n      waiterForSearch !== null &&\r\n      waiterForSearch.filter((eachWaiter) => {\r\n        return parseInt(eachWaiter.branch_id) === branch.id;\r\n      });\r\n    setOrderDetailusers({\r\n      theCustomers: tempCustomers,\r\n      theTables: tempTables,\r\n      theWaiters: tempWaiters,\r\n    });\r\n\r\n    setNewOrder(null);\r\n    setActiveItemInOrder(null);\r\n    setSelectedVariation([]);\r\n    setSelectedPropertyGroup([]);\r\n    setSelectedProperties([]);\r\n    setTheSubTotal(0);\r\n    setTheVat(0);\r\n    setTotalPaybale(0);\r\n    setReturnMoneyUsd(0);\r\n    setPaidMoney(0);\r\n    setOrderDetails({\r\n      branch: branch,\r\n      customer: null,\r\n      table: null,\r\n      waiter: null,\r\n      dept_tag: null,\r\n      payment_type: null,\r\n      payment_amount: null,\r\n      total_guest: 1,\r\n      newCustomer: false,\r\n      newCustomerInfo: {\r\n        name: \"\",\r\n        number: \"\",\r\n      },\r\n      token: null,\r\n      serviceCharge: 0,\r\n      discount: 0,\r\n    });\r\n    // set work period according to branch for admin on branch change\r\n    let theWorkPeriod = null;\r\n    theWorkPeriod =\r\n      workPeriodForSearch &&\r\n      workPeriodForSearch.filter((tempWorkPeriod) => {\r\n        return branch.id === parseInt(tempWorkPeriod.branch_id);\r\n      });\r\n\r\n    theWorkPeriod = theWorkPeriod.find((endAtNullItem) => {\r\n      return endAtNullItem.ended_at === null;\r\n    });\r\n    setNewSettings({\r\n      ...newSettings,\r\n      workPeriod: theWorkPeriod !== undefined ? theWorkPeriod : null,\r\n      vat: newSettings.vat,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 300);\r\n  };\r\n\r\n  //customer\r\n  const handleSetCustomer = (customer) => {\r\n    setOrderDetails({\r\n      ...orderDetails,\r\n      customer,\r\n    });\r\n  };\r\n\r\n  //new Customer\r\n  const handleNewCustomer = (e) => {\r\n    //if name is not there, set new customer === false\r\n    if (e.target.name === \"name\") {\r\n      if (e.target.value.length > 0) {\r\n        setOrderDetails({\r\n          ...orderDetails,\r\n          newCustomer: true,\r\n          newCustomerInfo: {\r\n            ...orderDetails.newCustomerInfo,\r\n            [e.target.name]: e.target.value,\r\n          },\r\n        });\r\n      } else {\r\n        setOrderDetails({\r\n          ...orderDetails,\r\n          newCustomer: false,\r\n          newCustomerInfo: {\r\n            ...orderDetails.newCustomerInfo,\r\n            [e.target.name]: e.target.value,\r\n          },\r\n        });\r\n      }\r\n    } else {\r\n      //set phn number here\r\n      setOrderDetails({\r\n        ...orderDetails,\r\n        newCustomerInfo: {\r\n          ...orderDetails.newCustomerInfo,\r\n          [e.target.name]: e.target.value,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  //  table\r\n  const handleSetTable = (table) => {\r\n    setOrderDetails({\r\n      ...orderDetails,\r\n      table,\r\n    });\r\n  };\r\n\r\n  // waiter\r\n  const handleSetWaiter = (waiter) => {\r\n    setOrderDetails({\r\n      ...orderDetails,\r\n      waiter,\r\n    });\r\n  };\r\n\r\n  // department tag\r\n  const handleSetDeptTag = (dept_tag) => {\r\n    setOrderDetails({\r\n      ...orderDetails,\r\n      dept_tag,\r\n    });\r\n\r\n    let allOrderItems = newOrder;\r\n    if (allOrderItems) {\r\n      let subTotal = 0;\r\n      allOrderItems.map((orderItem) => {\r\n        let price = 0;\r\n        //check price * quantity (variation price / item price)\r\n        if (parseInt(orderItem.item.has_variation) === 1) {\r\n          price = parseFloat(orderItem.variation.food_with_variation_price);\r\n        } else {\r\n          price = parseFloat(orderItem.item.price);\r\n        }\r\n\r\n        //calculate total price of properties\r\n        if (orderItem.properties) {\r\n          if (orderItem.properties.length > 0) {\r\n            orderItem.properties.map((getEachItemPrice) => {\r\n              let totalPropertyPrice =\r\n                parseFloat(getEachItemPrice.item.extra_price) *\r\n                getEachItemPrice.quantity;\r\n              price = price + totalPropertyPrice;\r\n            });\r\n          }\r\n        }\r\n        subTotal = subTotal + price * orderItem.quantity;\r\n      });\r\n      setTheSubTotal(subTotal);\r\n\r\n      let tempVat = 0;\r\n      if (newSettings) {\r\n        tempVat = (subTotal * parseFloat(newSettings.vat)) / 100;\r\n        setTheVat(tempVat);\r\n      }\r\n\r\n      let tempCommission = 0;\r\n      tempCommission = (subTotal * parseFloat(dept_tag.commission)) / 100;\r\n      setDeptCommission(tempCommission);\r\n\r\n      let totalPayable = 0;\r\n      let localCurrency = JSON.parse(localStorage.getItem(\"currency\"));\r\n\r\n      let usdServiceCharge;\r\n      let usdDiscount;\r\n      if (getSystemSettings(generalSettings, \"sDiscount\") === \"flat\") {\r\n        usdServiceCharge =\r\n          parseFloat(orderDetails.serviceCharge) / localCurrency.rate;\r\n        usdDiscount = parseFloat(orderDetails.discount) / localCurrency.rate;\r\n      } else {\r\n        usdServiceCharge =\r\n          subTotal * (parseFloat(orderDetails.serviceCharge) / 100);\r\n        usdDiscount = subTotal * (parseFloat(orderDetails.discount) / 100);\r\n      }\r\n\r\n      totalPayable =\r\n        subTotal + tempVat + usdServiceCharge - usdDiscount - tempCommission;\r\n      setTotalPaybale(totalPayable);\r\n\r\n      //calculate paid amount to set return amount\r\n      handleCalculatePaid(\r\n        orderDetails.payment_amount,\r\n        orderDetails.payment_type\r\n      );\r\n    }\r\n  };\r\n\r\n  //payment type\r\n  const handleSetpaymentType = (payment_type) => {\r\n    setOrderDetails({\r\n      ...orderDetails,\r\n      payment_type,\r\n    });\r\n\r\n    //calculate paid amount to set return amount\r\n    handleCalculatePaid(orderDetails.payment_amount, payment_type);\r\n  };\r\n\r\n  //payment type pos 2\r\n  const handleSetpaymentTypeSingle = (payment_type) => {\r\n    let localCurrency = JSON.parse(localStorage.getItem(\"currency\"));\r\n    let theUsdPaid = paidMoney / localCurrency.rate;\r\n    if (theUsdPaid < totalPayable) {\r\n      setReturnMoneyUsd(0);\r\n      toast.error(\r\n        `${_t(\r\n          t(\"Please enter paid amount atleast equal to the total bill amount\")\r\n        )}`,\r\n        {\r\n          position: \"bottom-center\",\r\n          closeButton: false,\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        }\r\n      );\r\n    } else {\r\n      setOrderDetails({\r\n        ...orderDetails,\r\n        payment_type: [payment_type],\r\n      });\r\n      let theReturnMoney = theUsdPaid - totalPayable;\r\n      setReturnMoneyUsd(theReturnMoney);\r\n    }\r\n  };\r\n\r\n  //payment type amount\r\n  const handlePaymentTypeAmount = (e) => {\r\n    let tempPaymentAmount = {\r\n      ...orderDetails.payment_amount,\r\n      [e.target.name]: e.target.value,\r\n    };\r\n\r\n    setOrderDetails({\r\n      ...orderDetails,\r\n      payment_amount: tempPaymentAmount,\r\n    });\r\n\r\n    //calculate paid amount to set return amount\r\n    handleCalculatePaid(tempPaymentAmount, orderDetails.payment_type);\r\n  };\r\n\r\n  //guest\r\n  const handleTotalGuest = (e) => {\r\n    setOrderDetails({\r\n      ...orderDetails,\r\n      total_guest: e.target.value,\r\n    });\r\n  };\r\n\r\n  //calculate paid amount\r\n  const handleCalculatePaid = (paymentAmount, paymentType) => {\r\n    let paidAmount = 0;\r\n    if (paymentAmount !== null && paymentType !== null) {\r\n      let thePaymentArray = [];\r\n      if (paymentAmount) {\r\n        thePaymentArray = Object.entries(paymentAmount);\r\n      }\r\n      thePaymentArray.map((eachPaymentItem) => {\r\n        let thePaymentType = paymentType.find((paymentTypeItem) => {\r\n          return paymentTypeItem.id === parseInt(eachPaymentItem[0]);\r\n        });\r\n        if (eachPaymentItem[1] !== \"\") {\r\n          if (\r\n            thePaymentType &&\r\n            thePaymentType.id === parseInt(eachPaymentItem[0])\r\n          ) {\r\n            paidAmount = paidAmount + parseFloat(eachPaymentItem[1]);\r\n          }\r\n        }\r\n      });\r\n      let localCurrency = JSON.parse(localStorage.getItem(\"currency\"));\r\n      paidAmount = paidAmount / localCurrency.rate;\r\n      let theReturnMoney = paidAmount - totalPayable;\r\n      setReturnMoneyUsd(theReturnMoney);\r\n    } else {\r\n      setReturnMoneyUsd(0);\r\n    }\r\n    setPaidMoney(paidAmount);\r\n  };\r\n\r\n  //send server req\r\n  const handleSubmitOrder = (e) => {\r\n    e.preventDefault();\r\n    if (newOrder && newOrder.length > 0) {\r\n      if (paidMoney !== 0) {\r\n        toast.error(\r\n          `${_t(\r\n            t(\"Settle order to add payments, or remove payment's amount\")\r\n          )}`,\r\n          {\r\n            position: \"bottom-center\",\r\n            closeButton: false,\r\n            autoClose: 10000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            className: \"text-center toast-notification\",\r\n          }\r\n        );\r\n      } else {\r\n        axiosRequest();\r\n      }\r\n    } else {\r\n      toast.error(`${_t(t(\"Please add items in order list\"))}`, {\r\n        position: \"bottom-center\",\r\n        autoClose: 10000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        className: \"text-center toast-notification\",\r\n      });\r\n    }\r\n  };\r\n\r\n  //axios request for submit\r\n  const axiosRequest = () => {\r\n    let url = BASE_URL + \"/settings/new-order\";\r\n    let localCurrency = JSON.parse(localStorage.getItem(\"currency\"));\r\n    let formData = {\r\n      branch: orderDetails.branch,\r\n      customer: orderDetails.customer,\r\n      table: orderDetails.table,\r\n      waiter: orderDetails.waiter,\r\n      dept_tag: orderDetails.dept_tag,\r\n      payment_type: orderDetails.payment_type,\r\n      payment_amount: orderDetails.payment_amount,\r\n      newCustomer: orderDetails.newCustomer ? 1 : 0,\r\n      newCustomerInfo: orderDetails.newCustomerInfo,\r\n      token: orderDetails.token,\r\n      total_guest: orderDetails.total_guest,\r\n      orderItems: newOrder,\r\n      serviceCharge: orderDetails.serviceCharge,\r\n      discount: orderDetails.discount,\r\n      subTotal: theSubTotal,\r\n      totalPayable: totalPayable,\r\n      paidMoney: paidMoney,\r\n      theVat: theVat,\r\n      dept_commission: deptCommission,\r\n      localCurrency: localCurrency,\r\n      workPeriod: newSettings.workPeriod,\r\n    };\r\n    setLoading(true);\r\n    axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        if (res.data !== \"ended\") {\r\n          getFoodGroup();\r\n          handlePrint();\r\n          setCustomerForSearch(res.data[0][1]);\r\n          setWorkPeriodListForSearch(res.data[1][1]);\r\n          let tempCustomers =\r\n            res.data[0][1] !== null &&\r\n            res.data[0][1].filter((eachCustomer) => {\r\n              return (\r\n                parseInt(eachCustomer.branch_id) === orderDetails.branch.id\r\n              );\r\n            });\r\n          setOrderDetailusers({\r\n            ...orderDetailUsers,\r\n            theCustomers: tempCustomers,\r\n          });\r\n\r\n          //set work period\r\n          let theWorkPeriod = null;\r\n          if (\r\n            orderDetails.branch !== undefined &&\r\n            orderDetails.branch !== null\r\n          ) {\r\n            theWorkPeriod =\r\n              res.data[1][1] &&\r\n              res.data[1][1].filter((tempWorkPeriod) => {\r\n                return (\r\n                  orderDetails.branch.id === parseInt(tempWorkPeriod.branch_id)\r\n                );\r\n              });\r\n\r\n            //filter it with ended_at === null;\r\n            theWorkPeriod =\r\n              theWorkPeriod &&\r\n              theWorkPeriod.find((endAtNullItem) => {\r\n                return endAtNullItem.ended_at === null;\r\n              });\r\n          }\r\n          //set work period here\r\n          setNewSettings({\r\n            ...newSettings,\r\n            vat:\r\n              generalSettings && getSystemSettings(generalSettings, \"type_vat\"),\r\n            workPeriod: theWorkPeriod !== undefined ? theWorkPeriod : null,\r\n          });\r\n\r\n          setLoading(false);\r\n        } else {\r\n          setLoading(false);\r\n          toast.error(`${_t(t(\"Please restart the work period\"))}`, {\r\n            position: \"bottom-center\",\r\n            autoClose: 10000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            className: \"text-center toast-notification\",\r\n          });\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        toast.error(`${_t(t(\"Please try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //settle button\r\n  const handleSettleOrderButton = (e) => {\r\n    if (newOrder && newOrder.length > 0) {\r\n      if (orderDetails && orderDetails.dept_tag !== null) {\r\n        setShowSettle(true);\r\n      } else {\r\n        toast.error(`${_t(t(\"Please select a department tag\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      }\r\n    } else {\r\n      toast.error(`${_t(t(\"Please add items in order first\"))}`, {\r\n        position: \"bottom-center\",\r\n        autoClose: 10000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        className: \"text-center toast-notification\",\r\n      });\r\n    }\r\n  };\r\n\r\n  //handle settle order\r\n  const handleSettleOrder = (e) => {\r\n    e.preventDefault();\r\n    if (newOrder && newOrder.length > 0) {\r\n      if (paidMoney < totalPayable) {\r\n        toast.error(\r\n          `${_t(\r\n            t(\"Please enter paid amount atleast equal to the total bill amount\")\r\n          )}`,\r\n          {\r\n            position: \"bottom-center\",\r\n            closeButton: false,\r\n            autoClose: 10000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            className: \"text-center toast-notification\",\r\n          }\r\n        );\r\n      } else {\r\n        axiosRequestForSettle();\r\n      }\r\n    } else {\r\n      toast.error(`${_t(t(\"Please add items in order list\"))}`, {\r\n        position: \"bottom-center\",\r\n        closeButton: false,\r\n        autoClose: 10000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        className: \"text-center toast-notification\",\r\n      });\r\n    }\r\n  };\r\n\r\n  //axios request for settlement\r\n  const axiosRequestForSettle = () => {\r\n    let url = BASE_URL + \"/settings/settle-order\";\r\n    let localCurrency = JSON.parse(localStorage.getItem(\"currency\"));\r\n    let formData = {\r\n      branch: orderDetails.branch,\r\n      customer: orderDetails.customer,\r\n      table: orderDetails.table,\r\n      waiter: orderDetails.waiter,\r\n      dept_tag: orderDetails.dept_tag,\r\n      payment_type: orderDetails.payment_type,\r\n      payment_amount: orderDetails.payment_amount,\r\n      newCustomer: orderDetails.newCustomer ? 1 : 0,\r\n      newCustomerInfo: orderDetails.newCustomerInfo,\r\n      token: orderDetails.token,\r\n      total_guest: orderDetails.total_guest,\r\n      orderItems: newOrder,\r\n      serviceCharge: orderDetails.serviceCharge,\r\n      discount: orderDetails.discount,\r\n      subTotal: theSubTotal,\r\n      totalPayable: totalPayable,\r\n      paidMoney: paidMoney,\r\n      theVat: theVat,\r\n      dept_commission: deptCommission,\r\n      localCurrency: localCurrency,\r\n      workPeriod: newSettings.workPeriod,\r\n    };\r\n    setLoading(true);\r\n    axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        if (res.data !== \"ended\") {\r\n          if (res.data !== \"paymentIssue\") {\r\n            getFoodGroup();\r\n            handlePrint();\r\n            setCustomerForSearch(res.data[0][1]);\r\n            setWorkPeriodListForSearch(res.data[1][1]);\r\n            let tempCustomers =\r\n              res.data[0][1] !== null &&\r\n              res.data[0][1].filter((eachCustomer) => {\r\n                return (\r\n                  parseInt(eachCustomer.branch_id) === orderDetails.branch.id\r\n                );\r\n              });\r\n            setOrderDetailusers({\r\n              ...orderDetailUsers,\r\n              theCustomers: tempCustomers,\r\n            });\r\n            //set work period\r\n            let theWorkPeriod = null;\r\n            if (\r\n              orderDetails.branch !== undefined &&\r\n              orderDetails.branch !== null\r\n            ) {\r\n              theWorkPeriod =\r\n                res.data[1][1] &&\r\n                res.data[1][1].filter((tempWorkPeriod) => {\r\n                  return (\r\n                    orderDetails.branch.id ===\r\n                    parseInt(tempWorkPeriod.branch_id)\r\n                  );\r\n                });\r\n\r\n              //filter it with ended_at === null;\r\n              theWorkPeriod =\r\n                theWorkPeriod &&\r\n                theWorkPeriod.find((endAtNullItem) => {\r\n                  return endAtNullItem.ended_at === null;\r\n                });\r\n            }\r\n            //set work period here\r\n            setNewSettings({\r\n              ...newSettings,\r\n              vat:\r\n                generalSettings &&\r\n                getSystemSettings(generalSettings, \"type_vat\"),\r\n              workPeriod: theWorkPeriod !== undefined ? theWorkPeriod : null,\r\n            });\r\n          } else {\r\n            setLoading(false);\r\n            toast.error(\r\n              `${_t(\r\n                t(\r\n                  \"Please enter paid amount atleast equal to the total bill amount\"\r\n                )\r\n              )}`,\r\n              {\r\n                position: \"bottom-center\",\r\n                closeButton: false,\r\n                autoClose: 10000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                className: \"text-center toast-notification\",\r\n              }\r\n            );\r\n          }\r\n        } else {\r\n          setLoading(false);\r\n          toast.error(`${_t(t(\"Please restart the work period\"))}`, {\r\n            position: \"bottom-center\",\r\n            closeButton: false,\r\n            autoClose: 10000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            className: \"text-center toast-notification\",\r\n          });\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        toast.error(`${_t(t(\"Please try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          closeButton: false,\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //print bills\r\n  const componentRef = useRef();\r\n  const component2Ref = useRef();\r\n\r\n  // only print bill\r\n  //for pos manager\r\n  const handleOnlyPrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n    onAfterPrint: () => {\r\n      if (getSystemSettings(generalSettings, \"print_kitchen_bill\") === \"1\") {\r\n        handleOnlyPrint2();\r\n      }\r\n    },\r\n  });\r\n\r\n  //for kithcen\r\n  const handleOnlyPrint2 = useReactToPrint({\r\n    content: () => component2Ref.current,\r\n  });\r\n\r\n  //after order submit or settle\r\n  //for pos manager\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n    onAfterPrint: () => {\r\n      if (getSystemSettings(generalSettings, \"print_kitchen_bill\") === \"1\") {\r\n        handlePrint2();\r\n      } else {\r\n        handleOrderSubmitSuccessful();\r\n      }\r\n    },\r\n  });\r\n\r\n  //for kithcen\r\n  const handlePrint2 = useReactToPrint({\r\n    content: () => component2Ref.current,\r\n    onAfterPrint: () => {\r\n      handleOrderSubmitSuccessful();\r\n    },\r\n  });\r\n\r\n  //call after successful order submit and settle\r\n  const handleOrderSubmitSuccessful = () => {\r\n    setNewOrder(null);\r\n    setActiveItemInOrder(null);\r\n    setSelectedVariation([]);\r\n    setSelectedPropertyGroup([]);\r\n    setSelectedProperties([]);\r\n    setTheSubTotal(0);\r\n    setTheVat(0);\r\n    setTotalPaybale(0);\r\n    setReturnMoneyUsd(0);\r\n    setPaidMoney(0);\r\n    setOrderDetails({\r\n      branch: orderDetails.branch,\r\n      customer: null,\r\n      table: null,\r\n      waiter: null,\r\n      dept_tag: null,\r\n      payment_type: null,\r\n      payment_amount: null,\r\n      total_guest: 1,\r\n      newCustomer: false,\r\n      newCustomerInfo: {\r\n        name: \"\",\r\n        number: \"\",\r\n      },\r\n      token: null,\r\n      serviceCharge: 0,\r\n      discount: 0,\r\n    });\r\n    toast.success(`${_t(t(\"Order has been taken\"))}`, {\r\n      position: \"bottom-center\",\r\n      closeButton: false,\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      className: \"text-center toast-notification\",\r\n    });\r\n\r\n    setShowSettle(false);\r\n\r\n    setLoading(false);\r\n    //sound\r\n    if (getSystemSettings(generalSettings, \"play_sound\") === \"1\") {\r\n      let beep = document.getElementById(\"myAudio\");\r\n      beep.play();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"POS\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* beep sound */}\r\n      <audio id=\"myAudio\">\r\n        <source src=\"/assets/beep/beep.mp3\" type=\"audio/mpeg\" />\r\n      </audio>\r\n\r\n      <audio id=\"myAudioOrder\">\r\n        <source src=\"/assets/beep/order.mp3\" type=\"audio/mpeg\" />\r\n      </audio>\r\n\r\n      {/* Print bill */}\r\n      <div className=\"d-none\">\r\n        <div ref={componentRef}>\r\n          {newOrder && (\r\n            <div className=\"fk-print\">\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <span className=\"d-block fk-print-text font-weight-bold text-uppercase text-center sm-text\">\r\n                      {getSystemSettings(generalSettings, \"siteName\")}\r\n                      {\",\"}\r\n                      {orderDetails &&\r\n                        orderDetails.branch !== null &&\r\n                        orderDetails.branch.name}\r\n                    </span>\r\n                    <p className=\"mb-0 sm-text fk-print-text text-center text-capitalize\">\r\n                      {orderDetails &&\r\n                        orderDetails.branch !== null &&\r\n                        orderDetails.branch.address}\r\n                    </p>\r\n                    <p className=\"mb-0 sm-text fk-print-text text-center text-capitalize\">\r\n                      {_t(t(\"call\"))}:{\" \"}\r\n                      {orderDetails &&\r\n                        orderDetails.branch !== null &&\r\n                        orderDetails.branch.phn_no\r\n                        ? orderDetails.branch.phn_no\r\n                        : \"\"}\r\n                    </p>\r\n                    <p className=\"mb-0 sm-text fk-print-text text-center text-capitalize\">\r\n                      {getSystemSettings(generalSettings, \"type_print_heading\")}\r\n                    </p>\r\n                    <span className=\"d-block fk-print-text text-uppercase text-center lg-text myBorderTopCustomer\">\r\n                      {_t(t(\"Token No\"))}-\r\n                      {orderDetails && orderDetails.token.id}\r\n                    </span>\r\n                    <p className=\"mb-0 fk-print-text text-capitalize lg-text\">\r\n                      {orderDetails &&\r\n                        orderDetails.dept_tag &&\r\n                        orderDetails.dept_tag.name}\r\n                    </p>\r\n                    <p className=\"mb-0 mt-0 sm-text fk-print-text text-capitalize text-center\">\r\n                      {_t(t(\"Customer Copy\"))}\r\n                    </p>\r\n                    {/* <p className=\"mb-0 xsm-text fk-print-text text-capitalize\">\r\n                      {_t(t(\"Vat reg\"))}: {_t(t(\"Applied\"))}\r\n                    </p> */}\r\n                    <p className=\"mb-0 xsm-text fk-print-text text-capitalize\">\r\n                      {_t(t(\"date\"))}: <Moment format=\"LL\">{new Date()}</Moment>\r\n                      {\", \"}\r\n                      {orderDetails && (\r\n                        <Moment format=\"LT\">{orderDetails.token.time}</Moment>\r\n                      )}\r\n                    </p>\r\n                    <p className=\"mb-0 xsm-text fk-print-text text-capitalize\">\r\n                      {_t(t(\"Total guests\"))}:{\" \"}\r\n                      {orderDetails && orderDetails.total_guest}\r\n                    </p>\r\n\r\n                    {orderDetails && orderDetails.waiter !== null ? (\r\n                      <p className=\"mb-0 xsm-text fk-print-text text-capitalize\">\r\n                        {_t(t(\"waiter name\"))}: {orderDetails.waiter.name}\r\n                      </p>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n\r\n                    <p className=\"mb-0 sm-text fk-print-text text-capitalize lg-text\">\r\n                      PAID\r\n                    </p>\r\n\r\n                    <table className=\"table mb-0 table-borderless akash-table-for-print-padding\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th\r\n                            scope=\"col\"\r\n                            className=\"fk-print-text xsm-text text-capitalize\"\r\n                          >\r\n                            {_t(t(\"qty\"))} {_t(t(\"item\"))}\r\n                          </th>\r\n                          <th\r\n                            scope=\"col\"\r\n                            className=\"fk-print-text xsm-text text-capitalize text-right\"\r\n                          >\r\n                            {_t(t(\"T\"))}.{_t(t(\"price\"))}\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {newOrder.map((printItem, printItemIndex) => {\r\n                          return (\r\n                            <tr>\r\n                              <td className=\"fk-print-text xsm-text text-capitalize\">\r\n                                <div className=\"d-flex flex-wrap\">\r\n                                  <span className=\"d-inline-block xsm-text\">\r\n                                    -{printItem.quantity} {printItem.item.name}\r\n                                    {parseInt(printItem.item.has_variation) ===\r\n                                      1 &&\r\n                                      printItem.variation &&\r\n                                      \"(\" +\r\n                                      printItem.variation.variation_name +\r\n                                      \")\"}\r\n                                  </span>\r\n                                </div>\r\n\r\n                                {/* properties */}\r\n                                {printItem.properties &&\r\n                                  printItem.properties.length > 0 &&\r\n                                  selectedPropertyGroup[printItemIndex] !==\r\n                                  undefined &&\r\n                                  selectedPropertyGroup[printItemIndex].map(\r\n                                    (thisIsGroup) => {\r\n                                      let theGroup =\r\n                                        propertyGroupForSearch &&\r\n                                        propertyGroupForSearch.find(\r\n                                          (theItem) => {\r\n                                            return theItem.id === thisIsGroup;\r\n                                          }\r\n                                        );\r\n                                      return (\r\n                                        <div className=\"d-block\">\r\n                                          {printItem.properties.map(\r\n                                            (propertyName, propertyIndex) => {\r\n                                              if (\r\n                                                parseInt(\r\n                                                  propertyName.item\r\n                                                    .property_group_id\r\n                                                ) === theGroup.id\r\n                                              ) {\r\n                                                return (\r\n                                                  <span className=\"text-capitalize xsm-text d-inline-block mr-1\">\r\n                                                    -{printItem.quantity}\r\n                                                    {propertyName.quantity > 1\r\n                                                      ? \"*\" +\r\n                                                      propertyName.quantity\r\n                                                      : \"\"}{\" \"}\r\n                                                    {propertyName.item.name}\r\n                                                    <br />\r\n                                                  </span>\r\n                                                );\r\n                                              } else {\r\n                                                return true;\r\n                                              }\r\n                                            }\r\n                                          )}\r\n                                        </div>\r\n                                      );\r\n                                    }\r\n                                  )}\r\n                              </td>\r\n                              <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                <div className=\"d-block xsm-text\">\r\n                                  {showPriceOfEachOrderItemPrint(\r\n                                    printItemIndex\r\n                                  )}\r\n                                </div>\r\n\r\n                                {printItem.properties &&\r\n                                  printItem.properties.length > 0 &&\r\n                                  selectedPropertyGroup[printItemIndex] !==\r\n                                  undefined &&\r\n                                  selectedPropertyGroup[printItemIndex].map(\r\n                                    (\r\n                                      thisIsGroup,\r\n                                      thisIsGroupPaddingTopIndex\r\n                                    ) => {\r\n                                      let theGroup =\r\n                                        propertyGroupForSearch &&\r\n                                        propertyGroupForSearch.find(\r\n                                          (theItem) => {\r\n                                            return theItem.id === thisIsGroup;\r\n                                          }\r\n                                        );\r\n                                      return (\r\n                                        <div\r\n                                          className=\"d-block\"\r\n                                          className={`text-capitalize xsm-text ${thisIsGroupPaddingTopIndex === 0\r\n                                            ? [\r\n                                              parseInt(\r\n                                                printItem.item.has_variation\r\n                                              ) === 1\r\n                                                ? [\r\n                                                  printItem.properties &&\r\n                                                    printItem.properties\r\n                                                      .length > 0\r\n                                                    ? \"addonPadding35\"\r\n                                                    : \"addonPadding24\",\r\n                                                ]\r\n                                                : [\r\n                                                  printItem.properties &&\r\n                                                    printItem.properties\r\n                                                      .length > 0\r\n                                                    ? \"addonPadding24\"\r\n                                                    : \"\",\r\n                                                ],\r\n                                            ]\r\n                                            : \"\"\r\n                                            }`}\r\n                                        >\r\n                                          {printItem.properties.map(\r\n                                            (propertyName, propertyIndex) => {\r\n                                              if (\r\n                                                parseInt(\r\n                                                  propertyName.item\r\n                                                    .property_group_id\r\n                                                ) === theGroup.id\r\n                                              ) {\r\n                                                return (\r\n                                                  <span>\r\n                                                    {formatPrice(\r\n                                                      printItem.quantity *\r\n                                                      propertyName.quantity *\r\n                                                      propertyName.item\r\n                                                        .extra_price\r\n                                                    )}\r\n                                                    <br />\r\n                                                  </span>\r\n                                                );\r\n                                              } else {\r\n                                                return true;\r\n                                              }\r\n                                            }\r\n                                          )}\r\n                                        </div>\r\n                                      );\r\n                                    }\r\n                                  )}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                    <div className=\"myBorder\"></div>\r\n                    <table className=\"table mb-0 table-borderless\">\r\n                      <tbody>\r\n                        <tr>\r\n                          <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                            <span className=\"d-block\">{_t(t(\"total\"))}</span>\r\n                          </th>\r\n                          <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                            {formatPrice(theSubTotal)}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    {theVat > 0 && (\r\n                      <table className=\"table mb-0 table-borderless\">\r\n                        <tbody>\r\n                          {getSystemSettings(generalSettings, \"vat_system\") ===\r\n                            \"igst\" ? (\r\n                            <tr>\r\n                              <th className=\"fk-print-text xsm-text\">\r\n                                <span className=\"d-block xsm-text\">\r\n                                  VAT({newSettings !== null && newSettings.vat}\r\n                                  %)\r\n                                </span>\r\n                              </th>\r\n                              <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                {formatPrice(theVat)}\r\n                              </td>\r\n                            </tr>\r\n                          ) : getSystemSettings(generalSettings, \"vat_system\") ===\r\n                            \"cgst\" ? (\r\n                            <>\r\n                              <tr>\r\n                                <th className=\"fk-print-text xsm-text\">\r\n                                  <span className=\"d-block xsm-text\">\r\n                                    CGST(\r\n                                    {getSystemSettings(generalSettings, \"cgst\")}\r\n                                    %)\r\n                                  </span>\r\n                                </th>\r\n                                <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                  {formatPrice(\r\n                                    theSubTotal *\r\n                                    (parseFloat(\r\n                                      getSystemSettings(\r\n                                        generalSettings,\r\n                                        \"cgst\"\r\n                                      )\r\n                                    ) /\r\n                                      100)\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                              <tr>\r\n                                <th className=\"fk-print-text xsm-text\">\r\n                                  <span className=\"d-block xsm-text\">\r\n                                    SGST(\r\n                                    {getSystemSettings(generalSettings, \"sgst\")}\r\n                                    %)\r\n                                  </span>\r\n                                </th>\r\n                                <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                  {formatPrice(\r\n                                    theSubTotal *\r\n                                    (parseFloat(\r\n                                      getSystemSettings(\r\n                                        generalSettings,\r\n                                        \"sgst\"\r\n                                      )\r\n                                    ) /\r\n                                      100)\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            </>\r\n                          ) : (\r\n                            <tr>\r\n                              <th className=\"fk-print-text xsm-text\">\r\n                                <span className=\"d-block xsm-text\">\r\n                                  TAX({newSettings !== null && newSettings.tax}\r\n                                  %)\r\n                                </span>\r\n                              </th>\r\n                              <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                {formatPrice(theVat)}\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </table>\r\n                    )}\r\n\r\n                    {getSystemSettings(generalSettings, \"sDiscount\") ===\r\n                      \"flat\" && (\r\n                        <>\r\n                          {orderDetails.serviceCharge > 0 && (\r\n                            <table className=\"table mb-0 table-borderless\">\r\n                              <tbody>\r\n                                <tr>\r\n                                  <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                                    <span className=\"d-block\">\r\n                                      {_t(t(\"S.Charge\"))}\r\n                                    </span>\r\n                                  </th>\r\n\r\n                                  {orderDetails && (\r\n                                    <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                      {formatPrice(orderDetails.serviceCharge)}\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          )}\r\n\r\n                          {orderDetails.discount > 0 && (\r\n                            <table className=\"table mb-0 table-borderless\">\r\n                              <tbody>\r\n                                <tr>\r\n                                  <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                                    <span className=\"d-block\">\r\n                                      {_t(t(\"discount\"))}\r\n                                    </span>\r\n                                  </th>\r\n                                  {orderDetails && (\r\n                                    <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                      {formatPrice(orderDetails.discount)}\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          )}\r\n                        </>\r\n                      )}\r\n\r\n                    {getSystemSettings(generalSettings, \"sDiscount\") ===\r\n                      \"percentage\" && (\r\n                        <>\r\n                          {orderDetails.serviceCharge > 0 && (\r\n                            <table className=\"table mb-0 table-borderless\">\r\n                              <tbody>\r\n                                <tr>\r\n                                  <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                                    <span className=\"d-block\">\r\n                                      {_t(t(\"S.Charge\"))}\r\n                                      {orderDetails &&\r\n                                        \"(\" + orderDetails.serviceCharge + \"%)\"}\r\n                                    </span>\r\n                                  </th>\r\n\r\n                                  {orderDetails && (\r\n                                    <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                      {formatPrice(\r\n                                        theSubTotal *\r\n                                        (orderDetails.serviceCharge / 100)\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          )}\r\n\r\n                          {orderDetails.discount > 0 && (\r\n                            <table className=\"table mb-0 table-borderless\">\r\n                              <tbody>\r\n                                <tr>\r\n                                  <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                                    <span className=\"d-block\">\r\n                                      {_t(t(\"discount\"))}\r\n                                      {orderDetails &&\r\n                                        \"(\" + orderDetails.discount + \"%)\"}\r\n                                    </span>\r\n                                  </th>\r\n                                  {orderDetails && (\r\n                                    <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                                      {formatPrice(\r\n                                        theSubTotal *\r\n                                        (orderDetails.discount / 100)\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          )}\r\n                        </>\r\n                      )}\r\n\r\n                    <div className=\"myBorder\"></div>\r\n                    <table className=\"table mb-0 table-borderless\">\r\n                      <tbody>\r\n                        <tr>\r\n                          <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                            <span className=\"d-block\">\r\n                              {_t(t(\"grand total\"))}\r\n                            </span>\r\n                          </th>\r\n                          <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                            {formatPrice(totalPayable)}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th className=\"fk-print-text xsm-text text-capitalize\">\r\n                            <span className=\"d-block\">\r\n                              {_t(t(\"Return Amount\"))}\r\n                            </span>\r\n                          </th>\r\n                          <td className=\"fk-print-text xsm-text text-capitalize text-right\">\r\n                            {formatPrice(returnMoneyUsd)}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    <div className=\"myBorder\"></div>\r\n                    <p className=\"mb-0 xsm-text fk-print-text text-center text-capitalize\">\r\n                      {getSystemSettings(generalSettings, \"type_print_footer\")}\r\n                    </p>\r\n                    <p className=\"mb-0 xsm-text fk-print-text text-capitalize text-center\">\r\n                      {_t(t(\"bill prepared by\"))}:{\" \"}\r\n                      {authUserInfo &&\r\n                        authUserInfo.details &&\r\n                        authUserInfo.details.name}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Print bill kitchen */}\r\n      <div className=\"d-none\">\r\n        <div ref={component2Ref}>\r\n          {newOrder && (\r\n            <div className=\"fk-print\">\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <span className=\"d-block fk-print-text fk-print-text--bold text-uppercase text-center lg-text\">\r\n                      {_t(t(\"Token No\"))}-\r\n                      {orderDetails && orderDetails.token.id}\r\n                    </span>\r\n                    <p className=\"mb-0 fk-print-text text-capitalize lg-text fk-print-text--bold\">\r\n                      {orderDetails &&\r\n                        orderDetails.dept_tag &&\r\n                        orderDetails.dept_tag.name}\r\n                    </p>\r\n                    <p className=\"mb-0 mt-0 fk-print-text text-capitalize text-center\">\r\n                      {_t(t(\"kitchen orders\"))}\r\n                    </p>\r\n\r\n                    <table className=\"table mb-0 table-borderless\">\r\n                      <tbody>\r\n                        {orderFoodGroups &&\r\n                          orderFoodGroups.map((theGrp, grpIndex) => {\r\n                            return (\r\n                              <>\r\n                                <tr>\r\n                                  <td className=\"text-center\">\r\n                                    <div\r\n                                      className={`${grpIndex === 0\r\n                                        ? \"myBorder\"\r\n                                        : \"myBorderBottom\"\r\n                                        } lg-text fk-print-text--bold fk-print-text`}\r\n                                    >\r\n                                      {theGrp.name}\r\n                                    </div>\r\n                                  </td>\r\n                                </tr>\r\n\r\n                                {newOrder.map((printItem, printItemIndex) => {\r\n                                  if (\r\n                                    theGrp.id ===\r\n                                    parseInt(printItem.item.food_group_id)\r\n                                  ) {\r\n                                    return (\r\n                                      <>\r\n                                        <tr className=\"myBorderBottom\">\r\n                                          <th className=\"fk-print-text text-capitalize\">\r\n                                            <div className=\"d-flex flex-wrap\">\r\n                                              <span className=\"d-inline-block lg-text fk-print-text--bold fk-print-text\">\r\n                                                {printItem.item.name}\r\n                                              </span>\r\n                                              {parseInt(\r\n                                                printItem.item.has_variation\r\n                                              ) === 1 &&\r\n                                                printItem.variation && (\r\n                                                  <span className=\"d-inline-block lg-text fk-print-text--bold fk-print-text\">\r\n                                                    (\r\n                                                    {\r\n                                                      printItem.variation\r\n                                                        .variation_name\r\n                                                    }\r\n                                                    )\r\n                                                  </span>\r\n                                                )}\r\n                                              :-{printItem.quantity}\r\n                                            </div>\r\n\r\n                                            {/* properties */}\r\n                                            {printItem.properties &&\r\n                                              printItem.properties.length > 0 &&\r\n                                              selectedPropertyGroup[\r\n                                              printItemIndex\r\n                                              ] !== undefined &&\r\n                                              selectedPropertyGroup[\r\n                                                printItemIndex\r\n                                              ].map((thisIsGroup) => {\r\n                                                let theGroup =\r\n                                                  propertyGroupForSearch &&\r\n                                                  propertyGroupForSearch.find(\r\n                                                    (theItem) => {\r\n                                                      return (\r\n                                                        theItem.id ===\r\n                                                        thisIsGroup\r\n                                                      );\r\n                                                    }\r\n                                                  );\r\n                                                return (\r\n                                                  <div className=\"d-flex flex-wrap\">\r\n                                                    {printItem.properties.map(\r\n                                                      (\r\n                                                        propertyName,\r\n                                                        propertyIndex\r\n                                                      ) => {\r\n                                                        if (\r\n                                                          parseInt(\r\n                                                            propertyName.item\r\n                                                              .property_group_id\r\n                                                          ) === theGroup.id\r\n                                                        ) {\r\n                                                          return (\r\n                                                            <span className=\"text-capitalize d-inline-block mr-1 fk-print-text lg-text fk-print-text--bold\">\r\n                                                              {\r\n                                                                propertyName\r\n                                                                  .item.name\r\n                                                              }{\" \"}\r\n                                                              <span>\r\n                                                                {\" \"}\r\n                                                                {propertyName.quantity >\r\n                                                                  1 &&\r\n                                                                  \"(\" +\r\n                                                                  propertyName.quantity +\r\n                                                                  \")\"}\r\n                                                              </span>\r\n                                                              {printItem\r\n                                                                .properties\r\n                                                                .length -\r\n                                                                1 !==\r\n                                                                propertyIndex &&\r\n                                                                \",\"}\r\n                                                            </span>\r\n                                                          );\r\n                                                        } else {\r\n                                                          return true;\r\n                                                        }\r\n                                                      }\r\n                                                    )}\r\n                                                  </div>\r\n                                                );\r\n                                              })}\r\n                                          </th>\r\n                                        </tr>\r\n                                      </>\r\n                                    );\r\n                                  }\r\n                                })}\r\n                              </>\r\n                            );\r\n                          })}\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    <div className=\"\">\r\n                      <p className=\"mb-0 xsm-text fk-print-text text-capitalize lg-text fk-print-text--bold\">\r\n                        {_t(t(\"date\"))}:{\" \"}\r\n                        <Moment format=\"LL\">{new Date()}</Moment>\r\n                      </p>\r\n                      <p className=\"mb-0 xsm-text fk-print-text text-capitalize lg-text fk-print-text--bold\">\r\n                        {_t(t(\"Time\"))}:\r\n                        {orderDetails && (\r\n                          <Moment format=\"LT\">{orderDetails.token.time}</Moment>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Menu Addons  */}\r\n      <div className=\"modal fade\" id=\"menuAddons\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-fullscreen\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header align-items-start\">\r\n              <div className=\"fk-sm-card__content\">\r\n                <h5 className=\"text-capitalize fk-sm-card__title\">\r\n                  {foodItem.selectedItem !== null && foodItem.selectedItem.name}\r\n                </h5>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              {/* Variations */}\r\n              <div className=\"fk-sm-card__container\">\r\n                <div className=\"fk-sm-card__content\">\r\n                  <h6 className=\"text-capitalize fk-sm-card__title t-mb-5\">\r\n                    {_t(t(\"Variations\"))}\r\n                  </h6>\r\n                </div>\r\n                {foodItem.variations && (\r\n                  <span className=\"text-capitalize xxsm-text fk-badge fk-badge--secondary\">\r\n                    {_t(t(\"Required\"))}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <hr />\r\n              <ul className=\"t-list addons-list\">\r\n                {foodItem.variations ? (\r\n                  <>\r\n                    {foodItem.variations.map((variationItem) => {\r\n                      return (\r\n                        <li className=\"addons-list__item\">\r\n                          <div className=\"d-flex align-items-center justify-content-between\">\r\n                            <div className=\"col\">\r\n                              <label className=\"mx-checkbox flex-grow-1\">\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                  name=\"variation\"\r\n                                  onChange={() => {\r\n                                    handleOrderItemVariation(variationItem);\r\n                                  }}\r\n                                  checked={checkChecked(variationItem)}\r\n                                />\r\n                                <span className=\"mx-checkbox__text text-capitalize t-text-heading t-ml-8\">\r\n                                  {variationItem.variation_name}\r\n                                </span>\r\n                              </label>\r\n                            </div>\r\n                            <div className=\"col text-right\">\r\n                              <span className=\"t-text-heading text-uppercase sm-text flex-grow-1\">\r\n                                {currencySymbolLeft()}\r\n                                {formatPrice(\r\n                                  variationItem.food_with_variation_price\r\n                                )}\r\n                                {currencySymbolRight()}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </>\r\n                ) : (\r\n                  <li className=\"addons-list__item\">\r\n                    <div className=\"d-flex align-items-center justify-content-between\">\r\n                      <div className=\"col text-center text-primary text-uppercase\">\r\n                        {_t(t(\"No Variations\"))}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                )}\r\n                {/* Variations end*/}\r\n              </ul>\r\n\r\n              <div className={foodItem.properties ? \"\" : \"d-none\"}>\r\n                {/* Property group and items */}\r\n                {foodItem.properties && (\r\n                  <>\r\n                    {foodItem.properties.length > 0 ? (\r\n                      foodItem.properties.map((propertyItem) => {\r\n                        let selectedGroup = null;\r\n                        //property group\r\n                        if (propertyItem.length > 0) {\r\n                          selectedGroup =\r\n                            propertyGroupForSearch &&\r\n                            propertyGroupForSearch.find(\r\n                              (singlePropertyGroup) => {\r\n                                return (\r\n                                  singlePropertyGroup.id ===\r\n                                  parseInt(propertyItem[0].property_group_id)\r\n                                );\r\n                              }\r\n                            );\r\n                        }\r\n\r\n                        return (\r\n                          <>\r\n                            <div className=\"fk-sm-card__container t-mt-30\">\r\n                              <div className=\"fk-sm-card__content\">\r\n                                <h6 className=\"text-capitalize fk-sm-card__title t-mb-5\">\r\n                                  {selectedGroup && selectedGroup.name}\r\n                                </h6>\r\n                              </div>\r\n                              <span className=\"text-capitalize xxsm-text fk-badge fk-badge--secondary\">\r\n                                {_t(t(\"Optional\"))}\r\n                              </span>\r\n                            </div>\r\n                            <hr />\r\n                            <ul className=\"t-list addons-list\">\r\n                              {propertyItem.map((eachItem) => {\r\n                                return (\r\n                                  <li className=\"addons-list__item\">\r\n                                    <div className=\"d-flex align-items-center justify-content-between\">\r\n                                      <div className=\"col\">\r\n                                        <label className=\"mx-checkbox flex-grow-1\">\r\n                                          <input\r\n                                            type=\"checkbox\"\r\n                                            className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm mt-0-kitchen\"\r\n                                            onChange={() => {\r\n                                              newOrder &&\r\n                                                newOrder.map(\r\n                                                  (newOrderItem, index) => {\r\n                                                    if (\r\n                                                      index ===\r\n                                                      activeItemInOrder\r\n                                                    ) {\r\n                                                      if (\r\n                                                        newOrderItem.properties\r\n                                                      ) {\r\n                                                        let theItem =\r\n                                                          newOrderItem.properties.find(\r\n                                                            (\r\n                                                              eachPropertyItem\r\n                                                            ) => {\r\n                                                              return (\r\n                                                                eachPropertyItem\r\n                                                                  .item.id ===\r\n                                                                eachItem.id\r\n                                                              );\r\n                                                            }\r\n                                                          );\r\n\r\n                                                        if (\r\n                                                          theItem === undefined\r\n                                                        ) {\r\n                                                          handleAddProperties(\r\n                                                            eachItem\r\n                                                          );\r\n                                                        } else {\r\n                                                          handleRemoveProperties(\r\n                                                            eachItem\r\n                                                          );\r\n                                                        }\r\n                                                      } else {\r\n                                                        handleAddProperties(\r\n                                                          eachItem\r\n                                                        );\r\n                                                      }\r\n                                                    }\r\n                                                  }\r\n                                                );\r\n                                            }}\r\n                                            checked={checkCheckedProperties(\r\n                                              eachItem\r\n                                            )}\r\n                                          />\r\n                                          <span className=\"mx-checkbox__text text-capitalize t-text-heading t-ml-8\">\r\n                                            {eachItem.name}\r\n                                          </span>\r\n                                        </label>\r\n                                      </div>\r\n                                      <div className=\"col\">\r\n                                        <div className=\"fk-qty flex-grow-1 justify-content-end\">\r\n                                          {parseInt(\r\n                                            eachItem.allow_multi_quantity\r\n                                          ) === 1 && (\r\n                                              <span\r\n                                                className=\"fk-qty__icon fk-qty__deduct\"\r\n                                                onClick={() => {\r\n                                                  handlePropertyQty(\r\n                                                    eachItem,\r\n                                                    \"-\"\r\n                                                  );\r\n                                                }}\r\n                                              >\r\n                                                <i className=\"las la-minus\"></i>\r\n                                              </span>\r\n                                            )}\r\n                                          {parseInt(\r\n                                            eachItem.allow_multi_quantity\r\n                                          ) === 1 ? (\r\n                                            <input\r\n                                              type=\"text\"\r\n                                              value={checkCheckedPropertyQuantity(\r\n                                                eachItem\r\n                                              )}\r\n                                              className=\"fk-qty__input t-bg-clear\"\r\n                                              readOnly\r\n                                            />\r\n                                          ) : (\r\n                                            \"-\"\r\n                                          )}\r\n                                          {parseInt(\r\n                                            eachItem.allow_multi_quantity\r\n                                          ) === 1 && (\r\n                                              <span\r\n                                                className=\"fk-qty__icon fk-qty__add\"\r\n                                                onClick={() => {\r\n                                                  handlePropertyQty(\r\n                                                    eachItem,\r\n                                                    \"+\"\r\n                                                  );\r\n                                                }}\r\n                                              >\r\n                                                <i className=\"las la-plus\"></i>\r\n                                              </span>\r\n                                            )}\r\n                                        </div>\r\n                                      </div>\r\n                                      <div className=\"col text-right\">\r\n                                        <span className=\"t-text-heading text-uppercase sm-text flex-grow-1\">\r\n                                          {currencySymbolLeft()}\r\n                                          {formatPrice(eachItem.extra_price)}\r\n                                          {currencySymbolRight()}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </li>\r\n                                );\r\n                              })}\r\n                            </ul>\r\n                            <hr />\r\n                          </>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <li className=\"addons-list__item\">\r\n                        <div className=\"d-flex align-items-center justify-content-between\">\r\n                          <div className=\"col text-center text-primary text-uppercase\">\r\n                            {_t(t(\"No properties\"))}\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n              {/* Property group and items */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Menu Addons End */}\r\n\r\n      {/* Show Cart  */}\r\n      <div className=\"modal fade\" id=\"showCart\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-fullscreen\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header align-items-center\">\r\n              <h3>{_t(t(\"Order details\"))}</h3>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <span className=\"sm-text font-weight-bold text-uppercase font-italic\">\r\n                    {_t(t(\"Order token\"))}:{\" \"}\r\n                    {newOrder ? (\r\n                      <>\r\n                        #{orderDetails.token.id} -{\" \"}\r\n                        <Moment format=\"LT\">{orderDetails.token.time}</Moment>\r\n                      </>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"fk-sm-card__container t-mt-30\">\r\n                <div className=\"fk-sm-card__content\">\r\n                  <h6 className=\"text-capitalize fk-sm-card__title t-mb-5\">\r\n                    {_t(t(\"order items\"))}\r\n                  </h6>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <ul className=\"t-list addons-list\">\r\n                {/* loop through order list items */}\r\n                {newOrder && newOrder.length > 0 ? (\r\n                  newOrder.map((orderListItem, orderListItemIndex) => {\r\n                    return (\r\n                      <>\r\n                        <li\r\n                          className={`addons-list__item px-1 ${orderListItemIndex === activeItemInOrder && \"active\"\r\n                            }`}\r\n                        >\r\n                          <div\r\n                            className=\"d-flex align-items-center justify-content-between\"\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              //orderListItem's group wise all items\r\n                              let tempItems =\r\n                                foodForSearch &&\r\n                                foodForSearch.filter((tempItem) => {\r\n                                  return (\r\n                                    tempItem.food_group_id ===\r\n                                    orderListItem.item.food_group_id\r\n                                  );\r\n                                });\r\n\r\n                              //orderListItem's group\r\n                              let foodGroup =\r\n                                foodGroupForSearch &&\r\n                                foodGroupForSearch.find((groupItem) => {\r\n                                  return (\r\n                                    groupItem.id ===\r\n                                    parseInt(orderListItem.item.food_group_id)\r\n                                  );\r\n                                });\r\n\r\n                              // selected pos item\r\n                              let selectedItemTemp =\r\n                                tempItems &&\r\n                                tempItems.find((tempSelectedItem) => {\r\n                                  return (\r\n                                    tempSelectedItem.id ===\r\n                                    orderListItem.item.id\r\n                                  );\r\n                                });\r\n\r\n                              // Set variations, properties, selected item\r\n                              setFoodItem({\r\n                                ...foodItem,\r\n                                foodGroup: foodGroup,\r\n                                items: tempItems,\r\n                                selectedItem: selectedItemTemp,\r\n                                variations:\r\n                                  selectedItemTemp &&\r\n                                    parseInt(selectedItemTemp.has_variation) === 1\r\n                                    ? selectedItemTemp.variations\r\n                                    : null,\r\n                                properties:\r\n                                  selectedItemTemp &&\r\n                                    parseInt(selectedItemTemp.has_property) === 1\r\n                                    ? selectedItemTemp.properties\r\n                                    : null,\r\n                              });\r\n\r\n                              //set active order list index for background color of selected\r\n                              setActiveItemInOrder(orderListItemIndex);\r\n                            }}\r\n                          >\r\n                            <div className=\"col\">\r\n                              <span\r\n                                className={`t-text-heading sm-text text-capitalize d-block ${orderListItemIndex === activeItemInOrder &&\r\n                                  \"text-white\"\r\n                                  }`}\r\n                              >\r\n                                {orderListItem.item.name}\r\n                              </span>\r\n                              {parseInt(orderListItem.item.has_variation) ===\r\n                                1 &&\r\n                                orderListItem.variation && (\r\n                                  <span\r\n                                    className={`xxsm-text text-capitalize d-block ${orderListItemIndex ===\r\n                                      activeItemInOrder && \"text-white\"\r\n                                      }`}\r\n                                  >\r\n                                    {_t(t(\"Variation\"))}:{\" \"}\r\n                                    {orderListItem.variation.variation_name}\r\n                                  </span>\r\n                                )}\r\n\r\n                              {/* properties */}\r\n                              {orderListItem.properties &&\r\n                                orderListItem.properties.length > 0 &&\r\n                                selectedPropertyGroup[orderListItemIndex] !==\r\n                                undefined &&\r\n                                selectedPropertyGroup[orderListItemIndex].map(\r\n                                  (thisIsGroup) => {\r\n                                    let theGroup =\r\n                                      propertyGroupForSearch &&\r\n                                      propertyGroupForSearch.find((theItem) => {\r\n                                        return theItem.id === thisIsGroup;\r\n                                      });\r\n                                    return (\r\n                                      <div className=\"d-block\">\r\n                                        <span className=\"text-capitalize xxsm-text d-inline-block mr-1\">\r\n                                          {theGroup && theGroup.name} :\r\n                                        </span>\r\n                                        {orderListItem.properties.map(\r\n                                          (propertyName, propertyIndex) => {\r\n                                            if (\r\n                                              parseInt(\r\n                                                propertyName.item\r\n                                                  .property_group_id\r\n                                              ) === theGroup.id\r\n                                            ) {\r\n                                              return (\r\n                                                <span className=\"text-capitalize xxsm-text d-inline-block mr-1\">\r\n                                                  {propertyName.item.name}{\" \"}\r\n                                                  <span>\r\n                                                    {\" \"}\r\n                                                    {propertyName.quantity >\r\n                                                      1 &&\r\n                                                      \"(\" +\r\n                                                      propertyName.quantity +\r\n                                                      \")\"}\r\n                                                  </span>\r\n                                                  {orderListItem.properties\r\n                                                    .length -\r\n                                                    1 !==\r\n                                                    propertyIndex && \",\"}\r\n                                                </span>\r\n                                              );\r\n                                            } else {\r\n                                              return true;\r\n                                            }\r\n                                          }\r\n                                        )}\r\n                                      </div>\r\n                                    );\r\n                                  }\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Quantity */}\r\n                            <div className=\"col\">\r\n                              <div className=\"fk-qty flex-grow-1 justify-content-end\">\r\n                                <span\r\n                                  className=\"fk-qty__icon\"\r\n                                  onClick={() => {\r\n                                    handleOrderItemQty(\"-\");\r\n                                  }}\r\n                                >\r\n                                  <i className=\"las la-minus\"></i>\r\n                                </span>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  value={orderListItem.quantity}\r\n                                  className={`fk-qty__input t-bg-clear ${orderListItemIndex === activeItemInOrder &&\r\n                                    \"text-white\"\r\n                                    }`}\r\n                                  readOnly\r\n                                />\r\n                                <span\r\n                                  className=\"fk-qty__icon\"\r\n                                  onClick={() => {\r\n                                    handleOrderItemQty(\"+\");\r\n                                  }}\r\n                                >\r\n                                  <i className=\"las la-plus\"></i>\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"col text-right\">\r\n                              <span\r\n                                className={`t-text-heading text-uppercase sm-text flex-grow-1 ${orderListItemIndex === activeItemInOrder &&\r\n                                  \"text-white\"\r\n                                  }`}\r\n                              >\r\n                                {parseInt(orderListItem.item.has_variation) ===\r\n                                  1 ? (\r\n                                  <>\r\n                                    {currencySymbolLeft()}\r\n\r\n                                    {showPriceOfEachOrderItem(\r\n                                      orderListItemIndex\r\n                                    )}\r\n                                    {currencySymbolRight()}\r\n                                  </>\r\n                                ) : (\r\n                                  <>\r\n                                    {currencySymbolLeft()}\r\n                                    {showPriceOfEachOrderItem(\r\n                                      orderListItemIndex\r\n                                    )}\r\n                                    {currencySymbolRight()}\r\n                                  </>\r\n                                )}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <span className=\"text-capitalize  t-pt-5 t-pb-5 t-pl-5 t-pr-5 sm-text font-weight-bold make-this-relative-mobile\">\r\n                          <span\r\n                            className=\"badge rounded-pill bg-secondary text-capitalize\"\r\n                            onClick={() => {\r\n                              handleRemoveItemFromOrderList(orderListItemIndex);\r\n                            }}\r\n                          >\r\n                            <i className=\"fa fa-times\"></i>\r\n                          </span>\r\n                        </span>\r\n                      </>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <div className=\"text-primary text-center font-weight-bold pt-2 xsm-text text-uppercase\">\r\n                    {_t(t(\"Select food item to add to the list\"))}\r\n                  </div>\r\n                )}\r\n              </ul>\r\n              <hr />\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <span className=\"text-capitalize sm-text\">\r\n                        {\" \"}\r\n                        {_t(t(\"sub total\"))}{\" \"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"col text-center\">:</div>\r\n                    <div className=\"col text-right\">\r\n                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                        {newOrder ? (\r\n                          <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                            {currencySymbolLeft()}\r\n                            {formatPrice(theSubTotal)}\r\n                            {currencySymbolRight()}\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                            {currencySymbolLeft()}\r\n                            {formatPrice(0)}\r\n                            {currencySymbolRight()}\r\n                          </span>\r\n                        )}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <span className=\"sm-text\">\r\n                        {getSystemSettings(generalSettings, \"vat_system\") ===\r\n                          \"igst\"\r\n                          ? `vat(${newSettings !== null && newSettings.vat})`\r\n                          : getSystemSettings(generalSettings, \"vat_system\") ===\r\n                            \"cgst\"\r\n                            ? \"cgst+sgst\" +\r\n                            \"(\" +\r\n                            getSystemSettings(generalSettings, \"cgst\") +\r\n                            \"+\" +\r\n                            getSystemSettings(generalSettings, \"sgst\") +\r\n                            \")\" :\r\n                            `tax(${newSettings !== null && newSettings.tax})`}\r\n                        %:\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"col text-center\">:</div>\r\n                    <div className=\"col text-right\">\r\n                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                        {currencySymbolLeft()}\r\n                        {formatPrice(theVat)}\r\n                        {currencySymbolRight()}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {getSystemSettings(generalSettings, \"sDiscount\") === \"flat\" && (\r\n                  <>\r\n                    <div className=\"col-12 mb-2\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          <span className=\"text-capitalize sm-text\">\r\n                            {\" \"}\r\n                            {_t(t(\"service\"))}{\" \"}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"col text-center\">:</div>\r\n                        <div className=\"col text-right\">\r\n                          <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                            <input\r\n                              type=\"number\"\r\n                              step=\"0.01\"\r\n                              min=\"0\"\r\n                              className=\"text-capitalize xsm-text d-inline-block font-weight-bold form-control rounded-0 text-right\"\r\n                              onChange={(e) => {\r\n                                if (e.target.value !== \"\") {\r\n                                  setOrderDetails({\r\n                                    ...orderDetails,\r\n                                    serviceCharge: parseFloat(e.target.value),\r\n                                  });\r\n                                  let totalPayable = 0;\r\n                                  let localCurrency = JSON.parse(\r\n                                    localStorage.getItem(\"currency\")\r\n                                  );\r\n                                  let usdServiceCharge =\r\n                                    parseFloat(e.target.value) /\r\n                                    localCurrency.rate;\r\n                                  let usdDiscount =\r\n                                    parseFloat(orderDetails.discount) /\r\n                                    localCurrency.rate;\r\n\r\n                                  totalPayable =\r\n                                    theSubTotal +\r\n                                    theVat +\r\n                                    usdServiceCharge -\r\n                                    usdDiscount;\r\n                                  setTotalPaybale(totalPayable);\r\n                                  setReturnMoneyUsd(totalPayable - paidMoney);\r\n                                } else {\r\n                                  setOrderDetails({\r\n                                    ...orderDetails,\r\n                                    serviceCharge: 0,\r\n                                  });\r\n                                  let totalPayable = 0;\r\n                                  let localCurrency = JSON.parse(\r\n                                    localStorage.getItem(\"currency\")\r\n                                  );\r\n                                  let usdServiceCharge =\r\n                                    parseFloat(0) / localCurrency.rate;\r\n                                  let usdDiscount =\r\n                                    parseFloat(orderDetails.discount) /\r\n                                    localCurrency.rate;\r\n\r\n                                  totalPayable =\r\n                                    theSubTotal +\r\n                                    theVat +\r\n                                    usdServiceCharge -\r\n                                    usdDiscount;\r\n                                  setTotalPaybale(totalPayable);\r\n                                  setReturnMoneyUsd(totalPayable - paidMoney);\r\n                                }\r\n                              }}\r\n                              value={\r\n                                orderDetails.serviceCharge !== 0 &&\r\n                                orderDetails.serviceCharge\r\n                              }\r\n                            />\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          <span className=\"text-capitalize sm-text\">\r\n                            {\" \"}\r\n                            {_t(t(\"discount\"))}{\" \"}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"col text-center\">:</div>\r\n                        <div className=\"col text-right\">\r\n                          <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                            <input\r\n                              type=\"number\"\r\n                              step=\"0.01\"\r\n                              min=\"0\"\r\n                              className=\"text-capitalize xsm-text d-inline-block font-weight-bold form-control rounded-0 text-right\"\r\n                              onChange={(e) => {\r\n                                if (e.target.value !== \"\") {\r\n                                  setOrderDetails({\r\n                                    ...orderDetails,\r\n                                    discount: parseFloat(e.target.value),\r\n                                  });\r\n                                  let totalPayable = 0;\r\n                                  let localCurrency = JSON.parse(\r\n                                    localStorage.getItem(\"currency\")\r\n                                  );\r\n                                  let usdServiceCharge =\r\n                                    parseFloat(orderDetails.serviceCharge) /\r\n                                    localCurrency.rate;\r\n                                  let usdDiscount =\r\n                                    parseFloat(e.target.value) /\r\n                                    localCurrency.rate;\r\n\r\n                                  totalPayable =\r\n                                    theSubTotal +\r\n                                    theVat +\r\n                                    usdServiceCharge -\r\n                                    usdDiscount;\r\n\r\n                                  setTotalPaybale(totalPayable);\r\n                                  setReturnMoneyUsd(totalPayable - paidMoney);\r\n                                } else {\r\n                                  setOrderDetails({\r\n                                    ...orderDetails,\r\n                                    discount: 0,\r\n                                  });\r\n                                  let totalPayable = 0;\r\n                                  let localCurrency = JSON.parse(\r\n                                    localStorage.getItem(\"currency\")\r\n                                  );\r\n                                  let usdServiceCharge =\r\n                                    parseFloat(orderDetails.serviceCharge) /\r\n                                    localCurrency.rate;\r\n                                  let usdDiscount =\r\n                                    parseFloat(0) / localCurrency.rate;\r\n\r\n                                  totalPayable =\r\n                                    theSubTotal +\r\n                                    theVat +\r\n                                    usdServiceCharge -\r\n                                    usdDiscount;\r\n                                  setTotalPaybale(totalPayable);\r\n                                  setReturnMoneyUsd(totalPayable - paidMoney);\r\n                                }\r\n                              }}\r\n                              value={\r\n                                orderDetails.discount !== 0 &&\r\n                                orderDetails.discount\r\n                              }\r\n                            />\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n                {getSystemSettings(generalSettings, \"sDiscount\") ===\r\n                  \"percentage\" && (\r\n                    <>\r\n                      <div className=\"col-12 mb-2\">\r\n                        <div className=\"row\">\r\n                          <div className=\"col\">\r\n                            <span className=\"text-capitalize sm-text\">\r\n                              {\" \"}\r\n                              {_t(t(\"service\"))}\r\n                              {\" %\"}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"col text-center\">:</div>\r\n                          <div className=\"col text-right\">\r\n                            <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                              <input\r\n                                type=\"number\"\r\n                                step=\"0.01\"\r\n                                min=\"0\"\r\n                                className=\"text-capitalize xsm-text d-inline-block font-weight-bold form-control rounded-0 text-right\"\r\n                                onChange={(e) => {\r\n                                  if (e.target.value !== \"\") {\r\n                                    setOrderDetails({\r\n                                      ...orderDetails,\r\n                                      serviceCharge: parseFloat(e.target.value),\r\n                                    });\r\n                                    let totalPayable = 0;\r\n                                    // let localCurrency = JSON.parse(\r\n                                    //   localStorage.getItem(\r\n                                    //     \"currency\"\r\n                                    //   )\r\n                                    // );\r\n                                    // let usdServiceCharge =\r\n                                    //   parseFloat(e.target.value) /\r\n                                    //   localCurrency.rate;\r\n                                    // console.log(\"coming\");\r\n                                    let usdServiceCharge =\r\n                                      theSubTotal *\r\n                                      (parseFloat(e.target.value) / 100);\r\n\r\n                                    // let usdDiscount =\r\n                                    //   parseFloat(\r\n                                    //     orderDetails.discount\r\n                                    //   ) / localCurrency.rate;\r\n\r\n                                    let usdDiscount =\r\n                                      theSubTotal *\r\n                                      (parseFloat(orderDetails.discount) / 100);\r\n\r\n                                    totalPayable =\r\n                                      theSubTotal +\r\n                                      theVat +\r\n                                      usdServiceCharge -\r\n                                      usdDiscount;\r\n                                    setTotalPaybale(totalPayable);\r\n                                  } else {\r\n                                    setOrderDetails({\r\n                                      ...orderDetails,\r\n                                      serviceCharge: 0,\r\n                                    });\r\n                                    let totalPayable = 0;\r\n                                    // let localCurrency = JSON.parse(\r\n                                    //   localStorage.getItem(\r\n                                    //     \"currency\"\r\n                                    //   )\r\n                                    // );\r\n                                    // let usdServiceCharge =\r\n                                    //   parseFloat(0) /\r\n                                    //   localCurrency.rate;\r\n                                    let usdServiceCharge = 0;\r\n\r\n                                    // let usdDiscount =\r\n                                    //   parseFloat(\r\n                                    //     orderDetails.discount\r\n                                    //   ) / localCurrency.rate;\r\n\r\n                                    let usdDiscount =\r\n                                      theSubTotal *\r\n                                      (parseFloat(orderDetails.discount) / 100);\r\n\r\n                                    totalPayable =\r\n                                      theSubTotal +\r\n                                      theVat +\r\n                                      usdServiceCharge -\r\n                                      usdDiscount;\r\n                                    setTotalPaybale(totalPayable);\r\n                                  }\r\n                                }}\r\n                                value={\r\n                                  orderDetails.serviceCharge !== 0 &&\r\n                                  orderDetails.serviceCharge\r\n                                }\r\n                              />\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12\">\r\n                        <div className=\"row\">\r\n                          <div className=\"col\">\r\n                            <span className=\"text-capitalize sm-text\">\r\n                              {\" \"}\r\n                              {_t(t(\"discount\"))}\r\n                              {\" %\"}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"col text-center\">:</div>\r\n                          <div className=\"col text-right\">\r\n                            <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                              <input\r\n                                type=\"number\"\r\n                                step=\"0.01\"\r\n                                min=\"0\"\r\n                                className=\"text-capitalize xsm-text d-inline-block font-weight-bold form-control rounded-0 text-right\"\r\n                                onChange={(e) => {\r\n                                  if (e.target.value !== \"\") {\r\n                                    setOrderDetails({\r\n                                      ...orderDetails,\r\n                                      discount: parseFloat(e.target.value),\r\n                                    });\r\n                                    let totalPayable = 0;\r\n                                    // let localCurrency = JSON.parse(\r\n                                    //   localStorage.getItem(\r\n                                    //     \"currency\"\r\n                                    //   )\r\n                                    // );\r\n                                    // let usdServiceCharge =\r\n                                    //   parseFloat(\r\n                                    //     orderDetails.serviceCharge\r\n                                    //   ) / localCurrency.rate;\r\n                                    let usdServiceCharge =\r\n                                      theSubTotal *\r\n                                      (parseFloat(orderDetails.serviceCharge) /\r\n                                        100);\r\n\r\n                                    // let usdDiscount =\r\n                                    //   parseFloat(e.target.value) /\r\n                                    //   localCurrency.rate;\r\n\r\n                                    let usdDiscount =\r\n                                      theSubTotal *\r\n                                      (parseFloat(e.target.value) / 100);\r\n\r\n                                    totalPayable =\r\n                                      theSubTotal +\r\n                                      theVat +\r\n                                      usdServiceCharge -\r\n                                      usdDiscount;\r\n\r\n                                    setTotalPaybale(totalPayable);\r\n                                  } else {\r\n                                    setOrderDetails({\r\n                                      ...orderDetails,\r\n                                      discount: 0,\r\n                                    });\r\n                                    let totalPayable = 0;\r\n                                    // let localCurrency = JSON.parse(\r\n                                    //   localStorage.getItem(\r\n                                    //     \"currency\"\r\n                                    //   )\r\n                                    // );\r\n\r\n                                    let usdServiceCharge =\r\n                                      theSubTotal *\r\n                                      (parseFloat(orderDetails.serviceCharge) /\r\n                                        100);\r\n\r\n                                    let usdDiscount = 0;\r\n\r\n                                    totalPayable =\r\n                                      theSubTotal +\r\n                                      theVat +\r\n                                      usdServiceCharge -\r\n                                      usdDiscount;\r\n                                    setTotalPaybale(totalPayable);\r\n                                  }\r\n                                }}\r\n                                value={\r\n                                  orderDetails.discount !== 0 &&\r\n                                  orderDetails.discount\r\n                                }\r\n                              />\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n              </div>\r\n              <hr />\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                        {_t(t(\"total bill\"))}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"col text-center\">:</div>\r\n                    <div className=\"col text-right\">\r\n                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                        {currencySymbolLeft()}\r\n                        {formatPrice(totalPayable)}\r\n                        {currencySymbolRight()}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              {returnMoneyUsd > 0 && (\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 mb-2\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col\">\r\n                        <span className=\"text-capitalize sm-text font-weight-bold text-primary\">\r\n                          {_t(t(\"Return\"))}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"col text-center\">:</div>\r\n                      <div className=\"col text-right\">\r\n                        <span className=\"text-capitalize sm-text font-weight-bold text-primary\">\r\n                          {currencySymbolLeft()}\r\n                          {formatPrice(Math.abs(returnMoneyUsd))}\r\n                          {currencySymbolRight()}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"row py-2 mx-1\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary xsm-text text-uppercase col-3\"\r\n                onClick={handleCancel}\r\n              >\r\n                {_t(t(\"Cancel\"))}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary xsm-text text-uppercase ml-auto mr-1 col-4\"\r\n                onClick={!loading && handleSettleOrder}\r\n              >\r\n                {!loading ? _t(t(\"settle\")) : _t(t(\"Please wait\"))}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success xsm-text text-uppercase col-4\"\r\n                onClick={!loading && handleSubmitOrder}\r\n              >\r\n                {!loading ? _t(t(\"submit\")) : _t(t(\"Please wait\"))}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Show Cart End */}\r\n\r\n      {/* Extra Info  */}\r\n      <div className=\"modal fade\" id=\"extraInfo\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-fullscreen\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header align-items-center\">\r\n              <div className=\"fk-sm-card__content\">\r\n                <h5 className=\"text-capitalize fk-sm-card__title\">\r\n                  {_t(t(\"additional information\"))}\r\n                </h5>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <ul className=\"t-list addons-list\">\r\n                {authUserInfo.details &&\r\n                  authUserInfo.details.user_type !== \"staff\" && (\r\n                    <li className=\"addons-list__item mt-1 mx-1\">\r\n                      <Select\r\n                        options={branchForSearch && branchForSearch}\r\n                        components={makeAnimated()}\r\n                        getOptionLabel={(option) => option.name}\r\n                        getOptionValue={(option) => option.name}\r\n                        classNamePrefix=\"select\"\r\n                        className=\"xsm-text\"\r\n                        onChange={handleSetBranch}\r\n                        maxMenuHeight=\"200px\"\r\n                        placeholder={_t(t(\"Branch\")) + \"..\"}\r\n                      />\r\n                    </li>\r\n                  )}\r\n                {!loading && (\r\n                  <>\r\n                    {orderDetails.branch !== null && (\r\n                      <>\r\n                        <li\r\n                          className={`addons-list__item mx-1 ${authUserInfo.details &&\r\n                            authUserInfo.details.user_type === \"staff\" &&\r\n                            \"mt-1\"\r\n                            }`}\r\n                        >\r\n                          <Select\r\n                            options={\r\n                              orderDetailUsers.theCustomers !== null &&\r\n                              orderDetailUsers.theCustomers\r\n                            }\r\n                            components={makeAnimated()}\r\n                            getOptionLabel={(option) =>\r\n                              option.name + \" (\" + option.phn_no + \")\"\r\n                            }\r\n                            getOptionValue={(option) => option.name}\r\n                            classNamePrefix=\"select\"\r\n                            className=\"xsm-text\"\r\n                            onChange={handleSetCustomer}\r\n                            maxMenuHeight=\"200px\"\r\n                            placeholder={_t(t(\"Customer\")) + \"..\"}\r\n                          />\r\n                        </li>\r\n                        <li className=\"addons-list__item mx-1 border border-2 rounded-lg\">\r\n                          <div className=\"btn-group w-100\">\r\n                            <button\r\n                              type=\"button\"\r\n                              className=\"fk-right-nav__guest-btn btn w-100 t-bg-white dropdown-toggle new-customer-pos xsm-text pl-2\"\r\n                              data-toggle=\"dropdown\"\r\n                              aria-expanded=\"false\"\r\n                            >\r\n                              + {_t(t(\"Customer\"))}?\r\n                            </button>\r\n                            <ul className=\"dropdown-menu w-100 border-0 pt-4 change-background\">\r\n                              <li>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  name=\"name\"\r\n                                  className=\"form-control font-10px rounded-lg\"\r\n                                  placeholder=\"Name\"\r\n                                  autoComplete=\"off\"\r\n                                  value={orderDetails.newCustomerInfo.name}\r\n                                  onChange={handleNewCustomer}\r\n                                />\r\n                              </li>\r\n                              <li className=\"pb-2\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  name=\"number\"\r\n                                  className=\"form-control font-10px mt-2 rounded-lg\"\r\n                                  autoComplete=\"off\"\r\n                                  placeholder=\"Number\"\r\n                                  value={orderDetails.newCustomerInfo.number}\r\n                                  onChange={handleNewCustomer}\r\n                                />\r\n                              </li>\r\n                              <li className=\"pb-1 text-right\">\r\n                                <button\r\n                                  className=\"btn t-bg-white text-dark xsm-text text-uppercase btn-sm py-0 px-2 mr-1\"\r\n                                  onClick={() => {\r\n                                    setOrderDetails({\r\n                                      ...orderDetails,\r\n                                      newCustomer: false,\r\n                                      newCustomerInfo: {\r\n                                        name: \"\",\r\n                                        number: \"\",\r\n                                      },\r\n                                    });\r\n                                  }}\r\n                                >\r\n                                  {_t(t(\"Cancel\"))}\r\n                                </button>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </li>\r\n\r\n                        <li className=\"addons-list__item mx-1\">\r\n                          <Select\r\n                            options={deptTagForSearch && deptTagForSearch}\r\n                            components={makeAnimated()}\r\n                            getOptionLabel={(option) => option.name}\r\n                            getOptionValue={(option) => option.name}\r\n                            classNamePrefix=\"select\"\r\n                            className=\"xsm-text\"\r\n                            onChange={handleSetDeptTag}\r\n                            maxMenuHeight=\"200px\"\r\n                            placeholder={_t(t(\"Dept tag\")) + \"..\"}\r\n                          />\r\n                        </li>\r\n                        <li\r\n                          className={`addons-list__item mx-1 payment-type-parent ${orderDetails.payment_type !== null && \"mb-1\"\r\n                            }`}\r\n                        >\r\n                          <Select\r\n                            options={\r\n                              paymentTypeForSearch && paymentTypeForSearch\r\n                            }\r\n                            components={makeAnimated()}\r\n                            getOptionLabel={(option) => option.name}\r\n                            getOptionValue={(option) => option.name}\r\n                            classNamePrefix=\"select\"\r\n                            className=\"xsm-text\"\r\n                            onChange={handleSetpaymentType}\r\n                            maxMenuHeight=\"200px\"\r\n                            isMulti\r\n                            backspaceRemovesValue={false}\r\n                            clearIndicator={null}\r\n                            placeholder={_t(t(\"Payments\")) + \"..\"}\r\n                          />\r\n                        </li>\r\n                        {orderDetails.payment_type !== null && (\r\n                          <div className=\"border mt-0 mb-2 change-background mx-1 rounded-lg\">\r\n                            <div className=\"xsm-text text-center text-white pt-1\">\r\n                              {_t(t(\"Amount\"))}\r\n                            </div>\r\n                            {orderDetails.payment_type.map(\r\n                              (eachPaymentType, paymentTypeIndex) => {\r\n                                return (\r\n                                  <li className=\"addons-list__item mx-1 mb-1\">\r\n                                    <input\r\n                                      type=\"number\"\r\n                                      min=\"0\"\r\n                                      step=\"0.01\"\r\n                                      name={eachPaymentType.id}\r\n                                      autoComplete=\"off\"\r\n                                      className=\"form-control xsm-text pl-2\"\r\n                                      onChange={handlePaymentTypeAmount}\r\n                                      placeholder={eachPaymentType.name}\r\n                                      value={\r\n                                        orderDetails.payment_amount &&\r\n                                        orderDetails.payment_amount[\r\n                                        eachPaymentType.id\r\n                                        ]\r\n                                      }\r\n                                    />\r\n                                  </li>\r\n                                );\r\n                              }\r\n                            )}\r\n                          </div>\r\n                        )}\r\n\r\n                        {getSystemSettings(generalSettings, \"table_waiter\") ===\r\n                          \"1\" ? (\r\n                          <>\r\n                            <li className=\"addons-list__item mx-1\">\r\n                              <Select\r\n                                options={\r\n                                  orderDetailUsers.theTables !== null &&\r\n                                  orderDetailUsers.theTables\r\n                                }\r\n                                components={makeAnimated()}\r\n                                getOptionLabel={(option) => option.name}\r\n                                getOptionValue={(option) => option.name}\r\n                                classNamePrefix=\"select\"\r\n                                className=\"xsm-text\"\r\n                                onChange={handleSetTable}\r\n                                maxMenuHeight=\"200px\"\r\n                                placeholder={_t(t(\"Table\")) + \"..\"}\r\n                              />\r\n                            </li>\r\n                            <li className=\"addons-list__item mx-1\">\r\n                              <Select\r\n                                options={\r\n                                  orderDetailUsers.theWaiters !== null &&\r\n                                  orderDetailUsers.theWaiters\r\n                                }\r\n                                components={makeAnimated()}\r\n                                getOptionLabel={(option) => option.name}\r\n                                getOptionValue={(option) => option.name}\r\n                                classNamePrefix=\"select\"\r\n                                className=\"xsm-text\"\r\n                                onChange={handleSetWaiter}\r\n                                maxMenuHeight=\"200px\"\r\n                                placeholder={_t(t(\"Waiter\")) + \"..\"}\r\n                              />\r\n                            </li>\r\n                          </>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n\r\n                        <li className=\"addons-list__item mx-1\">\r\n                          <input\r\n                            type=\"number\"\r\n                            className=\"form-control xsm-text py-2 pl-2\"\r\n                            min=\"1\"\r\n                            onChange={handleTotalGuest}\r\n                            placeholder={_t(t(\"Total guests\")) + \"..\"}\r\n                          />\r\n                        </li>\r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Extra Info End */}\r\n      <div className={` ${showSettle ? \"d-none\" : \"\"}`}>\r\n        <main id=\"main\" data-simplebar>\r\n          {/* Mobile Screen Only   */}\r\n          <div className=\"d-md-none t-mb-15\">\r\n            {/* Show start work period options here */}\r\n            {newSettings && newSettings.workPeriod === null && (\r\n              <div className=\"fk-left-overlay\">\r\n                <div className=\"fk-left-overlay__content text-center m-auto\">\r\n                  <h5\r\n                    className={`text-primary text-uppercase ${authUserInfo.details &&\r\n                      authUserInfo.details.user_type !== \"staff\" &&\r\n                      \"mb-0\"\r\n                      }`}\r\n                  >\r\n                    {authUserInfo.details &&\r\n                      authUserInfo.details.user_type !== \"staff\"\r\n                      ? _t(t(\"Select branch to active POS\"))\r\n                      : _t(t(\"start workperiod\"))}\r\n                  </h5>\r\n                  {authUserInfo.details &&\r\n                    authUserInfo.details.user_type !== \"staff\" && (\r\n                      <>\r\n                        <h6 className=\"mt-1 text-uppercase xsm-text mb-1\">\r\n                          {_t(t(\"Start workperiod if it is not started\"))}\r\n                        </h6>\r\n                        <small className=\"d-flex justify-content-center text-lowercase xsm-text mt-0 mb-2\">\r\n                          (\r\n                          {_t(\r\n                            t(\r\n                              \"Use staff account not to see this multiple times\"\r\n                            )\r\n                          )}\r\n                          )\r\n                        </small>\r\n                      </>\r\n                    )}\r\n                  <NavLink\r\n                    to=\"/dashboard\"\r\n                    className=\"t-heading-font btn btn-primary btn-sm text-uppercase sm-text\"\r\n                  >\r\n                    {_t(t(\"Goto Dashboard\"))}\r\n                  </NavLink>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {/* Show start work period options here */}\r\n            {foodGroupForSearch &&\r\n              foodGroupForSearch.map((mobileGroup, mobileGroupIndex) => {\r\n                let tempItems =\r\n                  foodForSearch &&\r\n                  foodForSearch.filter((tempItem) => {\r\n                    return parseInt(tempItem.food_group_id) === mobileGroup.id;\r\n                  });\r\n                return (\r\n                  <div\r\n                    className=\"fk-sm-card t-mt-10\"\r\n                    id={`card-${mobileGroupIndex + 1}`}\r\n                  >\r\n                    <h3 className=\"mt-0 t-mb-30 text-capitalize\">\r\n                      {mobileGroup.name}\r\n                    </h3>\r\n                    <ul className=\"t-list fk-sm-card-list\">\r\n                      {tempItems !== null && tempItems.length > 0\r\n                        ? [\r\n                          tempItems.map((mobileItem, mobileItemIndex) => {\r\n                            return (\r\n                              <li\r\n                                className=\"fk-sm-card-list__item\"\r\n                                data-toggle={\r\n                                  handleGetStock(mobileItem.id) === 0\r\n                                    ? \"\"\r\n                                    : \"modal\"\r\n                                }\r\n                                data-target={\r\n                                  handleGetStock(mobileItem.id) === 0\r\n                                    ? \"\"\r\n                                    : \"#menuAddons\"\r\n                                }\r\n                                key={mobileItemIndex}\r\n                                onClick={() => {\r\n                                  // if manage is stock is enable\r\n                                  if (showManageStock) {\r\n                                    if (handleGetStock(mobileItem.id) === 0) {\r\n                                      toast.error(`${_t(t(\"Out of stock\"))}`, {\r\n                                        position: \"bottom-center\",\r\n                                        closeButton: false,\r\n                                        autoClose: 10000,\r\n                                        hideProgressBar: false,\r\n                                        closeOnClick: true,\r\n                                        pauseOnHover: true,\r\n                                        className:\r\n                                          \"text-center toast-notification\",\r\n                                      });\r\n                                    } else {\r\n                                      //set active item in order list\r\n                                      setActiveItemInOrder(mobileItemIndex);\r\n                                      // set variations, properties and selected items here\r\n                                      setFoodItem({\r\n                                        ...foodItem,\r\n                                        foodGroup: mobileGroup,\r\n                                        selectedItem: mobileItem,\r\n                                        variations:\r\n                                          mobileItem &&\r\n                                            parseInt(mobileItem.has_variation) ===\r\n                                            1\r\n                                            ? mobileItem.variations\r\n                                            : null,\r\n                                        properties:\r\n                                          mobileItem &&\r\n                                            parseInt(mobileItem.has_property) ===\r\n                                            1\r\n                                            ? mobileItem.properties\r\n                                            : null,\r\n                                      });\r\n                                      handleOrderItem(mobileItem);\r\n                                    }\r\n                                  } else {\r\n\r\n                                    setActiveItemInOrder(mobileItemIndex);\r\n                                    // set variations, properties and selected items here\r\n                                    setFoodItem({\r\n                                      ...foodItem,\r\n                                      foodGroup: mobileGroup,\r\n                                      selectedItem: mobileItem,\r\n                                      variations:\r\n                                        mobileItem &&\r\n                                          parseInt(mobileItem.has_variation) ===\r\n                                          1\r\n                                          ? mobileItem.variations\r\n                                          : null,\r\n                                      properties:\r\n                                        mobileItem &&\r\n                                          parseInt(mobileItem.has_property) ===\r\n                                          1\r\n                                          ? mobileItem.properties\r\n                                          : null,\r\n                                    });\r\n                                    handleOrderItem(mobileItem);\r\n                                  }\r\n\r\n                                }}\r\n                              >\r\n                                <div className=\"fk-sm-card__container align-items-center\">\r\n                                  <div className=\"fk-sm-card__content\">\r\n                                    <h6 className=\"text-capitalize fk-sm-card__title\">\r\n                                      {/* {mobileItem.name}, {_t(t(\"In Stock\"))}:{\" \"}\r\n                                      {handleGetStock(mobileItem.id)} */}\r\n                                      stock na thakleo baire theke khuje ene dibo\r\n                                    </h6>\r\n                                    {mobileItem.has_variation === \"0\" && (\r\n                                      <p className=\"t-mt-10 mb-0 sm-text text-uppercase t-text-dark--light-20\">\r\n                                        {currencySymbolLeft()}\r\n                                        {formatPrice(\r\n                                          parseFloat(mobileItem.price)\r\n                                        )}\r\n                                        {currencySymbolRight()}\r\n                                      </p>\r\n                                    )}\r\n                                  </div>\r\n                                  <div className=\"fk-sm-card__action\">\r\n                                    <div\r\n                                      className=\"fk-sm-card__img fk-sm-card__img--1\"\r\n                                      style={{\r\n                                        backgroundImage: `url(${mobileItem.image})`,\r\n                                      }}\r\n                                    ></div>\r\n                                    <div className=\"fk-sm-card__cart\">\r\n                                      <i className=\"las la-plus\"></i>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </li>\r\n                            );\r\n                          }),\r\n                        ]\r\n                        : \"\"}\r\n                    </ul>\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n            <div className=\"fk-sm-footnav\" style={{ zIndex: 10 }}>\r\n              <div className=\"fk-sm-footnav__container\">\r\n                <ul className=\"t-list fk-sm-footnav__list justify-content-center\">\r\n                  <li\r\n                    className=\"fk-sm-footnav__list-item\"\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#extraInfo\"\r\n                  >\r\n                    <span className=\"t-link fk-sm-footnav__link\">\r\n                      <i className=\"las la-edit\"></i>\r\n                    </span>\r\n                  </li>\r\n                  <li\r\n                    className=\"fk-sm-footnav__list-item\"\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#showCart\"\r\n                  >\r\n                    <span className=\"t-link fk-sm-footnav__link\">\r\n                      <i className=\"las la-shopping-cart\"></i>\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"fk-sm-footnav__list-item\">\r\n                    <NavLink\r\n                      to=\"/dashboard/pos/submitted\"\r\n                      className=\"t-link fk-sm-footnav__link\"\r\n                    >\r\n                      <i className=\"las la-share-square\"></i>\r\n                    </NavLink>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* Mobile Screen Only   */}\r\n\r\n          {/* Show In Tab   */}\r\n          <div className=\"fk-main d-none d-md-block t-mt-10\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row gx-2\">\r\n                {/* Left Side  */}\r\n                <div className=\"col-md-7\">\r\n                  <div className=\"fk-left-over\">\r\n                    {/* Show start work period options here */}\r\n                    {newSettings && newSettings.workPeriod === null && (\r\n                      <div className=\"fk-left-overlay\">\r\n                        <div className=\"fk-left-overlay__content text-center m-auto\">\r\n                          <h5\r\n                            className={`text-primary text-uppercase ${authUserInfo.details &&\r\n                              authUserInfo.details.user_type !== \"staff\" &&\r\n                              \"mb-0\"\r\n                              }`}\r\n                          >\r\n                            {authUserInfo.details &&\r\n                              authUserInfo.details.user_type !== \"staff\"\r\n                              ? _t(t(\"Select branch to active POS\"))\r\n                              : _t(t(\"start workperiod\"))}\r\n                          </h5>\r\n                          {authUserInfo.details &&\r\n                            authUserInfo.details.user_type !== \"staff\" && (\r\n                              <>\r\n                                <h6 className=\"mt-1 text-uppercase xsm-text mb-1\">\r\n                                  {_t(\r\n                                    t(\"Start workperiod if it is not started\")\r\n                                  )}\r\n                                </h6>\r\n                                <small className=\"d-flex justify-content-center text-lowercase xsm-text mt-0 mb-2\">\r\n                                  (\r\n                                  {_t(\r\n                                    t(\r\n                                      \"Use staff account not to see this multiple times\"\r\n                                    )\r\n                                  )}\r\n                                  )\r\n                                </small>\r\n                              </>\r\n                            )}\r\n                          <NavLink\r\n                            to=\"/dashboard\"\r\n                            className=\"t-heading-font btn btn-primary btn-sm text-uppercase sm-text\"\r\n                          >\r\n                            {_t(t(\"Goto Dashboard\"))}\r\n                          </NavLink>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {/* Show start work period options here */}\r\n\r\n                    <div className=\"row gx-2 align-items-center\">\r\n                      <div className=\"col-md-4 col-lg-5 col-xl-6 col-xxl-7\">\r\n                        <NavLink\r\n                          to=\"/dashboard/pos/online-orders\"\r\n                          className=\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-outline-danger xsm-text text-uppercase text-center w-100\"\r\n                        >\r\n                          {_t(t(\"Online Orders\"))}{\" \"}\r\n                          {onlineCounter > 0 && (\r\n                            <span className=\"bg-danger text-white p-2 rounded-md\">\r\n                              ({onlineCounter})\r\n                            </span>\r\n                          )}\r\n                        </NavLink>\r\n                      </div>\r\n                      <div className=\"col-md-8 col-lg-7 col-xl-6 col-xxl-5\">\r\n                        <div className=\"row align-items-center gx-2\">\r\n                          <div className=\"col\">\r\n                            {window.location.pathname ===\r\n                              \"/dashboard/pos/settled\" ? (\r\n                              <NavLink\r\n                                to=\"/refresh\"\r\n                                className=\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-success xsm-text text-uppercase text-center w-100\"\r\n                              >\r\n                                {_t(t(\"Settled\"))}\r\n                              </NavLink>\r\n                            ) : (\r\n                              <NavLink\r\n                                to=\"/dashboard/pos/settled\"\r\n                                className=\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-success xsm-text text-uppercase text-center w-100\"\r\n                              >\r\n                                {_t(t(\"Settled\"))}\r\n                              </NavLink>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"col\">\r\n                            {window.location.pathname ===\r\n                              \"/dashboard/pos/submitted\" ? (\r\n                              <NavLink\r\n                                to=\"/refresh\"\r\n                                className=\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-primary xsm-text text-uppercase text-center w-100\"\r\n                              >\r\n                                {_t(t(\"Submitted\"))}\r\n                              </NavLink>\r\n                            ) : (\r\n                              <NavLink\r\n                                to=\"/dashboard/pos/submitted\"\r\n                                className=\"t-link t-pt-8 t-pb-8 t-pl-12 t-pr-12 btn btn-primary xsm-text text-uppercase text-center w-100\"\r\n                              >\r\n                                {_t(t(\"Submitted\"))}\r\n                              </NavLink>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row t-mt-10 gx-2\">\r\n                      {/* Left Menu   */}\r\n                      <div className=\"col-md-4 col-xl-3\">\r\n                        <div className=\"fk-scroll--pos-menu\" data-simplebar>\r\n                          <ul className=\"t-list fk-pos-nav list-group\">\r\n                            {getSystemSettings(\r\n                              generalSettings,\r\n                              \"pos_screen\"\r\n                            ) === \"1\" &&\r\n                              deptTagForSearch && (\r\n                                <>\r\n                                  {deptTagForSearch.map(\r\n                                    (deptItem, deptItemIndex) => {\r\n                                      return (\r\n                                        <li\r\n                                          className={`t-mb-10 ${deptItemIndex ===\r\n                                            deptTagForSearch.length - 1\r\n                                            ? \"t-mb-30\"\r\n                                            : \"\"\r\n                                            }`}\r\n                                        >\r\n                                          <style></style>\r\n                                          <button\r\n                                            class={`button arrow text-uppercase ${orderDetails &&\r\n                                              orderDetails.dept_tag &&\r\n                                              orderDetails.dept_tag.id ===\r\n                                              deptItem.id\r\n                                              ? \"active\"\r\n                                              : \"\"\r\n                                              }`}\r\n                                            onClick={() => {\r\n                                              handleSetDeptTag(deptItem);\r\n                                            }}\r\n                                          >\r\n                                            {deptItem.name}\r\n                                          </button>\r\n                                        </li>\r\n                                      );\r\n                                    }\r\n                                  )}\r\n                                </>\r\n                              )}\r\n\r\n                            {/* Food groups */}\r\n                            {foodGroupForSearch &&\r\n                              foodGroupForSearch.map(\r\n                                (groupItem, groupIndex) => {\r\n                                  return (\r\n                                    <li\r\n                                      className=\"fk-pos-nav__list\"\r\n                                      key={groupIndex}\r\n                                    >\r\n                                      <button\r\n                                        type=\"button\"\r\n                                        onClick={() => {\r\n                                          // set active group, group items, initial item active, todo:: set variations and properties\r\n                                          let tempItems =\r\n                                            foodForSearch &&\r\n                                            foodForSearch.filter((tempItem) => {\r\n                                              return (\r\n                                                parseInt(\r\n                                                  tempItem.food_group_id\r\n                                                ) === groupItem.id\r\n                                              );\r\n                                            });\r\n\r\n                                          if (\r\n                                            tempItems &&\r\n                                            tempItems.length > 0\r\n                                          ) {\r\n                                            setFoodItem({\r\n                                              ...foodItem,\r\n                                              foodGroup: groupItem,\r\n                                              items: tempItems,\r\n                                              selectedItem:\r\n                                                tempItems && tempItems[0],\r\n                                              variations:\r\n                                                tempItems &&\r\n                                                  parseInt(\r\n                                                    tempItems[0].has_variation\r\n                                                  ) === 1\r\n                                                  ? tempItems[0].variations\r\n                                                  : null,\r\n                                              properties:\r\n                                                tempItems &&\r\n                                                  parseInt(\r\n                                                    tempItems[0].has_property\r\n                                                  ) === 1\r\n                                                  ? tempItems[0].properties\r\n                                                  : null,\r\n                                            });\r\n                                          } else {\r\n                                            setFoodItem({\r\n                                              foodGroup: groupItem,\r\n                                              items: null,\r\n                                              selectedItem: null,\r\n                                              variations: null,\r\n                                              properties: null,\r\n                                            });\r\n                                          }\r\n\r\n                                          //set active item in order list\r\n                                          setActiveItemInOrder(null);\r\n                                        }}\r\n                                        //set active or !\r\n                                        className={`w-100 t-text-dark t-heading-font btn btn-outline-danger font-weight-bold text-uppercase ${foodItem.foodGroup &&\r\n                                          foodItem.foodGroup.id ===\r\n                                          groupItem.id &&\r\n                                          \"active\"\r\n                                          }`}\r\n                                      >\r\n                                        {groupItem.name}\r\n                                      </button>\r\n                                    </li>\r\n                                  );\r\n                                }\r\n                              )}\r\n                            {/* Food groups */}\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                      {/* Left Menu  End */}\r\n\r\n                      {/* Dish Addons   */}\r\n                      <div className=\"col-md-8 col-xl-9\">\r\n                        <div className=\"\">\r\n                          <div className=\"active\" id=\"nav-1\">\r\n                            <div className=\"row gx-1\">\r\n                              <div className=\"col-xl-6 col-xxl-5 order-xl-2\">\r\n                                <div className=\"tab-content t-mb-10 mb-xl-0\">\r\n                                  <div className=\"\" id=\"addons-1\">\r\n                                    <div className=\"t-bg-white\">\r\n                                      <div\r\n                                        className=\"fk-addons-variation\"\r\n                                        data-simplebar\r\n                                      >\r\n                                        {/* Variations */}\r\n                                        <div className=\"fk-addons-table\">\r\n                                          <div className=\"fk-addons-table__head text-center\">\r\n                                            {_t(t(\"variations\"))}\r\n                                          </div>\r\n                                          {foodItem.variations ? (\r\n                                            <>\r\n                                              <div className=\"fk-addons-table__info\">\r\n                                                <div className=\"row g-0\">\r\n                                                  <div className=\"col-8 pl-3 border-right\">\r\n                                                    <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                                      {_t(t(\"name\"))}\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div className=\"col-4 text-center\">\r\n                                                    <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                                      {_t(t(\"price\"))}\r\n                                                    </span>\r\n                                                  </div>\r\n                                                </div>\r\n                                              </div>\r\n                                              <div className=\"fk-addons-table__body\">\r\n                                                {foodItem.variations.map(\r\n                                                  (variationItem) => {\r\n                                                    return (\r\n                                                      <div className=\"fk-addons-table__body-row\">\r\n                                                        <div className=\"row g-0\">\r\n                                                          <div className=\"col-8 border-right t-pl-10 t-pr-10\">\r\n                                                            <label className=\"mx-checkbox\">\r\n                                                              <input\r\n                                                                type=\"radio\"\r\n                                                                className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm\"\r\n                                                                name=\"variation\"\r\n                                                                onChange={() => {\r\n                                                                  handleOrderItemVariation(\r\n                                                                    variationItem\r\n                                                                  );\r\n                                                                }}\r\n                                                                checked={checkChecked(\r\n                                                                  variationItem\r\n                                                                )}\r\n                                                              />\r\n                                                              <span className=\"mx-checkbox__text text-capitalize t-text-heading t-ml-8 fk-addons-table__body-text\">\r\n                                                                {\r\n                                                                  variationItem.variation_name\r\n                                                                }\r\n                                                              </span>\r\n                                                            </label>\r\n                                                          </div>\r\n                                                          <div className=\"col-4 text-center\">\r\n                                                            <span className=\"fk-addons-table__body-text sm-text\">\r\n                                                              {currencySymbolLeft()}\r\n                                                              {formatPrice(\r\n                                                                variationItem.food_with_variation_price\r\n                                                              )}\r\n                                                              {currencySymbolRight()}\r\n                                                            </span>\r\n                                                          </div>\r\n                                                        </div>\r\n                                                      </div>\r\n                                                    );\r\n                                                  }\r\n                                                )}\r\n                                              </div>\r\n                                            </>\r\n                                          ) : (\r\n                                            <div className=\"fk-addons-table__info py-4\">\r\n                                              <div className=\"row g-0\">\r\n                                                <div className=\"col-12 text-center border-right\">\r\n                                                  <span className=\"fk-addons-table__info-text text-capitalize text-primary\">\r\n                                                    {_t(t(\"No variations\"))}\r\n                                                  </span>\r\n                                                </div>\r\n                                              </div>\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                        {/* Variations end*/}\r\n\r\n                                        <div\r\n                                          className={\r\n                                            foodItem.properties ? \"\" : \"d-none\"\r\n                                          }\r\n                                        >\r\n                                          {/* Property group and items */}\r\n                                          {foodItem.properties && (\r\n                                            <>\r\n                                              {foodItem.properties.length >\r\n                                                0 ? (\r\n                                                foodItem.properties.map(\r\n                                                  (propertyItem) => {\r\n                                                    //property group\r\n                                                    let selectedGroup = null;\r\n                                                    //property group\r\n                                                    if (\r\n                                                      propertyItem.length > 0\r\n                                                    ) {\r\n                                                      selectedGroup =\r\n                                                        propertyGroupForSearch &&\r\n                                                        propertyGroupForSearch.find(\r\n                                                          (\r\n                                                            singlePropertyGroup\r\n                                                          ) => {\r\n                                                            return (\r\n                                                              singlePropertyGroup.id ===\r\n                                                              parseInt(\r\n                                                                propertyItem[0]\r\n                                                                  .property_group_id\r\n                                                              )\r\n                                                            );\r\n                                                          }\r\n                                                        );\r\n                                                    }\r\n                                                    return (\r\n                                                      <div className=\"fk-addons-table\">\r\n                                                        <div className=\"fk-addons-table__head text-center\">\r\n                                                          {selectedGroup &&\r\n                                                            selectedGroup.name}\r\n                                                        </div>\r\n                                                        <div className=\"fk-addons-table__info\">\r\n                                                          <div className=\"row g-0\">\r\n                                                            <div className=\"col-5 pl-3 border-right\">\r\n                                                              <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                                                {_t(t(\"name\"))}\r\n                                                              </span>\r\n                                                            </div>\r\n                                                            <div className=\"col-3 text-center border-right\">\r\n                                                              <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                                                {_t(t(\"QTY\"))}\r\n                                                              </span>\r\n                                                            </div>\r\n                                                            <div className=\"col-4 text-center\">\r\n                                                              <span className=\"fk-addons-table__info-text text-capitalize\">\r\n                                                                {_t(\r\n                                                                  t(\r\n                                                                    \"Unit price\"\r\n                                                                  )\r\n                                                                )}\r\n                                                              </span>\r\n                                                            </div>\r\n                                                          </div>\r\n                                                        </div>\r\n                                                        <div className=\"fk-addons-table__body\">\r\n                                                          {propertyItem.map(\r\n                                                            (eachItem) => {\r\n                                                              return (\r\n                                                                <div className=\"fk-addons-table__body-row\">\r\n                                                                  <div className=\"row g-0\">\r\n                                                                    <div className=\"col-5 border-right t-pl-10 t-pr-10\">\r\n                                                                      <label className=\"mx-checkbox\">\r\n                                                                        <input\r\n                                                                          type=\"checkbox\"\r\n                                                                          className=\"mx-checkbox__input mx-checkbox__input-solid mx-checkbox__input-solid--danger mx-checkbox__input-sm\"\r\n                                                                          onChange={() => {\r\n                                                                            newOrder &&\r\n                                                                              newOrder.map(\r\n                                                                                (\r\n                                                                                  newOrderItem,\r\n                                                                                  index\r\n                                                                                ) => {\r\n                                                                                  if (\r\n                                                                                    index ===\r\n                                                                                    activeItemInOrder\r\n                                                                                  ) {\r\n                                                                                    if (\r\n                                                                                      newOrderItem.properties\r\n                                                                                    ) {\r\n                                                                                      let theItem =\r\n                                                                                        newOrderItem.properties.find(\r\n                                                                                          (\r\n                                                                                            eachPropertyItem\r\n                                                                                          ) => {\r\n                                                                                            return (\r\n                                                                                              eachPropertyItem\r\n                                                                                                .item\r\n                                                                                                .id ===\r\n                                                                                              eachItem.id\r\n                                                                                            );\r\n                                                                                          }\r\n                                                                                        );\r\n\r\n                                                                                      if (\r\n                                                                                        theItem ===\r\n                                                                                        undefined\r\n                                                                                      ) {\r\n                                                                                        handleAddProperties(\r\n                                                                                          eachItem\r\n                                                                                        );\r\n                                                                                      } else {\r\n                                                                                        handleRemoveProperties(\r\n                                                                                          eachItem\r\n                                                                                        );\r\n                                                                                      }\r\n                                                                                    } else {\r\n                                                                                      handleAddProperties(\r\n                                                                                        eachItem\r\n                                                                                      );\r\n                                                                                    }\r\n                                                                                  }\r\n                                                                                }\r\n                                                                              );\r\n                                                                          }}\r\n                                                                          checked={checkCheckedProperties(\r\n                                                                            eachItem\r\n                                                                          )}\r\n                                                                        />\r\n                                                                        <span className=\"mx-checkbox__text text-capitalize t-text-heading t-ml-8 fk-addons-table__body-text\">\r\n                                                                          {\r\n                                                                            eachItem.name\r\n                                                                          }\r\n                                                                        </span>\r\n                                                                      </label>\r\n                                                                    </div>\r\n                                                                    <div className=\"col-3 text-center border-right\">\r\n                                                                      <div className=\"fk-qty justify-content-center t-pt-10 t-pb-10\">\r\n                                                                        {parseInt(\r\n                                                                          eachItem.allow_multi_quantity\r\n                                                                        ) ===\r\n                                                                          1 && (\r\n                                                                            <span\r\n                                                                              className=\"fk-qty__icon fk-qty__deduct\"\r\n                                                                              onClick={() => {\r\n                                                                                handlePropertyQty(\r\n                                                                                  eachItem,\r\n                                                                                  \"-\"\r\n                                                                                );\r\n                                                                              }}\r\n                                                                            >\r\n                                                                              <i className=\"las la-minus\"></i>\r\n                                                                            </span>\r\n                                                                          )}\r\n                                                                        {parseInt(\r\n                                                                          eachItem.allow_multi_quantity\r\n                                                                        ) ===\r\n                                                                          1 ? (\r\n                                                                          <input\r\n                                                                            type=\"text\"\r\n                                                                            value={checkCheckedPropertyQuantity(\r\n                                                                              eachItem\r\n                                                                            )}\r\n                                                                            className=\"fk-qty__input t-bg-clear\"\r\n                                                                            readOnly\r\n                                                                          />\r\n                                                                        ) : (\r\n                                                                          \"-\"\r\n                                                                        )}\r\n                                                                        {parseInt(\r\n                                                                          eachItem.allow_multi_quantity\r\n                                                                        ) ===\r\n                                                                          1 && (\r\n                                                                            <span\r\n                                                                              className=\"fk-qty__icon fk-qty__add\"\r\n                                                                              onClick={() => {\r\n                                                                                handlePropertyQty(\r\n                                                                                  eachItem,\r\n                                                                                  \"+\"\r\n                                                                                );\r\n                                                                              }}\r\n                                                                            >\r\n                                                                              <i className=\"las la-plus\"></i>\r\n                                                                            </span>\r\n                                                                          )}\r\n                                                                      </div>\r\n                                                                    </div>\r\n                                                                    <div className=\"col-4 text-center\">\r\n                                                                      <span className=\"fk-addons-table__body-text sm-text\">\r\n                                                                        {currencySymbolLeft()}\r\n                                                                        {formatPrice(\r\n                                                                          eachItem.extra_price\r\n                                                                        )}\r\n                                                                        {currencySymbolRight()}\r\n                                                                      </span>\r\n                                                                    </div>\r\n                                                                  </div>\r\n                                                                </div>\r\n                                                              );\r\n                                                            }\r\n                                                          )}\r\n                                                        </div>\r\n                                                      </div>\r\n                                                    );\r\n                                                  }\r\n                                                )\r\n                                              ) : (\r\n                                                <div className=\"fk-addons-table__info py-4\">\r\n                                                  <div className=\"row g-0\">\r\n                                                    <div className=\"col-12 text-center border-right\">\r\n                                                      <span className=\"fk-addons-table__info-text text-capitalize text-primary\">\r\n                                                        {_t(t(\"No properties\"))}\r\n                                                      </span>\r\n                                                    </div>\r\n                                                  </div>\r\n                                                </div>\r\n                                              )}\r\n                                            </>\r\n                                          )}\r\n                                        </div>\r\n                                        {/* Property group and items */}\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"col-xl-6 col-xxl-7 order-xl-1\">\r\n                                <div className=\"fk-dish--scroll\" data-simplebar>\r\n                                  <div className=\"list-group fk-dish row gx-2\">\r\n                                    {foodItem.items &&\r\n                                      foodItem.items.map(\r\n                                        (tempFoodItem, tempFoodItemIndex) => {\r\n                                          return (\r\n                                            <div\r\n                                              onClick={() => {\r\n                                                if (showManageStock) {\r\n                                                  if (\r\n                                                    handleGetStock(\r\n                                                      tempFoodItem.id\r\n                                                    ) === 0\r\n                                                  ) {\r\n                                                    toast.error(\r\n                                                      `${_t(t(\"Out of stock\"))}`,\r\n                                                      {\r\n                                                        position: \"bottom-center\",\r\n                                                        closeButton: false,\r\n                                                        autoClose: 10000,\r\n                                                        hideProgressBar: false,\r\n                                                        closeOnClick: true,\r\n                                                        pauseOnHover: true,\r\n                                                        className:\r\n                                                          \"text-center toast-notification\",\r\n                                                      }\r\n                                                    );\r\n                                                  } else {\r\n                                                    // set variations, properties and selected items here\r\n                                                    setFoodItem({\r\n                                                      ...foodItem,\r\n                                                      selectedItem: tempFoodItem,\r\n                                                      variations:\r\n                                                        tempFoodItem &&\r\n                                                          parseInt(\r\n                                                            tempFoodItem.has_variation\r\n                                                          ) === 1\r\n                                                          ? tempFoodItem.variations\r\n                                                          : null,\r\n                                                      properties:\r\n                                                        tempFoodItem &&\r\n                                                          parseInt(\r\n                                                            tempFoodItem.has_property\r\n                                                          ) === 1\r\n                                                          ? tempFoodItem.properties\r\n                                                          : null,\r\n                                                    });\r\n                                                    handleOrderItem(tempFoodItem);\r\n                                                  }\r\n                                                } else {\r\n\r\n                                                  // set variations, properties and selected items here\r\n                                                  setFoodItem({\r\n                                                    ...foodItem,\r\n                                                    selectedItem: tempFoodItem,\r\n                                                    variations:\r\n                                                      tempFoodItem &&\r\n                                                        parseInt(\r\n                                                          tempFoodItem.has_variation\r\n                                                        ) === 1\r\n                                                        ? tempFoodItem.variations\r\n                                                        : null,\r\n                                                    properties:\r\n                                                      tempFoodItem &&\r\n                                                        parseInt(\r\n                                                          tempFoodItem.has_property\r\n                                                        ) === 1\r\n                                                        ? tempFoodItem.properties\r\n                                                        : null,\r\n                                                  });\r\n                                                  handleOrderItem(tempFoodItem);\r\n                                                }\r\n\r\n                                              }}\r\n                                              className={`fk-dish__link t-mb-10 col-md-6 col-lg-4 col-xl-6 col-xxl-4 t-link border-0 pointer-cursor ${foodItem.selectedItem &&\r\n                                                foodItem.selectedItem.id ===\r\n                                                tempFoodItem.id &&\r\n                                                \"active\"\r\n                                                }`}\r\n                                            >\r\n                                              <div className=\"fk-dish-card w-100\">\r\n                                                <div className=\"fk-dish-card__img w-100\">\r\n                                                  <img\r\n                                                    src={tempFoodItem.image}\r\n                                                    alt=\"\"\r\n                                                    className=\"img-fluid m-auto w-100\"\r\n                                                  />\r\n                                                </div>\r\n                                                <span className=\"fk-dish-card__title text-center text-uppercase\">\r\n                                                  {tempFoodItem.name} <br />\r\n                                                  {/* check is manage menu is active or not  */}\r\n                                                  {showManageStock ? <>\r\n                                                    {_t(t(\"In Stock\"))}:{\" \"}\r\n                                                    {handleGetStock(\r\n                                                      tempFoodItem.id\r\n                                                    )}\r\n                                                  </> : null}\r\n                                                </span>\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        }\r\n                                      )}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      {/* Dish Addons  End */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Left Side End */}\r\n\r\n                {/* Right Side  */}\r\n                <div className=\"col-md-5\">\r\n                  <div className=\"row gx-2\">\r\n                    <div className=\"col-md-4 col-xl-3\">\r\n                      <div className=\"fk-right-nav\">\r\n                        <div className=\"row flex-column justify-content-between h-100\">\r\n                          <div className=\"col-12 flex-grow-1\">\r\n                            <div\r\n                              className=\"fk-right-nav__scroll\"\r\n                              data-simplebar\r\n                            >\r\n                              <ul className=\"t-list addons-list\">\r\n                                {authUserInfo.details &&\r\n                                  authUserInfo.details.user_type !==\r\n                                  \"staff\" && (\r\n                                    <li className=\"addons-list__item mt-1 mx-1\">\r\n                                      <Select\r\n                                        options={\r\n                                          branchForSearch && branchForSearch\r\n                                        }\r\n                                        components={makeAnimated()}\r\n                                        getOptionLabel={(option) => option.name}\r\n                                        getOptionValue={(option) => option.name}\r\n                                        classNamePrefix=\"select\"\r\n                                        className=\"xsm-text\"\r\n                                        onChange={handleSetBranch}\r\n                                        maxMenuHeight=\"200px\"\r\n                                        placeholder={_t(t(\"Branch\")) + \"..\"}\r\n                                      />\r\n                                    </li>\r\n                                  )}\r\n                                {!loading && (\r\n                                  <>\r\n                                    {orderDetails.branch !== null && (\r\n                                      <>\r\n                                        <li\r\n                                          className={`addons-list__item mx-1 ${authUserInfo.details &&\r\n                                            authUserInfo.details.user_type ===\r\n                                            \"staff\" &&\r\n                                            \"mt-1\"\r\n                                            }`}\r\n                                        >\r\n                                          <Select\r\n                                            options={\r\n                                              orderDetailUsers.theCustomers !==\r\n                                              null &&\r\n                                              orderDetailUsers.theCustomers\r\n                                            }\r\n                                            components={makeAnimated()}\r\n                                            getOptionLabel={(option) =>\r\n                                              option.name +\r\n                                              \" (\" +\r\n                                              option.phn_no +\r\n                                              \")\"\r\n                                            }\r\n                                            getOptionValue={(option) =>\r\n                                              option.name\r\n                                            }\r\n                                            classNamePrefix=\"select\"\r\n                                            className=\"xsm-text\"\r\n                                            onChange={handleSetCustomer}\r\n                                            maxMenuHeight=\"200px\"\r\n                                            placeholder={\r\n                                              _t(t(\"Customer\")) + \"..\"\r\n                                            }\r\n                                          />\r\n                                        </li>\r\n                                        <li className=\"addons-list__item mx-1 border border-2 rounded-lg\">\r\n                                          <div className=\"btn-group w-100\">\r\n                                            <button\r\n                                              type=\"button\"\r\n                                              className=\"fk-right-nav__guest-btn btn w-100 t-bg-white dropdown-toggle new-customer-pos xsm-text pl-2\"\r\n                                              data-toggle=\"dropdown\"\r\n                                              aria-expanded=\"false\"\r\n                                            >\r\n                                              + {_t(t(\"Customer\"))}?\r\n                                            </button>\r\n                                            <ul className=\"dropdown-menu w-100 border-0 pt-4 change-background\">\r\n                                              <li>\r\n                                                <input\r\n                                                  type=\"text\"\r\n                                                  name=\"name\"\r\n                                                  className=\"form-control font-10px rounded-lg\"\r\n                                                  placeholder=\"Name\"\r\n                                                  autoComplete=\"off\"\r\n                                                  value={\r\n                                                    orderDetails.newCustomerInfo\r\n                                                      .name\r\n                                                  }\r\n                                                  onChange={handleNewCustomer}\r\n                                                />\r\n                                              </li>\r\n                                              <li className=\"pb-2\">\r\n                                                <input\r\n                                                  type=\"text\"\r\n                                                  name=\"number\"\r\n                                                  className=\"form-control font-10px mt-2 rounded-lg\"\r\n                                                  autoComplete=\"off\"\r\n                                                  placeholder=\"Number\"\r\n                                                  value={\r\n                                                    orderDetails.newCustomerInfo\r\n                                                      .number\r\n                                                  }\r\n                                                  onChange={handleNewCustomer}\r\n                                                />\r\n                                              </li>\r\n                                              <li className=\"pb-1 text-right\">\r\n                                                <button\r\n                                                  className=\"btn t-bg-white text-dark xsm-text text-uppercase btn-sm py-0 px-2 mr-1\"\r\n                                                  onClick={() => {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      newCustomer: false,\r\n                                                      newCustomerInfo: {\r\n                                                        name: \"\",\r\n                                                        number: \"\",\r\n                                                      },\r\n                                                    });\r\n                                                  }}\r\n                                                >\r\n                                                  {_t(t(\"Cancel\"))}\r\n                                                </button>\r\n                                              </li>\r\n                                            </ul>\r\n                                          </div>\r\n                                        </li>\r\n                                        {getSystemSettings(\r\n                                          generalSettings,\r\n                                          \"pos_screen\"\r\n                                        ) === \"0\" && (\r\n                                            <>\r\n                                              <li className=\"addons-list__item mx-1\">\r\n                                                <Select\r\n                                                  options={\r\n                                                    deptTagForSearch &&\r\n                                                    deptTagForSearch\r\n                                                  }\r\n                                                  components={makeAnimated()}\r\n                                                  getOptionLabel={(option) =>\r\n                                                    option.name\r\n                                                  }\r\n                                                  getOptionValue={(option) =>\r\n                                                    option.name\r\n                                                  }\r\n                                                  classNamePrefix=\"select\"\r\n                                                  className=\"xsm-text\"\r\n                                                  onChange={handleSetDeptTag}\r\n                                                  maxMenuHeight=\"200px\"\r\n                                                  placeholder={\r\n                                                    _t(t(\"Dept tag\")) + \"..\"\r\n                                                  }\r\n                                                />\r\n                                              </li>\r\n\r\n                                              <li\r\n                                                className={`addons-list__item mx-1 payment-type-parent ${orderDetails.payment_type !==\r\n                                                  null && \"mb-1\"\r\n                                                  }`}\r\n                                              >\r\n                                                <Select\r\n                                                  options={\r\n                                                    paymentTypeForSearch &&\r\n                                                    paymentTypeForSearch\r\n                                                  }\r\n                                                  components={makeAnimated()}\r\n                                                  getOptionLabel={(option) =>\r\n                                                    option.name\r\n                                                  }\r\n                                                  getOptionValue={(option) =>\r\n                                                    option.name\r\n                                                  }\r\n                                                  classNamePrefix=\"select\"\r\n                                                  className=\"xsm-text\"\r\n                                                  onChange={handleSetpaymentType}\r\n                                                  maxMenuHeight=\"200px\"\r\n                                                  isMulti\r\n                                                  backspaceRemovesValue={false}\r\n                                                  clearIndicator={null}\r\n                                                  placeholder={\r\n                                                    _t(t(\"Payments\")) + \"..\"\r\n                                                  }\r\n                                                />\r\n                                              </li>\r\n                                              {orderDetails.payment_type !==\r\n                                                null && (\r\n                                                  <div className=\"border mt-0 mb-2 change-background mx-1 rounded-lg\">\r\n                                                    <div className=\"xsm-text text-center text-white pt-1\">\r\n                                                      {_t(t(\"Amount\"))}\r\n                                                    </div>\r\n                                                    {orderDetails.payment_type.map(\r\n                                                      (\r\n                                                        eachPaymentType,\r\n                                                        paymentTypeIndex\r\n                                                      ) => {\r\n                                                        return (\r\n                                                          <li className=\"addons-list__item mx-1 mb-1\">\r\n                                                            <input\r\n                                                              type=\"number\"\r\n                                                              min=\"0\"\r\n                                                              step=\"0.01\"\r\n                                                              name={\r\n                                                                eachPaymentType.id\r\n                                                              }\r\n                                                              autoComplete=\"off\"\r\n                                                              className=\"form-control xsm-text pl-2\"\r\n                                                              onChange={\r\n                                                                handlePaymentTypeAmount\r\n                                                              }\r\n                                                              placeholder={\r\n                                                                eachPaymentType.name\r\n                                                              }\r\n                                                              value={\r\n                                                                orderDetails.payment_amount &&\r\n                                                                orderDetails\r\n                                                                  .payment_amount[\r\n                                                                eachPaymentType.id\r\n                                                                ]\r\n                                                              }\r\n                                                            />\r\n                                                          </li>\r\n                                                        );\r\n                                                      }\r\n                                                    )}\r\n                                                  </div>\r\n                                                )}\r\n                                            </>\r\n                                          )}\r\n\r\n                                        {getSystemSettings(\r\n                                          generalSettings,\r\n                                          \"table_waiter\"\r\n                                        ) === \"1\" ? (\r\n                                          <>\r\n                                            <li className=\"addons-list__item mx-1\">\r\n                                              <Select\r\n                                                options={\r\n                                                  orderDetailUsers.theTables !==\r\n                                                  null &&\r\n                                                  orderDetailUsers.theTables\r\n                                                }\r\n                                                components={makeAnimated()}\r\n                                                getOptionLabel={(option) =>\r\n                                                  option.name\r\n                                                }\r\n                                                getOptionValue={(option) =>\r\n                                                  option.name\r\n                                                }\r\n                                                classNamePrefix=\"select\"\r\n                                                className=\"xsm-text\"\r\n                                                onChange={handleSetTable}\r\n                                                maxMenuHeight=\"200px\"\r\n                                                placeholder={\r\n                                                  _t(t(\"Table\")) + \"..\"\r\n                                                }\r\n                                              />\r\n                                            </li>\r\n                                            <li className=\"addons-list__item mx-1\">\r\n                                              <Select\r\n                                                options={\r\n                                                  orderDetailUsers.theWaiters !==\r\n                                                  null &&\r\n                                                  orderDetailUsers.theWaiters\r\n                                                }\r\n                                                components={makeAnimated()}\r\n                                                getOptionLabel={(option) =>\r\n                                                  option.name\r\n                                                }\r\n                                                getOptionValue={(option) =>\r\n                                                  option.name\r\n                                                }\r\n                                                classNamePrefix=\"select\"\r\n                                                className=\"xsm-text\"\r\n                                                onChange={handleSetWaiter}\r\n                                                maxMenuHeight=\"200px\"\r\n                                                placeholder={\r\n                                                  _t(t(\"Waiter\")) + \"..\"\r\n                                                }\r\n                                              />\r\n                                            </li>\r\n                                          </>\r\n                                        ) : (\r\n                                          \"\"\r\n                                        )}\r\n\r\n                                        <li\r\n                                          className=\"addons-list__item mx-1\"\r\n                                          style={{ paddingBottom: \"100px\" }}\r\n                                        >\r\n                                          <input\r\n                                            type=\"number\"\r\n                                            className=\"form-control xsm-text py-2 pl-2\"\r\n                                            min=\"1\"\r\n                                            onChange={handleTotalGuest}\r\n                                            placeholder={\r\n                                              _t(t(\"Total guest\")) + \"..\"\r\n                                            }\r\n                                          />\r\n                                        </li>\r\n                                      </>\r\n                                    )}\r\n                                  </>\r\n                                )}\r\n                              </ul>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-12\">\r\n                            <div className=\"row\">\r\n                              <div className=\"col-12 t-mb-10\">\r\n                                <button\r\n                                  onClick={() => {\r\n                                    if (newOrder) {\r\n                                      handleOnlyPrint();\r\n                                    } else {\r\n                                      toast.error(\r\n                                        `${_t(\r\n                                          t(\r\n                                            \"Please add items in order list to print bill\"\r\n                                          )\r\n                                        )}`,\r\n                                        {\r\n                                          position: \"bottom-center\",\r\n                                          closeButton: false,\r\n                                          autoClose: 10000,\r\n                                          hideProgressBar: false,\r\n                                          closeOnClick: true,\r\n                                          pauseOnHover: true,\r\n                                          className:\r\n                                            \"text-center toast-notification\",\r\n                                        }\r\n                                      );\r\n                                    }\r\n                                  }}\r\n                                  className=\"w-100 t-heading-font btn btn-outline-danger font-weight-bold text-uppercase sm-text\"\r\n                                >\r\n                                  {_t(t(\"print bill\"))}\r\n                                </button>\r\n                              </div>\r\n                              <div className=\"col-12\">\r\n                                <button\r\n                                  className=\"w-100 t-heading-font btn btn-primary font-weight-bold text-uppercase sm-text\"\r\n                                  onClick={handleCancelConfirmation}\r\n                                >\r\n                                  {_t(t(\"cancel\"))}\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-8 col-xl-9\">\r\n                      <div className=\"fk-right-nav p-2 p-xl-3 t-bg-white\">\r\n                        {/* Disply Only Small Screen   */}\r\n                        <div className=\"h-100 w-100 d-none\" data-simplebar>\r\n                          <div className=\"fk-receipt-content\">\r\n                            <div className=\"fk-receipt-body t-mt-10\">\r\n                              <div className=\"row g-0\">\r\n                                <div className=\"col-12\">\r\n                                  <span className=\"sm-text font-weight-bold text-uppercase font-italic\">\r\n                                    {_t(t(\"Order token\"))}:{\" \"}\r\n                                    {newOrder ? (\r\n                                      <>\r\n                                        #{orderDetails.token.id} -{\" \"}\r\n                                        <Moment format=\"LT\">\r\n                                          {orderDetails.token.time}\r\n                                        </Moment>\r\n                                      </>\r\n                                    ) : (\r\n                                      \"\"\r\n                                    )}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"fk-sm-card__container t-mt-30\">\r\n                                <div className=\"fk-sm-card__content\">\r\n                                  <h6 className=\"text-capitalize fk-sm-card__title t-mb-5\">\r\n                                    food items\r\n                                  </h6>\r\n                                  <p className=\"mb-0 xsm-text t-text-heading fk-sm-card__description text-capitalize\">\r\n                                    properties & bill\r\n                                  </p>\r\n                                </div>\r\n                                <span className=\"text-capitalize xxsm-text fk-badge fk-badge--dark\">\r\n                                  total\r\n                                </span>\r\n                              </div>\r\n                              <hr />\r\n                              <ul className=\"t-list addons-list\">\r\n                                <li className=\"addons-list__item active\">\r\n                                  <div className=\"d-flex align-items-center justify-content-between\">\r\n                                    <div className=\"col\">\r\n                                      <span className=\" sm-text text-capitalize\">\r\n                                        chicken burger\r\n                                      </span>\r\n                                      <span className=\" xsm-text text-capitalize d-block\">\r\n                                        large\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"col\">\r\n                                      <div className=\"fk-qty flex-grow-1 justify-content-end\">\r\n                                        <span className=\"fk-qty__icon fk-qty__deduct\">\r\n                                          <i className=\"las la-minus\"></i>\r\n                                        </span>\r\n                                        <input\r\n                                          type=\"text\"\r\n                                          value=\"0\"\r\n                                          className=\"fk-qty__input\"\r\n                                        />\r\n                                        <span className=\"fk-qty__icon fk-qty__add\">\r\n                                          <i className=\"las la-plus\"></i>\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col text-right\">\r\n                                      <span className=\" text-uppercase sm-text flex-grow-1\">\r\n                                        +tk 100\r\n                                      </span>\r\n                                    </div>\r\n                                  </div>\r\n                                </li>\r\n                                <li className=\"addons-list__item\">\r\n                                  <div className=\"d-flex align-items-center justify-content-between\">\r\n                                    <div className=\"col\">\r\n                                      <span className=\"t-text-heading sm-text text-capitalize\">\r\n                                        beef burger\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"col\">\r\n                                      <div className=\"fk-qty flex-grow-1 justify-content-end\">\r\n                                        <span className=\"fk-qty__icon fk-qty__deduct\">\r\n                                          <i className=\"las la-minus\"></i>\r\n                                        </span>\r\n                                        <input\r\n                                          type=\"text\"\r\n                                          value=\"0\"\r\n                                          className=\"fk-qty__input\"\r\n                                        />\r\n                                        <span className=\"fk-qty__icon fk-qty__add\">\r\n                                          <i className=\"las la-plus\"></i>\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col text-right\">\r\n                                      <span className=\"t-text-heading text-uppercase sm-text flex-grow-1\">\r\n                                        +tk 230\r\n                                      </span>\r\n                                    </div>\r\n                                  </div>\r\n                                </li>\r\n                              </ul>\r\n                              <hr />\r\n                              <div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                      <span className=\"text-capitalize sm-text\">\r\n                                        sub total\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"col text-center\">:</div>\r\n                                    <div className=\"col text-right\">\r\n                                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                                        {newOrder ? (\r\n                                          <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                            {currencySymbolLeft()}\r\n                                            {formatPrice(theSubTotal)}\r\n                                            {currencySymbolRight()}\r\n                                          </span>\r\n                                        ) : (\r\n                                          <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                            {currencySymbolLeft()}\r\n                                            {formatPrice(0)}\r\n                                            {currencySymbolRight()}\r\n                                          </span>\r\n                                        )}\r\n                                      </span>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                      <span className=\"sm-text\">\r\n                                        {getSystemSettings(\r\n                                          generalSettings,\r\n                                          \"vat_system\"\r\n                                        ) === \"igst\"\r\n                                          ? `vat(${newSettings !== null &&\r\n                                          newSettings.vat\r\n                                          })`\r\n                                          : getSystemSettings(\r\n                                            generalSettings,\r\n                                            \"vat_system\"\r\n                                          ) === \"cgst\"\r\n                                            ? \"cgst+sgst\" +\r\n                                            \"(\" +\r\n                                            getSystemSettings(\r\n                                              generalSettings,\r\n                                              \"cgst\"\r\n                                            ) +\r\n                                            \"+\" +\r\n                                            getSystemSettings(\r\n                                              generalSettings,\r\n                                              \"sgst\"\r\n                                            ) +\r\n                                            \")\" :\r\n                                            `tax(${newSettings !== null &&\r\n                                            newSettings.tax\r\n                                            })`}\r\n                                        %:\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"col text-center\">:</div>\r\n                                    <div className=\"col text-right\">\r\n                                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                                        {currencySymbolLeft()}\r\n                                        {formatPrice(theVat)}\r\n                                        {currencySymbolRight()}\r\n                                      </span>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                      <span className=\"text-capitalize sm-text\">\r\n                                        service\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"col text-center\">:</div>\r\n                                    <div className=\"col text-right\">\r\n                                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                                        20.00\r\n                                      </span>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                      <span className=\"text-capitalize sm-text\">\r\n                                        discount\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"col text-center\">:</div>\r\n                                    <div className=\"col text-right\">\r\n                                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                                        100.00\r\n                                      </span>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <hr />\r\n                              <div className=\"row\">\r\n                                <div className=\"col-12\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col\">\r\n                                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                                        total bill\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"col text-center\">:</div>\r\n                                    <div className=\"col text-right\">\r\n                                      <span className=\"text-capitalize sm-text font-weight-bold\">\r\n                                        2000.00\r\n                                      </span>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <hr />\r\n                              <div className=\"row\">\r\n                                <div className=\"col-6\">\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-primary w-100 xsm-text text-uppercase\"\r\n                                  >\r\n                                    settle\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-success w-100 xsm-text text-uppercase\"\r\n                                  >\r\n                                    submit\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {/* Disply Only Small Screen End  */}\r\n\r\n                        {/* Display Only Large Screen   */}\r\n                        <div className=\"h-100 w-100 d-none d-md-block\">\r\n                          <div className=\"fk-price-table\">\r\n                            <div className=\"fk-price-table__head\">\r\n                              <div className=\"row gx-0 align-items-center\">\r\n                                <div className=\"col-12 text-right\">\r\n                                  <span className=\"d-block sm-text font-weight-bold text-uppercase\">\r\n                                    {_t(t(\"Order token\"))}:{\" \"}\r\n                                    {newOrder ? (\r\n                                      <>\r\n                                        #{orderDetails.token.id} -{\" \"}\r\n                                        <Moment format=\"LT\">\r\n                                          {orderDetails.token.time}\r\n                                        </Moment>\r\n                                      </>\r\n                                    ) : (\r\n                                      \"\"\r\n                                    )}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"fk-price-table__body t-mt-10\">\r\n                              <div className=\"fk-price-table__body-top\">\r\n                                <div className=\"fk-table\">\r\n                                  <div className=\"fk-table__head\">\r\n                                    <div className=\"row g-0 border\">\r\n                                      <div className=\"col-1 text-center border-right\">\r\n                                        <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                          {_t(t(\"S/L\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-6 text-center border-right\">\r\n                                        <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                          {_t(t(\"food item\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-2 text-center border-right\">\r\n                                        <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                          {_t(t(\"QTY\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"col-3 text-center\">\r\n                                        <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                          {_t(t(\"price\"))}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div\r\n                                    className=\"fk-table__body border-bottom\"\r\n                                    data-simplebar\r\n                                  >\r\n                                    <div className=\"sky-is-blue reverse-this\">\r\n                                      {/* loop through order list items */}\r\n                                      {newOrder && newOrder.length > 0 ? (\r\n                                        newOrder.map(\r\n                                          (\r\n                                            orderListItem,\r\n                                            orderListItemIndex\r\n                                          ) => {\r\n                                            return (\r\n                                              <>\r\n                                                <div\r\n                                                  className={`fk-table-container-order ${orderListItemIndex ===\r\n                                                    activeItemInOrder &&\r\n                                                    \"active\"\r\n                                                    } `}\r\n                                                  onClick={(e) => {\r\n                                                    e.preventDefault();\r\n                                                    //orderListItem's group wise all items\r\n                                                    let tempItems =\r\n                                                      foodForSearch &&\r\n                                                      foodForSearch.filter(\r\n                                                        (tempItem) => {\r\n                                                          return (\r\n                                                            tempItem.food_group_id ===\r\n                                                            orderListItem.item\r\n                                                              .food_group_id\r\n                                                          );\r\n                                                        }\r\n                                                      );\r\n\r\n                                                    //orderListItem's group\r\n                                                    let foodGroup =\r\n                                                      foodGroupForSearch &&\r\n                                                      foodGroupForSearch.find(\r\n                                                        (groupItem) => {\r\n                                                          return (\r\n                                                            groupItem.id ===\r\n                                                            parseInt(\r\n                                                              orderListItem.item\r\n                                                                .food_group_id\r\n                                                            )\r\n                                                          );\r\n                                                        }\r\n                                                      );\r\n\r\n                                                    // selected pos item\r\n                                                    let selectedItemTemp =\r\n                                                      tempItems &&\r\n                                                      tempItems.find(\r\n                                                        (tempSelectedItem) => {\r\n                                                          return (\r\n                                                            tempSelectedItem.id ===\r\n                                                            orderListItem.item\r\n                                                              .id\r\n                                                          );\r\n                                                        }\r\n                                                      );\r\n\r\n                                                    // Set variations, properties, selected item\r\n                                                    setFoodItem({\r\n                                                      ...foodItem,\r\n                                                      foodGroup: foodGroup,\r\n                                                      items: tempItems,\r\n                                                      selectedItem:\r\n                                                        selectedItemTemp,\r\n                                                      variations:\r\n                                                        selectedItemTemp &&\r\n                                                          parseInt(\r\n                                                            selectedItemTemp.has_variation\r\n                                                          ) === 1\r\n                                                          ? selectedItemTemp.variations\r\n                                                          : null,\r\n                                                      properties:\r\n                                                        selectedItemTemp &&\r\n                                                          parseInt(\r\n                                                            selectedItemTemp.has_property\r\n                                                          ) === 1\r\n                                                          ? selectedItemTemp.properties\r\n                                                          : null,\r\n                                                    });\r\n\r\n                                                    //set active order list index for background color of selected\r\n                                                    setActiveItemInOrder(\r\n                                                      orderListItemIndex\r\n                                                    );\r\n                                                  }}\r\n                                                >\r\n                                                  <div\r\n                                                    className={`row g-0 border-top-0 border-bottom `}\r\n                                                  >\r\n                                                    <div className=\"col-1 text-center border-left d-flex justify-content-center align-items-center\">\r\n                                                      {newOrder.length -\r\n                                                        orderListItemIndex}\r\n                                                    </div>\r\n                                                    <div\r\n                                                      className={`col-6 border-left border-right py-2`}\r\n                                                    >\r\n                                                      <div className=\"d-flex justify-content-between\">\r\n                                                        <span className=\"text-capitalize d-block t-pt-5 t-pb-5 t-pl-5 t-pr-5 sm-text font-weight-bold t-mr-8\">\r\n                                                          {\r\n                                                            orderListItem.item\r\n                                                              .name\r\n                                                          }\r\n                                                        </span>\r\n                                                      </div>\r\n                                                      <div className=\"row g-0\">\r\n                                                        {/* if item has variations show the selected in order list */}\r\n                                                        {parseInt(\r\n                                                          orderListItem.item\r\n                                                            .has_variation\r\n                                                        ) === 1 && (\r\n                                                            <div className=\"col-12\">\r\n                                                              <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pr-5 t-pl-5\">\r\n                                                                variation :\r\n                                                              </span>\r\n                                                              <span className=\"text-capitalize xsm-text d-inline-block badge rounded-pill bg-warning text-dark font-weight-md\">\r\n                                                                {orderListItem.variation\r\n                                                                  ? orderListItem\r\n                                                                    .variation\r\n                                                                    .variation_name\r\n                                                                  : \"-\"}\r\n                                                              </span>\r\n                                                            </div>\r\n                                                          )}\r\n\r\n                                                        {/* if item has properties show the selected in order list, loop here  */}\r\n                                                        {orderListItem.properties &&\r\n                                                          orderListItem\r\n                                                            .properties.length >\r\n                                                          0 &&\r\n                                                          selectedPropertyGroup[\r\n                                                          orderListItemIndex\r\n                                                          ] !== undefined &&\r\n                                                          selectedPropertyGroup[\r\n                                                            orderListItemIndex\r\n                                                          ].map(\r\n                                                            (thisIsGroup) => {\r\n                                                              let theGroup =\r\n                                                                propertyGroupForSearch &&\r\n                                                                propertyGroupForSearch.find(\r\n                                                                  (theItem) => {\r\n                                                                    return (\r\n                                                                      theItem.id ===\r\n                                                                      thisIsGroup\r\n                                                                    );\r\n                                                                  }\r\n                                                                );\r\n                                                              return (\r\n                                                                <div className=\"col-12\">\r\n                                                                  <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pr-5 t-pl-5\">\r\n                                                                    {theGroup &&\r\n                                                                      theGroup.name}{\" \"}\r\n                                                                    :\r\n                                                                  </span>\r\n                                                                  {orderListItem.properties.map(\r\n                                                                    (\r\n                                                                      propertyName\r\n                                                                    ) => {\r\n                                                                      if (\r\n                                                                        parseInt(\r\n                                                                          propertyName\r\n                                                                            .item\r\n                                                                            .property_group_id\r\n                                                                        ) ===\r\n                                                                        theGroup.id\r\n                                                                      ) {\r\n                                                                        return (\r\n                                                                          <span className=\"text-capitalize xsm-text d-inline-block badge rounded-pill bg-warning text-dark font-weight-md mr-1\">\r\n                                                                            {\r\n                                                                              propertyName\r\n                                                                                .item\r\n                                                                                .name\r\n                                                                            }{\" \"}\r\n                                                                            <span>\r\n                                                                              {\" \"}\r\n                                                                              {propertyName.quantity >\r\n                                                                                1 &&\r\n                                                                                \"(\" +\r\n                                                                                propertyName.quantity +\r\n                                                                                \")\"}\r\n                                                                            </span>\r\n                                                                          </span>\r\n                                                                        );\r\n                                                                      } else {\r\n                                                                        return true;\r\n                                                                      }\r\n                                                                    }\r\n                                                                  )}\r\n                                                                </div>\r\n                                                              );\r\n                                                            }\r\n                                                          )}\r\n\r\n                                                        {/* if item has properties show the selected in order list  */}\r\n                                                      </div>\r\n                                                    </div>\r\n                                                    {/* Quantity */}\r\n                                                    <div className=\"col-2 text-center border-right d-flex justify-content-center align-items-center\">\r\n                                                      <div className=\"fk-qty t-pt-5 t-pb-5 justify-content-center\">\r\n                                                        <span\r\n                                                          className=\"fk-qty__icon\"\r\n                                                          onClick={() => {\r\n                                                            handleOrderItemQty(\r\n                                                              \"-\"\r\n                                                            );\r\n                                                          }}\r\n                                                        >\r\n                                                          <i className=\"las la-minus\"></i>\r\n                                                        </span>\r\n                                                        <input\r\n                                                          type=\"text\"\r\n                                                          value={\r\n                                                            orderListItem.quantity\r\n                                                          }\r\n                                                          className=\"fk-qty__input t-bg-clear\"\r\n                                                          readOnly\r\n                                                        />\r\n                                                        <span\r\n                                                          className=\"fk-qty__icon\"\r\n                                                          onClick={() => {\r\n                                                            handleOrderItemQty(\r\n                                                              \"+\"\r\n                                                            );\r\n                                                          }}\r\n                                                        >\r\n                                                          <i className=\"las la-plus\"></i>\r\n                                                        </span>\r\n                                                      </div>\r\n                                                    </div>\r\n                                                    {/* Quantity */}\r\n\r\n                                                    {/* Price */}\r\n                                                    <div className=\"col-3 text-center border-right d-flex justify-content-center align-items-center\">\r\n                                                      <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                                        {parseInt(\r\n                                                          orderListItem.item\r\n                                                            .has_variation\r\n                                                        ) === 1 ? (\r\n                                                          <>\r\n                                                            {currencySymbolLeft()}\r\n\r\n                                                            {showPriceOfEachOrderItem(\r\n                                                              orderListItemIndex\r\n                                                            )}\r\n                                                            {currencySymbolRight()}\r\n                                                          </>\r\n                                                        ) : (\r\n                                                          <>\r\n                                                            {currencySymbolLeft()}\r\n                                                            {showPriceOfEachOrderItem(\r\n                                                              orderListItemIndex\r\n                                                            )}\r\n                                                            {currencySymbolRight()}\r\n                                                          </>\r\n                                                        )}\r\n                                                      </span>\r\n                                                    </div>\r\n                                                    {/* Price */}\r\n                                                  </div>\r\n                                                </div>\r\n                                                <span className=\"text-capitalize  t-pt-5 t-pb-5 t-pl-5 t-pr-5 sm-text font-weight-bold make-this-relative\">\r\n                                                  <span\r\n                                                    className=\"badge rounded-pill bg-secondary text-capitalize\"\r\n                                                    onClick={() => {\r\n                                                      handleRemoveItemFromOrderList(\r\n                                                        orderListItemIndex\r\n                                                      );\r\n                                                    }}\r\n                                                  >\r\n                                                    <i className=\"fa fa-times\"></i>\r\n                                                  </span>\r\n                                                </span>\r\n                                              </>\r\n                                            );\r\n                                          }\r\n                                        )\r\n                                      ) : (\r\n                                        <div className=\"text-primary text-center font-weight-bold pt-5 xsm-text text-uppercase\">\r\n                                          {_t(\r\n                                            t(\r\n                                              \"Select food item to add to the list\"\r\n                                            )\r\n                                          )}\r\n                                        </div>\r\n                                      )}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"fk-price-table__body-bottom t-mt-10\">\r\n                                <div className=\"fk-table__head\">\r\n                                  <div className=\"row g-0 border\">\r\n                                    <div className=\"col-6 text-center border-right\">\r\n                                      <div className=\"row g-0\">\r\n                                        <div className=\"col-6\">\r\n                                          <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                            {_t(t(\"sub total\"))}\r\n                                          </span>\r\n                                        </div>\r\n                                        <div className=\"col-6\">\r\n                                          {newOrder ? (\r\n                                            <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                              {currencySymbolLeft()}\r\n                                              {formatPrice(theSubTotal)}\r\n                                              {currencySymbolRight()}\r\n                                            </span>\r\n                                          ) : (\r\n                                            <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                              {currencySymbolLeft()}\r\n                                              {formatPrice(0)}\r\n                                              {currencySymbolRight()}\r\n                                            </span>\r\n                                          )}\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-6 text-center\">\r\n                                      <div className=\"row g-0\">\r\n                                        <div className=\"col-6\">\r\n                                          <span className=\"xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                            {getSystemSettings(\r\n                                              generalSettings,\r\n                                              \"vat_system\"\r\n                                            ) === \"igst\"\r\n                                              ? `vat(${newSettings !== null &&\r\n                                              newSettings.vat\r\n                                              })`\r\n                                              : getSystemSettings(\r\n                                                generalSettings,\r\n                                                \"vat_system\"\r\n                                              ) === \"cgst\"\r\n                                                ? \"cgst+sgst\" +\r\n                                                \"(\" +\r\n                                                getSystemSettings(\r\n                                                  generalSettings,\r\n                                                  \"cgst\"\r\n                                                ) +\r\n                                                \"+\" +\r\n                                                getSystemSettings(\r\n                                                  generalSettings,\r\n                                                  \"sgst\"\r\n                                                ) +\r\n                                                \")\" :\r\n                                                `tax(${newSettings !== null &&\r\n                                                newSettings.vat\r\n                                                })`}\r\n                                            %:\r\n                                          </span>\r\n                                        </div>\r\n                                        <div className=\"col-6\">\r\n                                          <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                            {currencySymbolLeft()}\r\n                                            {formatPrice(theVat)}\r\n                                            {currencySymbolRight()}\r\n                                          </span>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div className=\"row g-0 border\">\r\n                                    <div className=\"col-12 text-center border-right\">\r\n                                      <div className=\"row g-0 justify-content-end\">\r\n                                        <div\r\n                                          className=\"col-12 text-right\"\r\n                                          style={{\r\n                                            textAlign: \"start\",\r\n                                            paddingRight: \"50px\",\r\n                                          }}\r\n                                        >\r\n                                          <div className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                            {_t(t(\"Department Tag Commission\"))}\r\n                                            {orderDetails &&\r\n                                              orderDetails.dept_tag &&\r\n                                              \" (\" +\r\n                                              orderDetails.dept_tag\r\n                                                .commission +\r\n                                              \"%\" +\r\n                                              \")\"}{\" \"}\r\n                                            :{\" \"}\r\n                                            {newOrder ? (\r\n                                              <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                                {currencySymbolLeft()}\r\n                                                {formatPrice(deptCommission)}\r\n                                                {currencySymbolRight()}\r\n                                              </span>\r\n                                            ) : (\r\n                                              <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                                {currencySymbolLeft()}\r\n                                                {formatPrice(0)}\r\n                                                {currencySymbolRight()}\r\n                                              </span>\r\n                                            )}\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  {getSystemSettings(\r\n                                    generalSettings,\r\n                                    \"sDiscount\"\r\n                                  ) === \"flat\" && (\r\n                                      <div className=\"row g-0 border\">\r\n                                        <div className=\"col-6 text-center border-right\">\r\n                                          <div className=\"row g-0\">\r\n                                            <div className=\"col-6\">\r\n                                              <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                                {_t(t(\"service charge\"))}\r\n                                              </span>\r\n                                            </div>\r\n                                            <div className=\"col-6\">\r\n                                              <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                min=\"0\"\r\n                                                className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5 form-control rounded-0 text-center\"\r\n                                                onChange={(e) => {\r\n                                                  if (e.target.value !== \"\") {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      serviceCharge: parseFloat(\r\n                                                        e.target.value\r\n                                                      ),\r\n                                                    });\r\n                                                    let totalPayable = 0;\r\n                                                    let localCurrency =\r\n                                                      JSON.parse(\r\n                                                        localStorage.getItem(\r\n                                                          \"currency\"\r\n                                                        )\r\n                                                      );\r\n                                                    let usdServiceCharge =\r\n                                                      parseFloat(e.target.value) /\r\n                                                      localCurrency.rate;\r\n                                                    let usdDiscount =\r\n                                                      parseFloat(\r\n                                                        orderDetails.discount\r\n                                                      ) / localCurrency.rate;\r\n\r\n                                                    totalPayable =\r\n                                                      theSubTotal +\r\n                                                      theVat +\r\n                                                      usdServiceCharge -\r\n                                                      usdDiscount;\r\n                                                    setTotalPaybale(totalPayable);\r\n                                                    setReturnMoneyUsd(\r\n                                                      totalPayable - paidMoney\r\n                                                    );\r\n                                                  } else {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      serviceCharge: 0,\r\n                                                    });\r\n                                                    let totalPayable = 0;\r\n                                                    let localCurrency =\r\n                                                      JSON.parse(\r\n                                                        localStorage.getItem(\r\n                                                          \"currency\"\r\n                                                        )\r\n                                                      );\r\n                                                    let usdServiceCharge =\r\n                                                      parseFloat(0) /\r\n                                                      localCurrency.rate;\r\n                                                    let usdDiscount =\r\n                                                      parseFloat(\r\n                                                        orderDetails.discount\r\n                                                      ) / localCurrency.rate;\r\n\r\n                                                    totalPayable =\r\n                                                      theSubTotal +\r\n                                                      theVat +\r\n                                                      usdServiceCharge -\r\n                                                      usdDiscount;\r\n                                                    setTotalPaybale(totalPayable);\r\n                                                    setReturnMoneyUsd(\r\n                                                      totalPayable - paidMoney\r\n                                                    );\r\n                                                  }\r\n                                                }}\r\n                                                value={\r\n                                                  orderDetails.serviceCharge !==\r\n                                                  0 &&\r\n                                                  orderDetails.serviceCharge\r\n                                                }\r\n                                              />\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <div className=\"col-6 text-center\">\r\n                                          <div className=\"row g-0\">\r\n                                            <div className=\"col-6\">\r\n                                              <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                                {_t(t(\"discount\"))}\r\n                                              </span>\r\n                                            </div>\r\n                                            <div className=\"col-6\">\r\n                                              <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                min=\"0\"\r\n                                                className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5 form-control rounded-0 text-center\"\r\n                                                onChange={(e) => {\r\n                                                  if (e.target.value !== \"\") {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      discount: parseFloat(\r\n                                                        e.target.value\r\n                                                      ),\r\n                                                    });\r\n                                                    let totalPayable = 0;\r\n                                                    let localCurrency =\r\n                                                      JSON.parse(\r\n                                                        localStorage.getItem(\r\n                                                          \"currency\"\r\n                                                        )\r\n                                                      );\r\n                                                    let usdServiceCharge =\r\n                                                      parseFloat(\r\n                                                        orderDetails.serviceCharge\r\n                                                      ) / localCurrency.rate;\r\n                                                    let usdDiscount =\r\n                                                      parseFloat(e.target.value) /\r\n                                                      localCurrency.rate;\r\n\r\n                                                    totalPayable =\r\n                                                      theSubTotal +\r\n                                                      theVat +\r\n                                                      usdServiceCharge -\r\n                                                      usdDiscount;\r\n\r\n                                                    setTotalPaybale(totalPayable);\r\n                                                    setReturnMoneyUsd(\r\n                                                      totalPayable - paidMoney\r\n                                                    );\r\n                                                  } else {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      discount: 0,\r\n                                                    });\r\n                                                    let totalPayable = 0;\r\n                                                    let localCurrency =\r\n                                                      JSON.parse(\r\n                                                        localStorage.getItem(\r\n                                                          \"currency\"\r\n                                                        )\r\n                                                      );\r\n                                                    let usdServiceCharge =\r\n                                                      parseFloat(\r\n                                                        orderDetails.serviceCharge\r\n                                                      ) / localCurrency.rate;\r\n                                                    let usdDiscount =\r\n                                                      parseFloat(0) /\r\n                                                      localCurrency.rate;\r\n\r\n                                                    totalPayable =\r\n                                                      theSubTotal +\r\n                                                      theVat +\r\n                                                      usdServiceCharge -\r\n                                                      usdDiscount;\r\n                                                    setTotalPaybale(totalPayable);\r\n                                                    setReturnMoneyUsd(\r\n                                                      totalPayable - paidMoney\r\n                                                    );\r\n                                                  }\r\n                                                }}\r\n                                                value={\r\n                                                  orderDetails.discount !== 0 &&\r\n                                                  orderDetails.discount\r\n                                                }\r\n                                              />\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    )}\r\n                                  {getSystemSettings(\r\n                                    generalSettings,\r\n                                    \"sDiscount\"\r\n                                  ) === \"percentage\" && (\r\n                                      <div className=\"row g-0 border\">\r\n                                        <div className=\"col-6 text-center border-right\">\r\n                                          <div className=\"row g-0\">\r\n                                            <div className=\"col-6\">\r\n                                              <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                                {_t(t(\"service charge\"))} %\r\n                                              </span>\r\n                                            </div>\r\n                                            <div className=\"col-6\">\r\n                                              <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                min=\"0\"\r\n                                                className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5 form-control rounded-0 text-center\"\r\n                                                onChange={(e) => {\r\n                                                  if (e.target.value !== \"\") {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      serviceCharge: parseFloat(\r\n                                                        e.target.value\r\n                                                      ),\r\n                                                    });\r\n                                                    let totalPayable = 0;\r\n                                                    // let localCurrency = JSON.parse(\r\n                                                    //   localStorage.getItem(\r\n                                                    //     \"currency\"\r\n                                                    //   )\r\n                                                    // );\r\n                                                    // let usdServiceCharge =\r\n                                                    //   parseFloat(e.target.value) /\r\n                                                    //   localCurrency.rate;\r\n                                                    // console.log(\"coming\");\r\n                                                    let usdServiceCharge =\r\n                                                      theSubTotal *\r\n                                                      (parseFloat(\r\n                                                        e.target.value\r\n                                                      ) /\r\n                                                        100);\r\n\r\n                                                    // let usdDiscount =\r\n                                                    //   parseFloat(\r\n                                                    //     orderDetails.discount\r\n                                                    //   ) / localCurrency.rate;\r\n\r\n                                                    let usdDiscount =\r\n                                                      theSubTotal *\r\n                                                      (parseFloat(\r\n                                                        orderDetails.discount\r\n                                                      ) /\r\n                                                        100);\r\n\r\n                                                    totalPayable =\r\n                                                      theSubTotal +\r\n                                                      theVat +\r\n                                                      usdServiceCharge -\r\n                                                      usdDiscount;\r\n                                                    setTotalPaybale(totalPayable);\r\n                                                  } else {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      serviceCharge: 0,\r\n                                                    });\r\n                                                    let totalPayable = 0;\r\n                                                    // let localCurrency = JSON.parse(\r\n                                                    //   localStorage.getItem(\r\n                                                    //     \"currency\"\r\n                                                    //   )\r\n                                                    // );\r\n                                                    // let usdServiceCharge =\r\n                                                    //   parseFloat(0) /\r\n                                                    //   localCurrency.rate;\r\n                                                    let usdServiceCharge = 0;\r\n\r\n                                                    // let usdDiscount =\r\n                                                    //   parseFloat(\r\n                                                    //     orderDetails.discount\r\n                                                    //   ) / localCurrency.rate;\r\n\r\n                                                    let usdDiscount =\r\n                                                      theSubTotal *\r\n                                                      (parseFloat(\r\n                                                        orderDetails.discount\r\n                                                      ) /\r\n                                                        100);\r\n\r\n                                                    totalPayable =\r\n                                                      theSubTotal +\r\n                                                      theVat +\r\n                                                      usdServiceCharge -\r\n                                                      usdDiscount;\r\n                                                    setTotalPaybale(totalPayable);\r\n                                                  }\r\n                                                }}\r\n                                                value={\r\n                                                  orderDetails.serviceCharge !==\r\n                                                  0 &&\r\n                                                  orderDetails.serviceCharge\r\n                                                }\r\n                                              />\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <div className=\"col-6 text-center\">\r\n                                          <div className=\"row g-0\">\r\n                                            <div className=\"col-6\">\r\n                                              <span className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                                {_t(t(\"discount\"))} %\r\n                                              </span>\r\n                                            </div>\r\n                                            <div className=\"col-6\">\r\n                                              <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                min=\"0\"\r\n                                                className=\"text-capitalize xsm-text d-inline-block font-weight-bold t-pt-5 t-pb-5 form-control rounded-0 text-center\"\r\n                                                onChange={(e) => {\r\n                                                  if (e.target.value !== \"\") {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      discount: parseFloat(\r\n                                                        e.target.value\r\n                                                      ),\r\n                                                    });\r\n                                                    let totalPayable = 0;\r\n                                                    // let localCurrency = JSON.parse(\r\n                                                    //   localStorage.getItem(\r\n                                                    //     \"currency\"\r\n                                                    //   )\r\n                                                    // );\r\n                                                    // let usdServiceCharge =\r\n                                                    //   parseFloat(\r\n                                                    //     orderDetails.serviceCharge\r\n                                                    //   ) / localCurrency.rate;\r\n                                                    let usdServiceCharge =\r\n                                                      theSubTotal *\r\n                                                      (parseFloat(\r\n                                                        orderDetails.serviceCharge\r\n                                                      ) /\r\n                                                        100);\r\n\r\n                                                    // let usdDiscount =\r\n                                                    //   parseFloat(e.target.value) /\r\n                                                    //   localCurrency.rate;\r\n\r\n                                                    let usdDiscount =\r\n                                                      theSubTotal *\r\n                                                      (parseFloat(\r\n                                                        e.target.value\r\n                                                      ) /\r\n                                                        100);\r\n\r\n                                                    totalPayable =\r\n                                                      theSubTotal +\r\n                                                      theVat +\r\n                                                      usdServiceCharge -\r\n                                                      usdDiscount;\r\n\r\n                                                    setTotalPaybale(totalPayable);\r\n                                                  } else {\r\n                                                    setOrderDetails({\r\n                                                      ...orderDetails,\r\n                                                      discount: 0,\r\n                                                    });\r\n                                                    let totalPayable = 0;\r\n                                                    // let localCurrency = JSON.parse(\r\n                                                    //   localStorage.getItem(\r\n                                                    //     \"currency\"\r\n                                                    //   )\r\n                                                    // );\r\n\r\n                                                    let usdServiceCharge =\r\n                                                      theSubTotal *\r\n                                                      (parseFloat(\r\n                                                        orderDetails.serviceCharge\r\n                                                      ) /\r\n                                                        100);\r\n\r\n                                                    let usdDiscount = 0;\r\n\r\n                                                    totalPayable =\r\n                                                      theSubTotal +\r\n                                                      theVat +\r\n                                                      usdServiceCharge -\r\n                                                      usdDiscount;\r\n                                                    setTotalPaybale(totalPayable);\r\n                                                  }\r\n                                                }}\r\n                                                value={\r\n                                                  orderDetails.discount !== 0 &&\r\n                                                  orderDetails.discount\r\n                                                }\r\n                                              />\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"t-bg-epsilon t-pl-10 t-pr-10\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-6\">\r\n                                      <span className=\"text-capitalize font-weight-bold text-light d-block t-pt-8 t-pb-10\">\r\n                                        {_t(t(\"total bill\"))}\r\n                                      </span>\r\n                                    </div>\r\n                                    <div className=\"col-6 text-right\">\r\n                                      {totalPayable ? (\r\n                                        <span className=\"text-capitalize font-weight-bold text-light d-block t-pt-8 t-pb-10\">\r\n                                          {currencySymbolLeft()}\r\n                                          {formatPrice(totalPayable)}\r\n                                          {currencySymbolRight()}\r\n                                        </span>\r\n                                      ) : (\r\n                                        <span className=\"text-capitalize font-weight-bold text-light d-block t-pt-8 t-pb-10\">\r\n                                          {currencySymbolLeft()}\r\n                                          {formatPrice(0)}\r\n                                          {currencySymbolRight()}\r\n                                        </span>\r\n                                      )}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"row g-0 align-items-center t-mt-10\">\r\n                                  <div className=\"col-4\">\r\n                                    <div className=\"t-mr-8\">\r\n                                      <div className=\"fk-calculator-container\">\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          className=\"btn btn-info text-uppercase\"\r\n                                          onClick={() =>\r\n                                            setCalculatorMenu(!calculatorMenu)\r\n                                          }\r\n                                        >\r\n                                          <i className=\"fa fa-calculator\"></i>\r\n                                        </button>\r\n                                        <div\r\n                                          className={`calculator ${calculatorMenu && \"active\"\r\n                                            }`}\r\n                                        >\r\n                                          <Calculator />\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  {getSystemSettings(\r\n                                    generalSettings,\r\n                                    \"pos_screen\"\r\n                                  ) === \"0\" && (\r\n                                      <div className=\"col-8\">\r\n                                        <div className=\"d-flex justify-content-end align-items-center\">\r\n                                          {returnMoneyUsd > 0 && (\r\n                                            <div className=\"t-mr-8\">\r\n                                              <span className=\"text-capitalize font-weight-bold mr-2\">\r\n                                                {_t(t(\"Return\"))}\r\n                                              </span>\r\n                                              {totalPayable ? (\r\n                                                <span className=\"text-capitalize font-weight-bold t-pt-8 t-pb-10\">\r\n                                                  {currencySymbolLeft()}\r\n                                                  {formatPrice(returnMoneyUsd)}\r\n                                                  {currencySymbolRight()}\r\n                                                </span>\r\n                                              ) : (\r\n                                                <span className=\"text-capitalize font-weight-bold t-pt-8 t-pb-10\">\r\n                                                  {currencySymbolLeft()}\r\n                                                  {formatPrice(0)}\r\n                                                  {currencySymbolRight()}\r\n                                                </span>\r\n                                              )}\r\n                                            </div>\r\n                                          )}\r\n\r\n                                          <div className=\"t-mr-8\">\r\n                                            <button\r\n                                              type=\"button\"\r\n                                              className=\"btn btn-primary sm-text text-uppercase font-weight-bold\"\r\n                                              onClick={\r\n                                                !loading && handleSettleOrder\r\n                                              }\r\n                                            >\r\n                                              {!loading\r\n                                                ? _t(t(\"settle\"))\r\n                                                : _t(t(\"Please wait\"))}\r\n                                            </button>\r\n                                          </div>\r\n                                          <div>\r\n                                            <button\r\n                                              type=\"button\"\r\n                                              className=\"btn btn-success sm-text text-uppercase font-weight-bold\"\r\n                                              onClick={\r\n                                                !loading && handleSubmitOrder\r\n                                              }\r\n                                            >\r\n                                              {!loading\r\n                                                ? _t(t(\"submit\"))\r\n                                                : _t(t(\"Please wait\"))}\r\n                                            </button>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    )}\r\n                                  {getSystemSettings(\r\n                                    generalSettings,\r\n                                    \"pos_screen\"\r\n                                  ) === \"1\" && (\r\n                                      <div className=\"col-8\">\r\n                                        <div className=\"d-flex justify-content-end align-items-center\">\r\n                                          <div className=\"t-mr-8\">\r\n                                            <button\r\n                                              type=\"button\"\r\n                                              className=\"btn btn-primary sm-text text-uppercase font-weight-bold\"\r\n                                              onClick={handleSettleOrderButton}\r\n                                            >\r\n                                              {!loading\r\n                                                ? _t(t(\"settle\"))\r\n                                                : _t(t(\"Please wait\"))}\r\n                                            </button>\r\n                                          </div>\r\n                                          <div>\r\n                                            <button\r\n                                              type=\"button\"\r\n                                              className=\"btn btn-success sm-text text-uppercase font-weight-bold\"\r\n                                              onClick={\r\n                                                !loading && handleSubmitOrder\r\n                                              }\r\n                                            >\r\n                                              {!loading\r\n                                                ? _t(t(\"submit\"))\r\n                                                : _t(t(\"Please wait\"))}\r\n                                            </button>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    )}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {/* Display Only Large Screen End  */}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Right Side End */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* Show In Tab   */}\r\n        </main>\r\n      </div>\r\n\r\n      {/* show settle  */}\r\n      <div\r\n        className={`fk-settle-container d-flex flex-column justify-content-center ${showSettle ? \"\" : \"d-none\"\r\n          }`}\r\n      >\r\n        <div className=\"fk-settle\">\r\n          <div className=\"container-fluid\">\r\n            <div className=\"row gx-3\">\r\n              <div className=\"col-lg-6 d-none d-lg-block\">\r\n                <span className=\"sm-text d-block text-capitalize font-weight-bold py-3\">\r\n                  new order\r\n                </span>\r\n                <div\r\n                  className=\"fk-settle__products d-flex flex-column\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"container-fluid\">\r\n                    <div className=\"row gx-3\">\r\n                      <div className=\"col-12\">\r\n                        {/* POS Product list will be here  */}\r\n                        <div className=\"fk-price-table__body t-mt-10\">\r\n                          <div className=\"fk-price-table__body-top\">\r\n                            <div className=\"fk-table\">\r\n                              <div className=\"fk-table__head\">\r\n                                <div className=\"row g-0 border\">\r\n                                  <div className=\"col-1 text-center border-right\">\r\n                                    <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                      {_t(t(\"S/L\"))}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"col-6 text-center border-right\">\r\n                                    <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                      {_t(t(\"food item\"))}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"col-2 text-center border-right\">\r\n                                    <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                      {_t(t(\"QTY\"))}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"col-3 text-center\">\r\n                                    <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pt-5 t-pb-5\">\r\n                                      {_t(t(\"price\"))}\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"t-pb-30\">\r\n                                <div className=\"sky-is-blue reverse-this\">\r\n                                  {/* loop through order list items */}\r\n                                  {newOrder && newOrder.length > 0 ? (\r\n                                    newOrder.map(\r\n                                      (orderListItem, orderListItemIndex) => {\r\n                                        return (\r\n                                          <>\r\n                                            <div\r\n                                              className={`fk-table-container-order ${orderListItemIndex ===\r\n                                                activeItemInOrder && \"active\"\r\n                                                } `}\r\n                                              onClick={(e) => {\r\n                                                e.preventDefault();\r\n                                                //orderListItem's group wise all items\r\n                                                let tempItems =\r\n                                                  foodForSearch &&\r\n                                                  foodForSearch.filter(\r\n                                                    (tempItem) => {\r\n                                                      return (\r\n                                                        tempItem.food_group_id ===\r\n                                                        orderListItem.item\r\n                                                          .food_group_id\r\n                                                      );\r\n                                                    }\r\n                                                  );\r\n\r\n                                                //orderListItem's group\r\n                                                let foodGroup =\r\n                                                  foodGroupForSearch &&\r\n                                                  foodGroupForSearch.find(\r\n                                                    (groupItem) => {\r\n                                                      return (\r\n                                                        groupItem.id ===\r\n                                                        parseInt(\r\n                                                          orderListItem.item\r\n                                                            .food_group_id\r\n                                                        )\r\n                                                      );\r\n                                                    }\r\n                                                  );\r\n\r\n                                                // selected pos item\r\n                                                let selectedItemTemp =\r\n                                                  tempItems &&\r\n                                                  tempItems.find(\r\n                                                    (tempSelectedItem) => {\r\n                                                      return (\r\n                                                        tempSelectedItem.id ===\r\n                                                        orderListItem.item.id\r\n                                                      );\r\n                                                    }\r\n                                                  );\r\n\r\n                                                // Set variations, properties, selected item\r\n                                                setFoodItem({\r\n                                                  ...foodItem,\r\n                                                  foodGroup: foodGroup,\r\n                                                  items: tempItems,\r\n                                                  selectedItem:\r\n                                                    selectedItemTemp,\r\n                                                  variations:\r\n                                                    selectedItemTemp &&\r\n                                                      parseInt(\r\n                                                        selectedItemTemp.has_variation\r\n                                                      ) === 1\r\n                                                      ? selectedItemTemp.variations\r\n                                                      : null,\r\n\r\n                                                  properties:\r\n                                                    selectedItemTemp &&\r\n                                                      parseInt(\r\n                                                        selectedItemTemp.has_property\r\n                                                      ) === 1\r\n                                                      ? selectedItemTemp.properties\r\n                                                      : null,\r\n                                                });\r\n\r\n                                                //set active order list index for background color of selected\r\n                                                setActiveItemInOrder(\r\n                                                  orderListItemIndex\r\n                                                );\r\n                                              }}\r\n                                            >\r\n                                              <div\r\n                                                className={`row g-0 border-top-0 border-bottom `}\r\n                                              >\r\n                                                <div className=\"col-1 text-center border-left d-flex justify-content-center align-items-center\">\r\n                                                  {newOrder.length -\r\n                                                    orderListItemIndex}\r\n                                                </div>\r\n                                                <div\r\n                                                  className={`col-6 border-left border-right py-2`}\r\n                                                >\r\n                                                  <div className=\"d-flex justify-content-between\">\r\n                                                    <span className=\"text-capitalize d-block t-pt-5 t-pb-5 t-pl-5 t-pr-5 sm-text font-weight-bold t-mr-8\">\r\n                                                      {orderListItem.item.name}\r\n                                                    </span>\r\n                                                  </div>\r\n                                                  <div className=\"row g-0\">\r\n                                                    {/* if item has variations show the selected in order list */}\r\n                                                    {parseInt(\r\n                                                      orderListItem.item\r\n                                                        .has_variation\r\n                                                    ) === 1 && (\r\n                                                        <div className=\"col-12\">\r\n                                                          <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pr-5 t-pl-5\">\r\n                                                            variation :\r\n                                                          </span>\r\n                                                          <span className=\"text-capitalize xsm-text d-inline-block badge rounded-pill bg-warning text-dark font-weight-md\">\r\n                                                            {orderListItem.variation\r\n                                                              ? orderListItem\r\n                                                                .variation\r\n                                                                .variation_name\r\n                                                              : \"-\"}\r\n                                                          </span>\r\n                                                        </div>\r\n                                                      )}\r\n\r\n                                                    {/* if item has properties show the selected in order list, loop here  */}\r\n                                                    {orderListItem.properties &&\r\n                                                      orderListItem.properties\r\n                                                        .length > 0 &&\r\n                                                      selectedPropertyGroup[\r\n                                                      orderListItemIndex\r\n                                                      ] !== undefined &&\r\n                                                      selectedPropertyGroup[\r\n                                                        orderListItemIndex\r\n                                                      ].map((thisIsGroup) => {\r\n                                                        let theGroup =\r\n                                                          propertyGroupForSearch &&\r\n                                                          propertyGroupForSearch.find(\r\n                                                            (theItem) => {\r\n                                                              return (\r\n                                                                theItem.id ===\r\n                                                                thisIsGroup\r\n                                                              );\r\n                                                            }\r\n                                                          );\r\n                                                        return (\r\n                                                          <div className=\"col-12\">\r\n                                                            <span className=\"text-capitalize sm-text d-inline-block font-weight-bold t-pr-5 t-pl-5\">\r\n                                                              {theGroup &&\r\n                                                                theGroup.name}{\" \"}\r\n                                                              :\r\n                                                            </span>\r\n                                                            {orderListItem.properties.map(\r\n                                                              (\r\n                                                                propertyName\r\n                                                              ) => {\r\n                                                                if (\r\n                                                                  parseInt(\r\n                                                                    propertyName\r\n                                                                      .item\r\n                                                                      .property_group_id\r\n                                                                  ) ===\r\n                                                                  theGroup.id\r\n                                                                ) {\r\n                                                                  return (\r\n                                                                    <span className=\"text-capitalize xsm-text d-inline-block badge rounded-pill bg-warning text-dark font-weight-md mr-1\">\r\n                                                                      {\r\n                                                                        propertyName\r\n                                                                          .item\r\n                                                                          .name\r\n                                                                      }{\" \"}\r\n                                                                      <span>\r\n                                                                        {\" \"}\r\n                                                                        {propertyName.quantity >\r\n                                                                          1 &&\r\n                                                                          \"(\" +\r\n                                                                          propertyName.quantity +\r\n                                                                          \")\"}\r\n                                                                      </span>\r\n                                                                    </span>\r\n                                                                  );\r\n                                                                } else {\r\n                                                                  return true;\r\n                                                                }\r\n                                                              }\r\n                                                            )}\r\n                                                          </div>\r\n                                                        );\r\n                                                      })}\r\n\r\n                                                    {/* if item has properties show the selected in order list  */}\r\n                                                  </div>\r\n                                                </div>\r\n                                                {/* Quantity */}\r\n                                                <div className=\"col-2 text-center border-right d-flex justify-content-center align-items-center\">\r\n                                                  <div className=\"fk-qty t-pt-5 t-pb-5 justify-content-center\">\r\n                                                    <input\r\n                                                      type=\"text\"\r\n                                                      value={\r\n                                                        orderListItem.quantity\r\n                                                      }\r\n                                                      className=\"fk-qty__input t-bg-clear\"\r\n                                                      readOnly\r\n                                                    />\r\n                                                  </div>\r\n                                                </div>\r\n                                                {/* Quantity */}\r\n\r\n                                                {/* Price */}\r\n                                                <div className=\"col-3 text-center border-right d-flex justify-content-center align-items-center\">\r\n                                                  <div className=\"text-capitalize sm-text font-weight-bold t-pt-5 t-pb-5\">\r\n                                                    {parseInt(\r\n                                                      orderListItem.item\r\n                                                        .has_variation\r\n                                                    ) === 1 ? (\r\n                                                      <>\r\n                                                        {currencySymbolLeft()}\r\n\r\n                                                        {showPriceOfEachOrderItem(\r\n                                                          orderListItemIndex\r\n                                                        )}\r\n                                                        {currencySymbolRight()}\r\n                                                      </>\r\n                                                    ) : (\r\n                                                      <>\r\n                                                        {currencySymbolLeft()}\r\n                                                        {showPriceOfEachOrderItem(\r\n                                                          orderListItemIndex\r\n                                                        )}\r\n                                                        {currencySymbolRight()}\r\n                                                      </>\r\n                                                    )}\r\n                                                  </div>\r\n                                                </div>\r\n                                                {/* Price */}\r\n                                              </div>\r\n                                            </div>\r\n                                          </>\r\n                                        );\r\n                                      }\r\n                                    )\r\n                                  ) : (\r\n                                    <div className=\"text-primary text-center font-weight-bold pt-5 xsm-text text-uppercase\">\r\n                                      {_t(\r\n                                        t(\"Select food item to add to the list\")\r\n                                      )}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <div className=\"row gx-3\">\r\n                  <div className=\"col-md-9\">\r\n                    {returnMoneyUsd > 0 ? (\r\n                      <div\r\n                        className=\"alert alert-danger text-center\"\r\n                        style={{ height: \"56px\", marginTop: \"16px\" }}\r\n                      >\r\n                        Return Amount: {formatPrice(returnMoneyUsd)}\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <div className=\"fk-settle-group d-flex t-mt-15\">\r\n                          <label\r\n                            htmlFor=\"settle-total\"\r\n                            className=\"text-capitalize w-50 fk-settle-group__label font-weight-bold\"\r\n                          >\r\n                            total:\r\n                          </label>\r\n                          <div\r\n                            id=\"settle-total\"\r\n                            className=\"w-50 fk-settle-group__input text-right pr-2 font-weight-bold\"\r\n                          >\r\n                            {formatPrice(totalPayable)}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"fk-settle-group d-flex t-mt-10 t-mb-15\">\r\n                          <label\r\n                            htmlFor=\"settle-paid-amount\"\r\n                            className=\"text-capitalize w-50 fk-settle-group__label font-weight-bold\"\r\n                          >\r\n                            paid amount:\r\n                          </label>\r\n                          <div\r\n                            id=\"settle-total\"\r\n                            className=\"w-50 fk-settle-group__input text-right pr-2 font-weight-bold\"\r\n                          >\r\n                            {paidMoney}\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                    <div className=\"fk-settle-cal container-fluid\">\r\n                      <div className=\"row h-100 g-2 mt-1\">\r\n                        <div className=\"col-2\">\r\n                          <div className=\"row g-2 h-100\">\r\n                            <div className=\"col-12\">\r\n                              <button\r\n                                className=\"fk-settle-cal-btn t-bg-p t-text-white\"\r\n                                onClick={() => {\r\n                                  if (!returnMoneyUsd > 0) {\r\n                                    setPaidMoney(paidMoney + 10);\r\n                                  }\r\n                                }}\r\n                              >\r\n                                10\r\n                              </button>\r\n                            </div>\r\n                            <div className=\"col-12\">\r\n                              <button\r\n                                className=\"fk-settle-cal-btn t-bg-p t-text-white\"\r\n                                onClick={() => {\r\n                                  if (!returnMoneyUsd > 0) {\r\n                                    setPaidMoney(paidMoney + 20);\r\n                                  }\r\n                                }}\r\n                              >\r\n                                20\r\n                              </button>\r\n                            </div>\r\n                            <div className=\"col-12\">\r\n                              <button\r\n                                className=\"fk-settle-cal-btn t-bg-p t-text-white\"\r\n                                onClick={() => {\r\n                                  if (!returnMoneyUsd > 0) {\r\n                                    setPaidMoney(paidMoney + 50);\r\n                                  }\r\n                                }}\r\n                              >\r\n                                50\r\n                              </button>\r\n                            </div>\r\n                            <div className=\"col-12 mb-2\">\r\n                              <button\r\n                                className=\"fk-settle-cal-btn t-bg-p t-text-white\"\r\n                                onClick={() => {\r\n                                  if (!returnMoneyUsd > 0) {\r\n                                    setPaidMoney(paidMoney + 100);\r\n                                  }\r\n                                }}\r\n                              >\r\n                                100\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-10\">\r\n                          <div className=\"row g-2 h-100\">\r\n                            <div className=\"col-3\">\r\n                              <div className=\"row g-2 h-100\">\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 1);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    1\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 4);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    4\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 7);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    7\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-p t-text-white\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 500);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    500\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-3\">\r\n                              <div className=\"row g-2 h-100\">\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 2);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    2\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 5);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    5\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 8);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    8\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-p t-text-white\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 1000);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    1000\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-3\">\r\n                              <div className=\"row g-2 h-100\">\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 3);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    3\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 6);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    6\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-bg-w\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        setPaidMoney(paidMoney + 9);\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    9\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn  t-bg-d t-text-white\"\r\n                                    onClick={() => {\r\n                                      setPaidMoney(0);\r\n                                      setReturnMoneyUsd(0);\r\n                                      setOrderDetails({\r\n                                        ...orderDetails,\r\n                                        payment_type: null,\r\n                                      });\r\n                                    }}\r\n                                  >\r\n                                    C\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"col-3\">\r\n                              <div className=\"row g-2 h-100\">\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-text-white t-bg-ac text-capitalize\"\r\n                                    onClick={() => {\r\n                                      let theP = parseFloat(\r\n                                        formatPrice(totalPayable)\r\n                                      );\r\n                                      setPaidMoney(theP);\r\n                                    }}\r\n                                  >\r\n                                    all\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-text-white t-bg-ac text-capitalize\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        let theP = formatPrice(\r\n                                          parseFloat(totalPayable) / 2\r\n                                        );\r\n                                        setPaidMoney(parseFloat(theP));\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    1/2\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn t-text-white t-bg-ac text-capitalize\"\r\n                                    onClick={() => {\r\n                                      if (!returnMoneyUsd > 0) {\r\n                                        let theP = formatPrice(\r\n                                          parseFloat(totalPayable) / 3\r\n                                        );\r\n                                        setPaidMoney(parseFloat(theP));\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    1/3\r\n                                  </button>\r\n                                </div>\r\n                                <div className=\"col-12\">\r\n                                  <button\r\n                                    className=\"fk-settle-cal-btn bg-primary t-text-white t-bg-r text-capitalize\"\r\n                                    onClick={!loading && handleSettleOrder}\r\n                                  >\r\n                                    {!loading ? _t(t(\"settle\")) : _t(t(\"wait\"))}\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"d-flex flex-column justify-content-center t-mt-15\">\r\n                      <div className=\"fk-settle__pay\" data-simplebar>\r\n                        <div className=\"row gx-3\">\r\n                          <div className=\"col-12\">\r\n                            {/* POS Navigation will ber here */}\r\n                            <ul className=\"t-list fk-pos-nav list-group\">\r\n                              <li className=\"fk-pos-nav__list\">\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => {\r\n                                    setShowSettle(false);\r\n                                  }}\r\n                                  className=\"w-100 t-text-dark t-heading-font btn alert alert-danger font-weight-bold text-uppercase py-3 mb-3\"\r\n                                >\r\n                                  Go back\r\n                                </button>\r\n                              </li>\r\n                              {/* paymentTypes */}\r\n                              {paymentTypeForSearch &&\r\n                                paymentTypeForSearch.map(\r\n                                  (groupItem, groupIndex) => {\r\n                                    return (\r\n                                      <li\r\n                                        className=\"fk-pos-nav__list\"\r\n                                        key={groupIndex}\r\n                                      >\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          //set active or !\r\n                                          className={`w-100 t-text-dark t-heading-font btn btn-outline-danger font-weight-bold text-uppercase py-3 ${orderDetails &&\r\n                                            orderDetails.payment_type !==\r\n                                            null &&\r\n                                            orderDetails.payment_type[0].id ===\r\n                                            groupItem.id\r\n                                            ? \"active\"\r\n                                            : \"\"\r\n                                            }`}\r\n                                          onClick={() => {\r\n                                            handleSetpaymentTypeSingle(\r\n                                              groupItem\r\n                                            );\r\n                                          }}\r\n                                        >\r\n                                          {groupItem.name}\r\n                                        </button>\r\n                                      </li>\r\n                                    );\r\n                                  }\r\n                                )}\r\n                              {/* paymentTypes */}\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Pos;\r\n"]},"metadata":{},"sourceType":"module"}