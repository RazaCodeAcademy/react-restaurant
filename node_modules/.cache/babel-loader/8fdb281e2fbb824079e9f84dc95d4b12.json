{"ast":null,"code":"import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import{useHistory,NavLink}from\"react-router-dom\";//pages & includes\nimport ManageSidebar from\"../ManageSidebar\";//functions\nimport{_t,getCookie,tableLoading,pagination,paginationLoading,showingData,searchedShowingData,formatPrice,currencySymbolLeft,currencySymbolRight}from\"../../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../../BaseUrl\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{confirmAlert}from\"react-confirm-alert\";import\"react-confirm-alert/src/react-confirm-alert.css\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Moment from\"react-moment\";//context consumer\nimport{SettingsContext}from\"../../../../../contexts/Settings\";import{FoodContext}from\"../../../../../contexts/Food\";var FoodPurchaseHistory=function FoodPurchaseHistory(){var _useTranslation=useTranslation(),t=_useTranslation.t;//getting context values here\nvar _useContext=useContext(SettingsContext),loading=_useContext.loading,setLoading=_useContext.setLoading;var _useContext2=useContext(FoodContext),foodPurchaseHistory=_useContext2.foodPurchaseHistory,setFoodPurchaseHistory=_useContext2.setFoodPurchaseHistory,setPaginatedFoodPurchase=_useContext2.setPaginatedFoodPurchase,foodPurchaseHistoryForSearch=_useContext2.foodPurchaseHistoryForSearch,setFoodPurchaseHistoryForSearch=_useContext2.setFoodPurchaseHistoryForSearch,dataPaginating=_useContext2.dataPaginating;// States hook here\n//new customer\nvar _useState=useState({name:\"\",email:\"\",phn_no:\"\",address:\"\",due:null,edit:false,editSlug:null,uploading:false}),_useState2=_slicedToArray(_useState,2),newSupplier=_useState2[0],setNewSupplier=_useState2[1];//search result\nvar _useState3=useState({list:null,searched:false}),_useState4=_slicedToArray(_useState3,2),searchedSupplier=_useState4[0],setSearchedSupplier=_useState4[1];//useEffect == componentDidMount\nuseEffect(function(){},[]);//search purchase here\nvar handleSearch=function handleSearch(e){var searchInput=e.target.value.toLowerCase();if(searchInput.length===0){setSearchedSupplier(_objectSpread(_objectSpread({},searchedSupplier),{},{searched:false}));}else{var searchedList=foodPurchaseHistoryForSearch.filter(function(item){//name\nvar lowerCaseItemSupplierName=item.supplier_name.toLowerCase();//email\nvar lowerCaseItemInvoice=item.invoice_number!==null&&item.invoice_number.toLowerCase();return lowerCaseItemSupplierName.includes(searchInput)||lowerCaseItemInvoice.includes(searchInput);});setSearchedSupplier(_objectSpread(_objectSpread({},searchedSupplier),{},{list:searchedList,searched:true}));}};//delete confirmation modal of waiter\nvar handleDeleteConfirmation=function handleDeleteConfirmation(id){confirmAlert({customUI:function customUI(_ref){var onClose=_ref.onClose;return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"h1\",null,_t(t(\"Are you sure?\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},_t(t(\"You want to delete this?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){handleDeletePurchase(id);onClose();}},_t(t(\"Yes, delete it!\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success ml-2 px-3\",onClick:onClose},_t(t(\"No\")))));}});};//delete purchase here\nvar handleDeletePurchase=function handleDeletePurchase(id){setLoading(true);var url=BASE_URL+\"/settings/delete-food_purchase/\".concat(id);return axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setFoodPurchaseHistory(res.data[0]);setFoodPurchaseHistoryForSearch(res.data[1]);setSearchedSupplier(_objectSpread(_objectSpread({},searchedSupplier),{},{list:res.data[1]}));setLoading(false);toast.success(\"\".concat(_t(t(\"Purchase has been deleted successfully\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}).catch(function(){setLoading(false);toast.error(\"\".concat(_t(t(\"Please try again\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Food Purchases\")))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(ManageSidebar,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--pos-menu\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},newSupplier.uploading===true||loading===true?tableLoading():/*#__PURE__*/React.createElement(\"div\",{key:\"fragment3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center t-pt-15 t-pb-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-5 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-capitalize\"},!searchedSupplier.searched?_t(t(\"Food Purchases List\")):_t(t(\"Search Result\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-file\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border-0 form-control--light-1 rounded-0\",placeholder:_t(t(\"Search\"))+\"..\",onChange:handleSearch})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"button\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-search\",\"aria-hidden\":\"true\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 text-md-right\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/manage/stock/food-purchase\",className:\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\"},_t(t(\"add new\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover min-table-height\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"S/L\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Supplier\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Invoice\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Purchased\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Total\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Due\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Action\"))))),/*#__PURE__*/React.createElement(\"tbody\",{className:\"align-middle\"},!searchedSupplier.searched?[foodPurchaseHistory&&[foodPurchaseHistory.data.length===0?/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"td\",{scope:\"row\",colSpan:\"7\",className:\"xsm-text align-middle text-center\"},_t(t(\"No data available\")))):foodPurchaseHistory.data.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\",key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",className:\"xsm-text text-capitalize align-middle text-center\"},index+1+(foodPurchaseHistory.current_page-1)*foodPurchaseHistory.per_page),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},item.supplier_name),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},item.invoice_number),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(Moment,{format:\"LL\"},item.purchase_date)),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},currencySymbolLeft(),formatPrice(item.total_bill),currencySymbolRight()),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},currencySymbolLeft(),formatPrice(item.credit_amount),currencySymbolRight()),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn t-bg-clear t-text-dark--light-40\",type:\"button\",\"data-toggle\":\"dropdown\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-ellipsis-h\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/manage/stock/purchase-history-food-edit/\".concat(item.id),className:\"dropdown-item sm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"})),_t(t(\"View/Edit\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-item sm-text text-capitalize\",onClick:function onClick(){handleDeleteConfirmation(item.id);}},/*#__PURE__*/React.createElement(\"span\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-trash\"})),_t(t(\"Delete\")))))));})]]:[/* searched data, logic === haveData*/searchedSupplier&&[searchedSupplier.list.length===0?/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"td\",{scope:\"row\",colSpan:\"7\",className:\"xsm-text align-middle text-center\"},_t(t(\"No data available\")))):searchedSupplier.list.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\",key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",className:\"xsm-text text-capitalize align-middle text-center\"},index+1+(foodPurchaseHistory.current_page-1)*foodPurchaseHistory.per_page),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},item.supplier_name),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},item.invoice_number),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(Moment,{format:\"LL\"},item.purchase_date)),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},currencySymbolLeft(),formatPrice(item.total_bill),currencySymbolRight()),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},currencySymbolLeft(),formatPrice(item.credit_amount),currencySymbolRight()),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn t-bg-clear t-text-dark--light-40\",type:\"button\",\"data-toggle\":\"dropdown\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-ellipsis-h\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/dashboard/manage/stock/purchase-history-food-edit/\".concat(item.id),className:\"dropdown-item sm-text text-capitalize\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"})),_t(t(\"View/Edit\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"dropdown-item sm-text text-capitalize\",onClick:function onClick(){handleDeleteConfirmation(item.id);}},/*#__PURE__*/React.createElement(\"span\",{className:\"t-mr-8\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-trash\"})),_t(t(\"Delete\")))))));})]]))))))),newSupplier.uploading===true||loading===true?paginationLoading():[// logic === !searched\n!searchedSupplier.searched?/*#__PURE__*/React.createElement(\"div\",{key:\"fragment4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white mt-1 t-pt-5 t-pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 t-mb-15 mb-md-0\"},pagination(foodPurchaseHistory,setPaginatedFoodPurchase)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex justify-content-md-end align-items-center\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block sm-text\"},showingData(foodPurchaseHistory)))))))):/*#__PURE__*/ // if searched\nReact.createElement(\"div\",{className:\"t-bg-white mt-1 t-pt-5 t-pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item no-pagination-style\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm\",onClick:function onClick(){return setSearchedSupplier(_objectSpread(_objectSpread({},searchedSupplier),{},{searched:false}));}},_t(t(\"Clear Search\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list d-flex justify-content-md-end align-items-center\"},/*#__PURE__*/React.createElement(\"li\",{className:\"t-list__item\"},/*#__PURE__*/React.createElement(\"span\",{className:\"d-inline-block sm-text\"},searchedShowingData(searchedSupplier,foodPurchaseHistoryForSearch)))))))])))));};export default FoodPurchaseHistory;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/stock/FoodPurchaseHistory.js"],"names":["React","useState","useContext","useEffect","useHistory","NavLink","ManageSidebar","_t","getCookie","tableLoading","pagination","paginationLoading","showingData","searchedShowingData","formatPrice","currencySymbolLeft","currencySymbolRight","useTranslation","axios","BASE_URL","Helmet","confirmAlert","toast","Moment","SettingsContext","FoodContext","FoodPurchaseHistory","t","loading","setLoading","foodPurchaseHistory","setFoodPurchaseHistory","setPaginatedFoodPurchase","foodPurchaseHistoryForSearch","setFoodPurchaseHistoryForSearch","dataPaginating","name","email","phn_no","address","due","edit","editSlug","uploading","newSupplier","setNewSupplier","list","searched","searchedSupplier","setSearchedSupplier","handleSearch","e","searchInput","target","value","toLowerCase","length","searchedList","filter","item","lowerCaseItemSupplierName","supplier_name","lowerCaseItemInvoice","invoice_number","includes","handleDeleteConfirmation","id","customUI","onClose","handleDeletePurchase","url","get","headers","Authorization","then","res","data","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","catch","error","map","index","current_page","per_page","purchase_date","total_bill","credit_amount"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory, NavLink } from \"react-router-dom\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n  pagination,\r\n  paginationLoading,\r\n  showingData,\r\n  searchedShowingData,\r\n  formatPrice,\r\n  currencySymbolLeft,\r\n  currencySymbolRight,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../../BaseUrl\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Moment from \"react-moment\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\nimport { FoodContext } from \"../../../../../contexts/Food\";\r\n\r\nconst FoodPurchaseHistory = () => {\r\n  const { t } = useTranslation();\r\n  //getting context values here\r\n  let {\r\n    //common\r\n    loading,\r\n    setLoading,\r\n  } = useContext(SettingsContext);\r\n\r\n  let {\r\n    //food purchases\r\n    foodPurchaseHistory,\r\n    setFoodPurchaseHistory,\r\n    setPaginatedFoodPurchase,\r\n    foodPurchaseHistoryForSearch,\r\n    setFoodPurchaseHistoryForSearch,\r\n    //pagination\r\n    dataPaginating,\r\n  } = useContext(FoodContext);\r\n\r\n  // States hook here\r\n  //new customer\r\n  let [newSupplier, setNewSupplier] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phn_no: \"\",\r\n    address: \"\",\r\n    due: null,\r\n    edit: false,\r\n    editSlug: null,\r\n    uploading: false,\r\n  });\r\n\r\n  //search result\r\n  let [searchedSupplier, setSearchedSupplier] = useState({\r\n    list: null,\r\n    searched: false,\r\n  });\r\n\r\n  //useEffect == componentDidMount\r\n  useEffect(() => { }, []);\r\n\r\n  //search purchase here\r\n  const handleSearch = (e) => {\r\n    let searchInput = e.target.value.toLowerCase();\r\n    if (searchInput.length === 0) {\r\n      setSearchedSupplier({ ...searchedSupplier, searched: false });\r\n    } else {\r\n      let searchedList = foodPurchaseHistoryForSearch.filter((item) => {\r\n        //name\r\n        let lowerCaseItemSupplierName = item.supplier_name.toLowerCase();\r\n\r\n        //email\r\n        let lowerCaseItemInvoice =\r\n          item.invoice_number !== null && item.invoice_number.toLowerCase();\r\n\r\n        return (\r\n          lowerCaseItemSupplierName.includes(searchInput) ||\r\n          lowerCaseItemInvoice.includes(searchInput)\r\n        );\r\n      });\r\n      setSearchedSupplier({\r\n        ...searchedSupplier,\r\n        list: searchedList,\r\n        searched: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  //delete confirmation modal of waiter\r\n  const handleDeleteConfirmation = (id) => {\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className=\"card card-body\">\r\n            <h1>{_t(t(\"Are you sure?\"))}</h1>\r\n            <p className=\"text-center\">{_t(t(\"You want to delete this?\"))}</p>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  handleDeletePurchase(id);\r\n                  onClose();\r\n                }}\r\n              >\r\n                {_t(t(\"Yes, delete it!\"))}\r\n              </button>\r\n              <button className=\"btn btn-success ml-2 px-3\" onClick={onClose}>\r\n                {_t(t(\"No\"))}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      },\r\n    });\r\n  };\r\n\r\n  //delete purchase here\r\n  const handleDeletePurchase = (id) => {\r\n    setLoading(true);\r\n    const url = BASE_URL + `/settings/delete-food_purchase/${id}`;\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setFoodPurchaseHistory(res.data[0]);\r\n        setFoodPurchaseHistoryForSearch(res.data[1]);\r\n        setSearchedSupplier({\r\n          ...searchedSupplier,\r\n          list: res.data[1],\r\n        });\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Purchase has been deleted successfully\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n        toast.error(`${_t(t(\"Please try again\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Food Purchases\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div className=\"fk-scroll--pos-menu\" data-simplebar>\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* Loading effect */}\r\n                    {newSupplier.uploading === true || loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"fragment3\">\r\n                        {/* next page data spin loading */}\r\n                        <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                        {/* spin loading ends */}\r\n\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                  {!searchedSupplier.searched\r\n                                    ? _t(t(\"Food Purchases List\"))\r\n                                    : _t(t(\"Search Result\"))}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\">\r\n                              {/* Search customer */}\r\n                              <div className=\"col-md-9 t-mb-15 mb-md-0\">\r\n                                <div className=\"input-group\">\r\n                                  <div className=\"form-file\">\r\n                                    <input\r\n                                      type=\"text\"\r\n                                      className=\"form-control border-0 form-control--light-1 rounded-0\"\r\n                                      placeholder={_t(t(\"Search\")) + \"..\"}\r\n                                      onChange={handleSearch}\r\n                                    />\r\n                                  </div>\r\n                                  <button\r\n                                    className=\"btn btn-primary\"\r\n                                    type=\"button\"\r\n                                  >\r\n                                    <i\r\n                                      className=\"fa fa-search\"\r\n                                      aria-hidden=\"true\"\r\n                                    ></i>\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Add customer modal trigger button */}\r\n                              <div className=\"col-md-3 text-md-right\">\r\n                                <NavLink\r\n                                  to=\"/dashboard/manage/stock/food-purchase\"\r\n                                  className=\"btn btn-primary xsm-text text-uppercase btn-lg btn-block\"\r\n                                >\r\n                                  {_t(t(\"add new\"))}\r\n                                </NavLink>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        {/* Table */}\r\n                        <div className=\"table-responsive\">\r\n                          <table className=\"table table-bordered table-hover min-table-height\">\r\n                            <thead className=\"align-middle\">\r\n                              <tr>\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"S/L\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Supplier\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Invoice\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Purchased\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Total\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Due\"))}\r\n                                </th>\r\n\r\n                                <th\r\n                                  scope=\"col\"\r\n                                  className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                >\r\n                                  {_t(t(\"Action\"))}\r\n                                </th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody className=\"align-middle\">\r\n                              {/* loop here, logic === !search && haveData && haveDataLegnth > 0*/}\r\n                              {!searchedSupplier.searched\r\n                                ? [\r\n                                  foodPurchaseHistory && [\r\n                                    foodPurchaseHistory.data.length === 0 ? (\r\n                                      <tr className=\"align-middle\">\r\n                                        <td\r\n                                          scope=\"row\"\r\n                                          colSpan=\"7\"\r\n                                          className=\"xsm-text align-middle text-center\"\r\n                                        >\r\n                                          {_t(t(\"No data available\"))}\r\n                                        </td>\r\n                                      </tr>\r\n                                    ) : (\r\n                                      foodPurchaseHistory.data.map(\r\n                                        (item, index) => {\r\n                                          return (\r\n                                            <tr\r\n                                              className=\"align-middle\"\r\n                                              key={index}\r\n                                            >\r\n                                              <th\r\n                                                scope=\"row\"\r\n                                                className=\"xsm-text text-capitalize align-middle text-center\"\r\n                                              >\r\n                                                {index +\r\n                                                  1 +\r\n                                                  (foodPurchaseHistory.current_page -\r\n                                                    1) *\r\n                                                  foodPurchaseHistory.per_page}\r\n                                              </th>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                {item.supplier_name}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {item.invoice_number}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <Moment format=\"LL\">\r\n                                                  {item.purchase_date}\r\n                                                </Moment>\r\n                                              </td>\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                {currencySymbolLeft()}\r\n                                                {formatPrice(item.total_bill)}\r\n                                                {currencySymbolRight()}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {currencySymbolLeft()}\r\n                                                {formatPrice(\r\n                                                  item.credit_amount\r\n                                                )}\r\n                                                {currencySymbolRight()}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <div className=\"dropdown\">\r\n                                                  <button\r\n                                                    className=\"btn t-bg-clear t-text-dark--light-40\"\r\n                                                    type=\"button\"\r\n                                                    data-toggle=\"dropdown\"\r\n                                                  >\r\n                                                    <i className=\"fa fa-ellipsis-h\"></i>\r\n                                                  </button>\r\n                                                  <div className=\"dropdown-menu\">\r\n                                                    <NavLink\r\n                                                      to={`/dashboard/manage/stock/purchase-history-food-edit/${item.id}`}\r\n                                                      className=\"dropdown-item sm-text text-capitalize\"\r\n                                                    >\r\n                                                      <span className=\"t-mr-8\">\r\n                                                        <i className=\"fa fa-pencil\"></i>\r\n                                                      </span>\r\n                                                      {_t(t(\"View/Edit\"))}\r\n                                                    </NavLink>\r\n\r\n                                                    <button\r\n                                                      className=\"dropdown-item sm-text text-capitalize\"\r\n                                                      onClick={() => {\r\n                                                        handleDeleteConfirmation(\r\n                                                          item.id\r\n                                                        );\r\n                                                      }}\r\n                                                    >\r\n                                                      <span className=\"t-mr-8\">\r\n                                                        <i className=\"fa fa-trash\"></i>\r\n                                                      </span>\r\n                                                      {_t(t(\"Delete\"))}\r\n                                                    </button>\r\n                                                  </div>\r\n                                                </div>\r\n                                              </td>\r\n                                            </tr>\r\n                                          );\r\n                                        }\r\n                                      )\r\n                                    ),\r\n                                  ],\r\n                                ]\r\n                                : [\r\n                                  /* searched data, logic === haveData*/\r\n                                  searchedSupplier && [\r\n                                    searchedSupplier.list.length === 0 ? (\r\n                                      <tr className=\"align-middle\">\r\n                                        <td\r\n                                          scope=\"row\"\r\n                                          colSpan=\"7\"\r\n                                          className=\"xsm-text align-middle text-center\"\r\n                                        >\r\n                                          {_t(t(\"No data available\"))}\r\n                                        </td>\r\n                                      </tr>\r\n                                    ) : (\r\n                                      searchedSupplier.list.map(\r\n                                        (item, index) => {\r\n                                          return (\r\n                                            <tr\r\n                                              className=\"align-middle\"\r\n                                              key={index}\r\n                                            >\r\n                                              <th\r\n                                                scope=\"row\"\r\n                                                className=\"xsm-text text-capitalize align-middle text-center\"\r\n                                              >\r\n                                                {index +\r\n                                                  1 +\r\n                                                  (foodPurchaseHistory.current_page -\r\n                                                    1) *\r\n                                                  foodPurchaseHistory.per_page}\r\n                                              </th>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                {item.supplier_name}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {item.invoice_number}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <Moment format=\"LL\">\r\n                                                  {item.purchase_date}\r\n                                                </Moment>\r\n                                              </td>\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                {currencySymbolLeft()}\r\n                                                {formatPrice(item.total_bill)}\r\n                                                {currencySymbolRight()}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {currencySymbolLeft()}\r\n                                                {formatPrice(\r\n                                                  item.credit_amount\r\n                                                )}\r\n                                                {currencySymbolRight()}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <div className=\"dropdown\">\r\n                                                  <button\r\n                                                    className=\"btn t-bg-clear t-text-dark--light-40\"\r\n                                                    type=\"button\"\r\n                                                    data-toggle=\"dropdown\"\r\n                                                  >\r\n                                                    <i className=\"fa fa-ellipsis-h\"></i>\r\n                                                  </button>\r\n                                                  <div className=\"dropdown-menu\">\r\n                                                    <NavLink\r\n                                                      to={`/dashboard/manage/stock/purchase-history-food-edit/${item.id}`}\r\n                                                      className=\"dropdown-item sm-text text-capitalize\"\r\n                                                    >\r\n                                                      <span className=\"t-mr-8\">\r\n                                                        <i className=\"fa fa-pencil\"></i>\r\n                                                      </span>\r\n                                                      {_t(t(\"View/Edit\"))}\r\n                                                    </NavLink>\r\n\r\n                                                    <button\r\n                                                      className=\"dropdown-item sm-text text-capitalize\"\r\n                                                      onClick={() => {\r\n                                                        handleDeleteConfirmation(\r\n                                                          item.id\r\n                                                        );\r\n                                                      }}\r\n                                                    >\r\n                                                      <span className=\"t-mr-8\">\r\n                                                        <i className=\"fa fa-trash\"></i>\r\n                                                      </span>\r\n                                                      {_t(t(\"Delete\"))}\r\n                                                    </button>\r\n                                                  </div>\r\n                                                </div>\r\n                                              </td>\r\n                                            </tr>\r\n                                          );\r\n                                        }\r\n                                      )\r\n                                    ),\r\n                                  ],\r\n                                ]}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* pagination loading effect */}\r\n              {newSupplier.uploading === true || loading === true\r\n                ? paginationLoading()\r\n                : [\r\n                  // logic === !searched\r\n                  !searchedSupplier.searched ? (\r\n                    <div key=\"fragment4\">\r\n                      <div className=\"t-bg-white mt-1 t-pt-5 t-pb-5\">\r\n                        <div className=\"row align-items-center t-pl-15 t-pr-15\">\r\n                          <div className=\"col-md-7 t-mb-15 mb-md-0\">\r\n                            {/* pagination function */}\r\n                            {pagination(\r\n                              foodPurchaseHistory,\r\n                              setPaginatedFoodPurchase\r\n                            )}\r\n                          </div>\r\n                          <div className=\"col-md-5\">\r\n                            <ul className=\"t-list d-flex justify-content-md-end align-items-center\">\r\n                              <li className=\"t-list__item\">\r\n                                <span className=\"d-inline-block sm-text\">\r\n                                  {showingData(foodPurchaseHistory)}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    // if searched\r\n                    <div className=\"t-bg-white mt-1 t-pt-5 t-pb-5\">\r\n                      <div className=\"row align-items-center t-pl-15 t-pr-15\">\r\n                        <div className=\"col-md-7 t-mb-15 mb-md-0\">\r\n                          <ul className=\"t-list d-flex\">\r\n                            <li className=\"t-list__item no-pagination-style\">\r\n                              <button\r\n                                className=\"btn btn-primary btn-sm\"\r\n                                onClick={() =>\r\n                                  setSearchedSupplier({\r\n                                    ...searchedSupplier,\r\n                                    searched: false,\r\n                                  })\r\n                                }\r\n                              >\r\n                                {_t(t(\"Clear Search\"))}\r\n                              </button>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                        <div className=\"col-md-5\">\r\n                          <ul className=\"t-list d-flex justify-content-md-end align-items-center\">\r\n                            <li className=\"t-list__item\">\r\n                              <span className=\"d-inline-block sm-text\">\r\n                                {searchedShowingData(\r\n                                  searchedSupplier,\r\n                                  foodPurchaseHistoryForSearch\r\n                                )}\r\n                              </span>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ),\r\n                ]}\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FoodPurchaseHistory;\r\n"]},"metadata":{},"sourceType":"module"}