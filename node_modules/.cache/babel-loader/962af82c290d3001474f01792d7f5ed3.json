{"ast":null,"code":"import _defineProperty from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/raza/Downloads/khadyo_source_code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState}from\"react\";import{useHistory,useParams}from\"react-router-dom\";//axios and base url\nimport axios from\"axios\";import{BASE_URL}from\"../../../../../BaseUrl\";//functions\nimport{_t,getCookie,tableLoading,currencySymbolLeft,formatPrice,currencySymbolRight}from\"../../../../../functions/Functions\";import{useTranslation}from\"react-i18next\";//3rd party packages\nimport{Helmet}from\"react-helmet\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Select from\"react-select\";import makeAnimated from\"react-select/animated\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";//pages & includes\nimport ManageSidebar from\"../ManageSidebar\";//context consumer\nimport{SettingsContext}from\"../../../../../contexts/Settings\";import{RestaurantContext}from\"../../../../../contexts/Restaurant\";import{UserContext}from\"../../../../../contexts/User\";import{FoodContext}from\"../../../../../contexts/Food\";var FoodPurchaseEdit=function FoodPurchaseEdit(){var _useTranslation=useTranslation(),t=_useTranslation.t;var history=useHistory();var params=useParams();//getting context values here\nvar _useContext=useContext(SettingsContext),dataPaginating=_useContext.dataPaginating;var _useContext2=useContext(RestaurantContext),loading=_useContext2.loading,setLoading=_useContext2.setLoading,branchForSearch=_useContext2.branchForSearch;var _useContext3=useContext(UserContext),getSupplier=_useContext3.getSupplier,supplierForSearch=_useContext3.supplierForSearch;var _useContext4=useContext(FoodContext),getFoodGroup=_useContext4.getFoodGroup,foodItemStock=_useContext4.foodItemStock;// States hook here\n//new item\nvar _useState=useState({branch:null,supplier:null,invoice:\"\",description:\"\",paymentType:\"\",items:null,paid:null,total:null,due:null}),_useState2=_slicedToArray(_useState,2),newItem=_useState2[0],setNewItem=_useState2[1];//datepicker\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),purchaseDate=_useState4[0],setPurchaseDate=_useState4[1];//purchasegrp\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),purchaseGroup=_useState6[0],setPurchaseGroup=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),purchasedItem=_useState8[0],setPurchasedItem=_useState8[1];//useEffect == componentDidMount()\nuseEffect(function(){setLoading(true);getSupplier();getFoodGroup();getPurchasedItem();},[]);var getPurchasedItem=function getPurchasedItem(){var url=BASE_URL+\"/settings/get-food_purchase_items/\"+parseInt(params.id);return axios.get(url,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){setPurchasedItem(res.data[0]);setPurchaseGroup(res.data[1]);setNewItem(_objectSpread(_objectSpread({},newItem),{},{items:res.data[0],invoice:res.data[1].invoice_number,paymentType:res.data[1].payment_type,description:res.data[1].desc}));setLoading(false);}).catch(function(){setLoading(false);});};//on change input field\nvar handleChange=function handleChange(e){var item=purchasedItem.find(function(findThis){return findThis.id===parseInt(e.target.name);});if(e.target.value===null||e.target.value===\"\"){item.qty=0;}else{item.qty=e.target.value;}var temp=[];purchasedItem.map(function(thisItem){if(thisItem.id!==item.id){temp.push(thisItem);}else{temp.push(item);}});setPurchasedItem(temp);};var handleChangeRate=function handleChangeRate(e){var item=purchasedItem.find(function(findThis){return findThis.id===parseInt(e.target.name);});if(e.target.value===null||e.target.value===\"\"){item.rate=0;}else{item.rate=e.target.value;}var temp=[];purchasedItem.map(function(thisItem){if(thisItem.id!==item.id){temp.push(thisItem);}else{temp.push(item);}});setPurchasedItem(temp);};var handleChangeGroup=function handleChangeGroup(e){if(e.target.name!==\"paid_amount\"){setPurchaseGroup(_objectSpread(_objectSpread({},purchaseGroup),{},_defineProperty({},e.target.name,e.target.value)));}else{if(e.target.value!==null||e.target.value===\"\"){setPurchaseGroup(_objectSpread(_objectSpread({},purchaseGroup),{},_defineProperty({},e.target.name,e.target.value)));}else{setPurchaseGroup(_objectSpread(_objectSpread({},purchaseGroup),{},_defineProperty({},e.target.name,0)));}}};//stock\nvar handleGetStock=function handleGetStock(id){if(purchaseGroup){var stock=foodItemStock.find(function(item){return parseInt(item.food_id)===parseInt(id)&&parseInt(item.branch_id)===parseInt(purchaseGroup.branch_id);});if(stock===undefined){return 0;}return stock.qty;}};//total\nvar handleGetTotal=function handleGetTotal(){var total=0;purchasedItem.map(function(item){total=total+item.qty*item.rate;});return total;};//post req of food item add\nvar ingredientItemAxios=function ingredientItemAxios(){setLoading(true);var formData={group_id:purchaseGroup.id,invoice_number:purchaseGroup.invoice_number,desc:purchaseGroup.desc,payment_type:purchaseGroup.payment_type,paid_amount:purchaseGroup.paid_amount,total_bill:handleGetTotal(),items:purchasedItem};if(purchaseDate!==null){formData.date=new Date(purchaseDate).getFullYear()+\"-\"+(new Date(purchaseDate).getMonth()+1)+\"-\"+new Date(purchaseDate).getDate();}var url=BASE_URL+\"/settings/update-food_purchase\";return axios.post(url,formData,{headers:{Authorization:\"Bearer \".concat(getCookie())}}).then(function(res){getFoodGroup();getPurchasedItem();setLoading(false);toast.success(\"\".concat(_t(t(\"Purchase has been updated\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});}).catch(function(error){setLoading(false);toast.error(\"\".concat(_t(t(\"Please try again later\"))),{position:\"bottom-center\",autoClose:10000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,className:\"text-center toast-notification\"});});};//send to server\nvar handleSubmit=function handleSubmit(e){e.preventDefault();ingredientItemAxios();};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,_t(t(\"Edit Food Purchase\")))),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row t-mt-10 gx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(ManageSidebar,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"t-bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fk-scroll--pos-menu table-bottom-info-hide\",\"data-simplebar\":true},/*#__PURE__*/React.createElement(\"div\",{className:\"t-pl-15 t-pr-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(dataPaginating&&\"loading\")}),loading===true?tableLoading():/*#__PURE__*/React.createElement(\"div\",{key:\"smtp-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-2 align-items-center t-pt-15 t-pb-15\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-5 t-mb-15 mb-md-0\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"t-list fk-breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"fk-breadcrumb__list\"},/*#__PURE__*/React.createElement(\"span\",{className:\"t-link fk-breadcrumb__link text-capitalize\"},_t(t(\"Edit Food purchase\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row gx-3 align-items-center\"}))),/*#__PURE__*/React.createElement(\"form\",{className:\"row card p-2 mx-3 mb-5 sm-text\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},branchForSearch&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"branch\",className:\"control-label\"},_t(t(\"Branch\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\"))),/*#__PURE__*/React.createElement(\"select\",{disabled:true,className:\"form-control\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"}),branchForSearch&&purchaseGroup&&branchForSearch.map(function(bItem){return/*#__PURE__*/React.createElement(\"option\",{selected:bItem.id===parseInt(purchaseGroup.branch_id),value:bItem.id},bItem.name);}))),supplierForSearch&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"branch\",className:\"control-label\"},_t(t(\"Supplier\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\"))),/*#__PURE__*/React.createElement(\"select\",{disabled:true,className:\"form-control\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"}),supplierForSearch&&purchaseGroup&&supplierForSearch.map(function(sItem){return/*#__PURE__*/React.createElement(\"option\",{selected:sItem.id===parseInt(purchaseGroup.supplier_id),value:sItem.id},sItem.name);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-8 mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"invoice_number\",className:\"control-label\"},_t(t(\"Invoice\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"invoice_number\",name:\"invoice_number\",onChange:handleChangeGroup,value:purchaseGroup&&purchaseGroup.invoice_number,placeholder:\"e.g. 123\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-4 text-right mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2 ml-4 text-left\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"purchaseDate\",className:\"control-label\"},_t(t(\"Purchase Date\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(DatePicker,{selected:purchaseDate,onChange:function onChange(date){return setPurchaseDate(date);},peekNextMonth:true,showMonthDropdown:true,showYearDropdown:true,dropdownMode:\"select\",className:\"form-control\",placeholderText:purchaseGroup&&purchaseGroup.purchase_date,shouldCloseOnSelect:false})))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"desc\",className:\"control-label\"},_t(t(\"Description\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"textarea\",{type:\"text\",className:\"form-control\",id:\"desc\",name:\"desc\",onChange:handleChangeGroup,value:purchaseGroup&&purchaseGroup.desc,placeholder:\"Short description\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"payment_type\",className:\"control-label\"},_t(t(\"Payment Type\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"payment_type\",name:\"payment_type\",onChange:handleChangeGroup,value:purchaseGroup&&purchaseGroup.payment_type,placeholder:\"e.g. Cash, Bank payment..\",required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"payment_type\",className:\"control-label\"},_t(t(\"Food Items\")),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\")))),newItem.items!==null&&[newItem.items.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive mt-3\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Name\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"stock\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Qty\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Rate\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Total\"))))),/*#__PURE__*/React.createElement(\"tbody\",{className:\"align-middle\"},purchasedItem.map(function(ingredientItem,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"align-middle\",key:index},/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},ingredientItem.food_name),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},handleGetStock(ingredientItem.food_id)),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"form-control text-center\",id:ingredientItem.id,name:ingredientItem.id,onChange:handleChange,value:ingredientItem.qty!==0?ingredientItem.qty:\"\",placeholder:\"Qty\",required:true})),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text text-capitalize align-middle text-center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"form-control text-center\",id:ingredientItem.id,name:ingredientItem.id,onChange:handleChangeRate,value:ingredientItem.rate!==0?ingredientItem.rate:\"\",placeholder:\"Price in usd\",required:true})),/*#__PURE__*/React.createElement(\"td\",{className:\"xsm-text align-middle text-center\"},currencySymbolLeft(),formatPrice(parseFloat(ingredientItem.rate)*parseFloat(ingredientItem.qty)),currencySymbolRight()));})),/*#__PURE__*/React.createElement(\"tfoot\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",colSpan:\"3\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"}),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Total Bill\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},currencySymbolLeft(),formatPrice(handleGetTotal()),currencySymbolRight())),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",colSpan:\"3\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"}),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Paid\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",className:\"form-control p-0 text-center\",name:\"paid_amount\",value:purchaseGroup&&purchaseGroup.paid_amount!==0?purchaseGroup.paid_amount:\"\",onChange:handleChangeGroup,placeholder:\"In usd\",required:true}))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",colSpan:\"3\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"}),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},_t(t(\"Due\"))),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",className:\"sm-text text-capitalize align-middle text-center border-1 border\"},currencySymbolLeft(),formatPrice(handleGetTotal()-(purchaseGroup&&purchaseGroup.paid_amount!==null&&purchaseGroup.paid_amount!==\"\"?parseFloat(purchaseGroup.paid_amount):0)),currencySymbolRight())))))],/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mt-4 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary px-5\",type:\"submit\"},_t(t(\"Save\"))))))))))))))));};export default FoodPurchaseEdit;","map":{"version":3,"sources":["/Users/raza/Downloads/khadyo_source_code/client/src/resources/restaurant/auth/manage/stock/FoodPurchaseEdit.js"],"names":["React","useEffect","useContext","useState","useHistory","useParams","axios","BASE_URL","_t","getCookie","tableLoading","currencySymbolLeft","formatPrice","currencySymbolRight","useTranslation","Helmet","toast","Select","makeAnimated","DatePicker","ManageSidebar","SettingsContext","RestaurantContext","UserContext","FoodContext","FoodPurchaseEdit","t","history","params","dataPaginating","loading","setLoading","branchForSearch","getSupplier","supplierForSearch","getFoodGroup","foodItemStock","branch","supplier","invoice","description","paymentType","items","paid","total","due","newItem","setNewItem","purchaseDate","setPurchaseDate","purchaseGroup","setPurchaseGroup","purchasedItem","setPurchasedItem","getPurchasedItem","url","parseInt","id","get","headers","Authorization","then","res","data","invoice_number","payment_type","desc","catch","handleChange","e","item","find","findThis","target","name","value","qty","temp","map","thisItem","push","handleChangeRate","rate","handleChangeGroup","handleGetStock","stock","food_id","branch_id","undefined","handleGetTotal","ingredientItemAxios","formData","group_id","paid_amount","total_bill","date","Date","getFullYear","getMonth","getDate","post","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","className","error","handleSubmit","preventDefault","bItem","sItem","supplier_id","purchase_date","length","ingredientItem","index","food_name","parseFloat"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\n//axios and base url\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../../../../../BaseUrl\";\r\n\r\n//functions\r\nimport {\r\n  _t,\r\n  getCookie,\r\n  tableLoading,\r\n  currencySymbolLeft,\r\n  formatPrice,\r\n  currencySymbolRight,\r\n} from \"../../../../../functions/Functions\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n//3rd party packages\r\nimport { Helmet } from \"react-helmet\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Select from \"react-select\";\r\nimport makeAnimated from \"react-select/animated\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n//pages & includes\r\nimport ManageSidebar from \"../ManageSidebar\";\r\n\r\n//context consumer\r\nimport { SettingsContext } from \"../../../../../contexts/Settings\";\r\nimport { RestaurantContext } from \"../../../../../contexts/Restaurant\";\r\nimport { UserContext } from \"../../../../../contexts/User\";\r\nimport { FoodContext } from \"../../../../../contexts/Food\";\r\n\r\nconst FoodPurchaseEdit = () => {\r\n  const { t } = useTranslation();\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  //getting context values here\r\n  let { dataPaginating } = useContext(SettingsContext);\r\n  let { loading, setLoading, branchForSearch } = useContext(RestaurantContext);\r\n  let { getSupplier, supplierForSearch } = useContext(UserContext);\r\n  let { getFoodGroup, foodItemStock } = useContext(FoodContext);\r\n  // States hook here\r\n  //new item\r\n  let [newItem, setNewItem] = useState({\r\n    branch: null,\r\n    supplier: null,\r\n    invoice: \"\",\r\n    description: \"\",\r\n    paymentType: \"\",\r\n    items: null,\r\n    paid: null,\r\n    total: null,\r\n    due: null,\r\n  });\r\n\r\n  //datepicker\r\n  const [purchaseDate, setPurchaseDate] = useState(null);\r\n\r\n  //purchasegrp\r\n  const [purchaseGroup, setPurchaseGroup] = useState(null);\r\n  const [purchasedItem, setPurchasedItem] = useState(null);\r\n\r\n  //useEffect == componentDidMount()\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getSupplier();\r\n    getFoodGroup();\r\n    getPurchasedItem();\r\n  }, []);\r\n\r\n  const getPurchasedItem = () => {\r\n    const url =\r\n      BASE_URL + \"/settings/get-food_purchase_items/\" + parseInt(params.id);\r\n    return axios\r\n      .get(url, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        setPurchasedItem(res.data[0]);\r\n        setPurchaseGroup(res.data[1]);\r\n        setNewItem({\r\n          ...newItem,\r\n          items: res.data[0],\r\n          invoice: res.data[1].invoice_number,\r\n          paymentType: res.data[1].payment_type,\r\n          description: res.data[1].desc,\r\n        });\r\n\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n  //on change input field\r\n  const handleChange = (e) => {\r\n    let item = purchasedItem.find((findThis) => {\r\n      return findThis.id === parseInt(e.target.name);\r\n    });\r\n    if (e.target.value === null || e.target.value === \"\") {\r\n      item.qty = 0;\r\n    } else {\r\n      item.qty = e.target.value;\r\n    }\r\n    let temp = [];\r\n    purchasedItem.map((thisItem) => {\r\n      if (thisItem.id !== item.id) {\r\n        temp.push(thisItem);\r\n      } else {\r\n        temp.push(item);\r\n      }\r\n    });\r\n    setPurchasedItem(temp);\r\n  };\r\n\r\n  const handleChangeRate = (e) => {\r\n    let item = purchasedItem.find((findThis) => {\r\n      return findThis.id === parseInt(e.target.name);\r\n    });\r\n    if (e.target.value === null || e.target.value === \"\") {\r\n      item.rate = 0;\r\n    } else {\r\n      item.rate = e.target.value;\r\n    }\r\n    let temp = [];\r\n    purchasedItem.map((thisItem) => {\r\n      if (thisItem.id !== item.id) {\r\n        temp.push(thisItem);\r\n      } else {\r\n        temp.push(item);\r\n      }\r\n    });\r\n    setPurchasedItem(temp);\r\n  };\r\n\r\n  const handleChangeGroup = (e) => {\r\n    if (e.target.name !== \"paid_amount\") {\r\n      setPurchaseGroup({ ...purchaseGroup, [e.target.name]: e.target.value });\r\n    } else {\r\n      if (e.target.value !== null || e.target.value === \"\") {\r\n        setPurchaseGroup({ ...purchaseGroup, [e.target.name]: e.target.value });\r\n      } else {\r\n        setPurchaseGroup({ ...purchaseGroup, [e.target.name]: 0 });\r\n      }\r\n    }\r\n  };\r\n\r\n  //stock\r\n  const handleGetStock = (id) => {\r\n    if (purchaseGroup) {\r\n      let stock = foodItemStock.find((item) => {\r\n        return (\r\n          parseInt(item.food_id) === parseInt(id) &&\r\n          parseInt(item.branch_id) === parseInt(purchaseGroup.branch_id)\r\n        );\r\n      });\r\n      if (stock === undefined) {\r\n        return 0;\r\n      }\r\n      return stock.qty;\r\n    }\r\n  };\r\n\r\n  //total\r\n  const handleGetTotal = () => {\r\n    let total = 0;\r\n    purchasedItem.map((item) => {\r\n      total = total + item.qty * item.rate;\r\n    });\r\n    return total;\r\n  };\r\n\r\n  //post req of food item add\r\n  const ingredientItemAxios = () => {\r\n    setLoading(true);\r\n\r\n    let formData = {\r\n      group_id: purchaseGroup.id,\r\n      invoice_number: purchaseGroup.invoice_number,\r\n      desc: purchaseGroup.desc,\r\n      payment_type: purchaseGroup.payment_type,\r\n      paid_amount: purchaseGroup.paid_amount,\r\n      total_bill: handleGetTotal(),\r\n      items: purchasedItem,\r\n    };\r\n    if (purchaseDate !== null) {\r\n      formData.date =\r\n        new Date(purchaseDate).getFullYear() +\r\n        \"-\" +\r\n        (new Date(purchaseDate).getMonth() + 1) +\r\n        \"-\" +\r\n        new Date(purchaseDate).getDate();\r\n    }\r\n\r\n    const url = BASE_URL + \"/settings/update-food_purchase\";\r\n    return axios\r\n      .post(url, formData, {\r\n        headers: { Authorization: `Bearer ${getCookie()}` },\r\n      })\r\n      .then((res) => {\r\n        getFoodGroup();\r\n        getPurchasedItem();\r\n        setLoading(false);\r\n        toast.success(`${_t(t(\"Purchase has been updated\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n        toast.error(`${_t(t(\"Please try again later\"))}`, {\r\n          position: \"bottom-center\",\r\n          autoClose: 10000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          className: \"text-center toast-notification\",\r\n        });\r\n      });\r\n  };\r\n\r\n  //send to server\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    ingredientItemAxios();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{_t(t(\"Edit Food Purchase\"))}</title>\r\n      </Helmet>\r\n\r\n      {/* main body */}\r\n      <main id=\"main\" data-simplebar>\r\n        <div className=\"container\">\r\n          <div className=\"row t-mt-10 gx-2\">\r\n            {/* left Sidebar */}\r\n            <div className=\"col-lg-3 col-xxl-2 t-mb-30 mb-lg-0\">\r\n              <ManageSidebar />\r\n            </div>\r\n            {/* left Sidebar ends */}\r\n\r\n            {/* Rightbar contents */}\r\n            <div className=\"col-lg-9 col-xxl-10 t-mb-30 mb-lg-0\">\r\n              <div className=\"t-bg-white\">\r\n                <div\r\n                  className=\"fk-scroll--pos-menu table-bottom-info-hide\"\r\n                  data-simplebar\r\n                >\r\n                  <div className=\"t-pl-15 t-pr-15\">\r\n                    {/* next page data spin loading */}\r\n                    <div className={`${dataPaginating && \"loading\"}`}></div>\r\n                    {/* spin loading ends */}\r\n\r\n                    {/* Loading effect */}\r\n                    {loading === true ? (\r\n                      tableLoading()\r\n                    ) : (\r\n                      <div key=\"smtp-form\">\r\n                        <div className=\"row gx-2 align-items-center t-pt-15 t-pb-15\">\r\n                          <div className=\"col-md-6 col-lg-5 t-mb-15 mb-md-0\">\r\n                            <ul className=\"t-list fk-breadcrumb\">\r\n                              <li className=\"fk-breadcrumb__list\">\r\n                                <span className=\"t-link fk-breadcrumb__link text-capitalize\">\r\n                                  {_t(t(\"Edit Food purchase\"))}\r\n                                </span>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div className=\"col-md-6 col-lg-7\">\r\n                            <div className=\"row gx-3 align-items-center\"></div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Form starts here */}\r\n                        <form\r\n                          className=\"row card p-2 mx-3 mb-5 sm-text\"\r\n                          onSubmit={handleSubmit}\r\n                        >\r\n                          <div className=\"col-12\">\r\n                            {branchForSearch && (\r\n                              <div className=\"form-group mt-2\">\r\n                                <div className=\"mb-2\">\r\n                                  <label\r\n                                    htmlFor=\"branch\"\r\n                                    className=\"control-label\"\r\n                                  >\r\n                                    {_t(t(\"Branch\"))}\r\n                                    <span className=\"text-danger\">*</span>\r\n                                  </label>\r\n                                </div>\r\n                                <select disabled className=\"form-control\">\r\n                                  <option value=\"\"></option>\r\n                                  {branchForSearch &&\r\n                                    purchaseGroup &&\r\n                                    branchForSearch.map((bItem) => {\r\n                                      return (\r\n                                        <option\r\n                                          selected={\r\n                                            bItem.id ===\r\n                                            parseInt(purchaseGroup.branch_id)\r\n                                          }\r\n                                          value={bItem.id}\r\n                                        >\r\n                                          {bItem.name}\r\n                                        </option>\r\n                                      );\r\n                                    })}\r\n                                </select>\r\n                              </div>\r\n                            )}\r\n\r\n                            {supplierForSearch && (\r\n                              <div className=\"form-group mt-3\">\r\n                                <div className=\"mb-2\">\r\n                                  <label\r\n                                    htmlFor=\"branch\"\r\n                                    className=\"control-label\"\r\n                                  >\r\n                                    {_t(t(\"Supplier\"))}\r\n                                    <span className=\"text-danger\">*</span>\r\n                                  </label>\r\n                                </div>\r\n                                <select disabled className=\"form-control\">\r\n                                  <option value=\"\"></option>\r\n                                  {supplierForSearch &&\r\n                                    purchaseGroup &&\r\n                                    supplierForSearch.map((sItem) => {\r\n                                      return (\r\n                                        <option\r\n                                          selected={\r\n                                            sItem.id ===\r\n                                            parseInt(purchaseGroup.supplier_id)\r\n                                          }\r\n                                          value={sItem.id}\r\n                                        >\r\n                                          {sItem.name}\r\n                                        </option>\r\n                                      );\r\n                                    })}\r\n                                </select>\r\n                              </div>\r\n                            )}\r\n                            <div className=\"row\">\r\n                              <div className=\"form-group col-8 mt-3\">\r\n                                <div className=\"mb-2\">\r\n                                  <label\r\n                                    htmlFor=\"invoice_number\"\r\n                                    className=\"control-label\"\r\n                                  >\r\n                                    {_t(t(\"Invoice\"))}\r\n                                    <span className=\"text-danger\">*</span>\r\n                                  </label>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                  <input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    id=\"invoice_number\"\r\n                                    name=\"invoice_number\"\r\n                                    onChange={handleChangeGroup}\r\n                                    value={\r\n                                      purchaseGroup &&\r\n                                      purchaseGroup.invoice_number\r\n                                    }\r\n                                    placeholder=\"e.g. 123\"\r\n                                    required\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n\r\n                              <div className=\"form-group col-4 text-right mt-3\">\r\n                                <div className=\"mb-2 ml-4 text-left\">\r\n                                  <label\r\n                                    htmlFor=\"purchaseDate\"\r\n                                    className=\"control-label\"\r\n                                  >\r\n                                    {_t(t(\"Purchase Date\"))}\r\n                                  </label>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                  <DatePicker\r\n                                    selected={purchaseDate}\r\n                                    onChange={(date) => setPurchaseDate(date)}\r\n                                    peekNextMonth\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    dropdownMode=\"select\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText={\r\n                                      purchaseGroup &&\r\n                                      purchaseGroup.purchase_date\r\n                                    }\r\n                                    shouldCloseOnSelect={false}\r\n                                  />\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-3\">\r\n                              <div className=\"mb-2\">\r\n                                <label htmlFor=\"desc\" className=\"control-label\">\r\n                                  {_t(t(\"Description\"))}\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"mb-2\">\r\n                                <textarea\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id=\"desc\"\r\n                                  name=\"desc\"\r\n                                  onChange={handleChangeGroup}\r\n                                  value={purchaseGroup && purchaseGroup.desc}\r\n                                  placeholder=\"Short description\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-3\">\r\n                              <div className=\"mb-2\">\r\n                                <label\r\n                                  htmlFor=\"payment_type\"\r\n                                  className=\"control-label\"\r\n                                >\r\n                                  {_t(t(\"Payment Type\"))}\r\n                                  <span className=\"text-danger\">*</span>\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"mb-2\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id=\"payment_type\"\r\n                                  name=\"payment_type\"\r\n                                  onChange={handleChangeGroup}\r\n                                  value={\r\n                                    purchaseGroup && purchaseGroup.payment_type\r\n                                  }\r\n                                  placeholder=\"e.g. Cash, Bank payment..\"\r\n                                  required\r\n                                />\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group mt-3\">\r\n                              <div className=\"mb-2\">\r\n                                <label\r\n                                  htmlFor=\"payment_type\"\r\n                                  className=\"control-label\"\r\n                                >\r\n                                  {_t(t(\"Food Items\"))}\r\n                                  <span className=\"text-danger\">*</span>\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {newItem.items !== null && [\r\n                              newItem.items.length > 0 && (\r\n                                <div className=\"table-responsive mt-3\">\r\n                                  <table className=\"table table-bordered table-hover\">\r\n                                    <thead className=\"align-middle\">\r\n                                      <tr>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Name\"))}\r\n                                        </th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"stock\"))}\r\n                                        </th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Qty\"))}\r\n                                        </th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Rate\"))}\r\n                                        </th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Total\"))}\r\n                                        </th>\r\n                                      </tr>\r\n                                    </thead>\r\n\r\n                                    <tbody className=\"align-middle\">\r\n                                      {purchasedItem.map(\r\n                                        (ingredientItem, index) => {\r\n                                          return (\r\n                                            <tr\r\n                                              className=\"align-middle\"\r\n                                              key={index}\r\n                                            >\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                {ingredientItem.food_name}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {handleGetStock(\r\n                                                  ingredientItem.food_id\r\n                                                )}\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <input\r\n                                                  type=\"number\"\r\n                                                  step=\"0.01\"\r\n                                                  min=\"0\"\r\n                                                  className=\"form-control text-center\"\r\n                                                  id={ingredientItem.id}\r\n                                                  name={ingredientItem.id}\r\n                                                  onChange={handleChange}\r\n                                                  value={\r\n                                                    ingredientItem.qty !== 0\r\n                                                      ? ingredientItem.qty\r\n                                                      : \"\"\r\n                                                  }\r\n                                                  placeholder=\"Qty\"\r\n                                                  required\r\n                                                />\r\n                                              </td>\r\n                                              <td className=\"xsm-text text-capitalize align-middle text-center\">\r\n                                                <input\r\n                                                  type=\"number\"\r\n                                                  step=\"0.01\"\r\n                                                  min=\"0\"\r\n                                                  className=\"form-control text-center\"\r\n                                                  id={ingredientItem.id}\r\n                                                  name={ingredientItem.id}\r\n                                                  onChange={handleChangeRate}\r\n                                                  value={\r\n                                                    ingredientItem.rate !== 0\r\n                                                      ? ingredientItem.rate\r\n                                                      : \"\"\r\n                                                  }\r\n                                                  placeholder=\"Price in usd\"\r\n                                                  required\r\n                                                />\r\n                                              </td>\r\n\r\n                                              <td className=\"xsm-text align-middle text-center\">\r\n                                                {currencySymbolLeft()}\r\n                                                {formatPrice(\r\n                                                  parseFloat(\r\n                                                    ingredientItem.rate\r\n                                                  ) *\r\n                                                    parseFloat(\r\n                                                      ingredientItem.qty\r\n                                                    )\r\n                                                )}\r\n                                                {currencySymbolRight()}\r\n                                              </td>\r\n                                            </tr>\r\n                                          );\r\n                                        }\r\n                                      )}\r\n                                    </tbody>\r\n                                    <tfoot className=\"align-middle\">\r\n                                      <tr>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          colSpan=\"3\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        ></th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Total Bill\"))}\r\n                                        </th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {currencySymbolLeft()}\r\n                                          {formatPrice(handleGetTotal())}\r\n                                          {currencySymbolRight()}\r\n                                        </th>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          colSpan=\"3\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        ></th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Paid\"))}\r\n                                        </th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          <input\r\n                                            type=\"number\"\r\n                                            step=\"0.01\"\r\n                                            min=\"0\"\r\n                                            className=\"form-control p-0 text-center\"\r\n                                            name=\"paid_amount\"\r\n                                            value={\r\n                                              purchaseGroup &&\r\n                                              purchaseGroup.paid_amount !== 0\r\n                                                ? purchaseGroup.paid_amount\r\n                                                : \"\"\r\n                                            }\r\n                                            onChange={handleChangeGroup}\r\n                                            placeholder=\"In usd\"\r\n                                            required\r\n                                          />\r\n                                        </th>\r\n                                      </tr>\r\n                                      <tr>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          colSpan=\"3\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        ></th>\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {_t(t(\"Due\"))}\r\n                                        </th>\r\n\r\n                                        <th\r\n                                          scope=\"col\"\r\n                                          className=\"sm-text text-capitalize align-middle text-center border-1 border\"\r\n                                        >\r\n                                          {currencySymbolLeft()}\r\n                                          {formatPrice(\r\n                                            handleGetTotal() -\r\n                                              (purchaseGroup &&\r\n                                              purchaseGroup.paid_amount !==\r\n                                                null &&\r\n                                              purchaseGroup.paid_amount !== \"\"\r\n                                                ? parseFloat(\r\n                                                    purchaseGroup.paid_amount\r\n                                                  )\r\n                                                : 0)\r\n                                          )}\r\n                                          {currencySymbolRight()}\r\n                                        </th>\r\n                                      </tr>\r\n                                    </tfoot>\r\n                                  </table>\r\n                                </div>\r\n                              ),\r\n                            ]}\r\n\r\n                            <div className=\"form-group mt-4 pb-2\">\r\n                              <div className=\"col-lg-12\">\r\n                                <button\r\n                                  className=\"btn btn-primary px-5\"\r\n                                  type=\"submit\"\r\n                                >\r\n                                  {_t(t(\"Save\"))}\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </form>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Rightbar contents end*/}\r\n          </div>\r\n        </div>\r\n      </main>\r\n      {/* main body ends */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FoodPurchaseEdit;\r\n"]},"metadata":{},"sourceType":"module"}